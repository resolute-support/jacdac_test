// meta={"simUrl":"https://trg-microbit.userpxt.io/---simulator","cdnUrl":"https://pxt.azureedge.net","version":"v1.8.34","target":"microbit","targetVersion":"5.0.12"}
// boardDefinition={"visual":"microbit","gpioPinBlocks":[["P0"],["P1"],["P2"],["P3"],["P4","P5","P6","P7"],["P8","P9","P10","P11","P12"],["P16"]],"gpioPinMap":{"P0":"P0","P1":"P1","P2":"P2","P3":"P3","P4":"P4","P5":"P5","P6":"P6","P7":"P7","P8":"P8","P9":"P9","P10":"P10","P11":"P11","P12":"P12","P13":"P13","P14":"P14","P15":"P15","P16":"P16","P19":"P19","P20":"P20"},"spiPins":{"MOSI":"P15","MISO":"P14","SCK":"P13"},"i2cPins":{"SDA":"P20","SCL":"P19"},"analogInPins":["P0","P1","P2","P3","P10"],"groundPins":["GND"],"threeVoltPins":["+3v3"],"attachPowerOnRight":true,"onboardComponents":["accelerometer","buttonpair","ledmatrix","speaker","bluetooth","thermometer","compass","builtinspeaker","microphone","logotouch","flashlog","v2"],"pinStyles":{"P0":"croc","P1":"croc","P2":"croc","GND":"croc","+3v3":"croc"},"marginWhenBreadboarding":[0,0,80,0]}
// total=1423968 new=91.01% cached=0.00% other=8.99%
(function (ectx) {
'use strict';
const runtime = ectx.runtime;
const oops = ectx.oops;
const doNothing = ectx.doNothing;
const pxsim = ectx.pxsim;
const globals = ectx.globals;
const maybeYield = ectx.maybeYield;
const setupDebugger = ectx.setupDebugger;
const isBreakFrame = ectx.isBreakFrame;
const breakpoint = ectx.breakpoint;
const trace = ectx.trace;
const checkStack = ectx.checkStack;
const leave = ectx.leave;
const checkResumeConsumed = ectx.checkResumeConsumed;
const setupResume = ectx.setupResume;
const setupLambda = ectx.setupLambda;
const checkSubtype = ectx.checkSubtype;
const failedCast = ectx.failedCast;
const buildResume = ectx.buildResume;
const mkVTable = ectx.mkVTable;
const bind = ectx.bind;
const leaveAccessor = ectx.leaveAccessor;
const __this = runtime;
const pxtrt = pxsim.pxtrt;
let yieldSteps = 1;
ectx.setupYield(function() { yieldSteps = 100; })
pxsim.setTitle("jacdac-microbit-jukebox");
pxsim.setConfigData({}, {});
pxtrt.mapKeyNames = [
 "",
 "_active",
 "_actualBrightness",
 "_analog",
 "_angle",
 "_attach",
 "_autoShow",
 "_autoShowUnsub",
 "_barGraphHigh",
 "_barGraphHighLast",
 "_brightness",
 "_buttonsAvailable",
 "_clicker",
 "_clicksPerTurn",
 "_data",
 "_destroy",
 "_detach",
 "_device",
 "_dirty",
 "_distanceError",
 "_enabled",
 "_eventCounter",
 "_forcesError",
 "_handled",
 "_header",
 "_holdDuration",
 "_humidityError",
 "_intensity",
 "_lastListenerTime",
 "_ledsPerPixel",
 "_length",
 "_lightLevelError",
 "_localPixels",
 "_localTime",
 "_luminousIntensity",
 "_maxAngle",
 "_maxForce",
 "_maxForcesSupported",
 "_maxHumidity",
 "_maxPower",
 "_maxPulse",
 "_maxRange",
 "_maxSwitchingCurrent",
 "_maxTemperature",
 "_minAngle",
 "_minHumidity",
 "_minPulse",
 "_minRange",
 "_minTemperature",
 "_myDevice",
 "_numColumns",
 "_numPixels",
 "_offset",
 "_oldBindingsHash",
 "_patterns",
 "_pixels",
 "_pressed",
 "_pressureError",
 "_reading",
 "_refreshing",
 "_registeredEvents",
 "_responseSpeed",
 "_role",
 "_score",
 "_sendCmd",
 "_sendCmdId",
 "_sendCore",
 "_sendReport",
 "_sendWithAck",
 "_shortId",
 "_stallTorque",
 "_statusCode",
 "_statusVendorCode",
 "_streamingInterval",
 "_streamingSamples",
 "_temperatureError",
 "_value",
 "_variant",
 "_waveLength",
 "active",
 "add",
 "addListenerInternal",
 "addRegister",
 "addServer",
 "advertisementData",
 "allClients",
 "announceCallback",
 "announceflags",
 "attachClient",
 "autoBind",
 "autoBindCnt",
 "background",
 "bindRoles",
 "bindingHash",
 "bindings",
 "boundToDev",
 "boundToServiceIdx",
 "broadcast",
 "c0",
 "calibrate",
 "checkChanges",
 "checkSamples",
 "clearAttachCache",
 "clicksPerTurn",
 "clients",
 "close",
 "code",
 "condition",
 "config",
 "constants",
 "controlServer",
 "crc",
 "currentDuration",
 "currentOctave",
 "currentPos",
 "data",
 "destroy",
 "destroyClient",
 "detachClient",
 "device",
 "deviceId",
 "deviceIdentifier",
 "devices",
 "digitalRead",
 "digitalWrite",
 "disableBrain",
 "disableLogger",
 "disableRoleManager",
 "distance",
 "div",
 "doCalibrate",
 "duration",
 "effect",
 "eid",
 "emit",
 "endFrequency",
 "endVolume",
 "eventCode",
 "eventCounter",
 "eventId",
 "eventSource",
 "flags",
 "fmt",
 "fp",
 "frequency",
 "from",
 "fromBinary",
 "fromFrameless",
 "fullyBound",
 "fx",
 "fxParam",
 "fxnSteps",
 "gcDevices",
 "getNumber",
 "getValue",
 "handleCalibrateCommand",
 "handleConnected",
 "handleEvent",
 "handleFloodPing",
 "handleInstanceName",
 "handleIntensity",
 "handlePacket",
 "handlePacketOuter",
 "handleRegBool",
 "handleRegFormat",
 "handleRegValue",
 "handleStatusCode",
 "handleValue",
 "handleVariant",
 "handled",
 "handler",
 "hasListener",
 "hasNextNote",
 "hasService",
 "hasValues",
 "host",
 "humidity",
 "icon",
 "instanceName",
 "intData",
 "intensity",
 "intensityPackFormat",
 "interpolation",
 "isArray",
 "isBrain",
 "isClient",
 "isCommand",
 "isConst",
 "isEvent",
 "isRegGet",
 "isRegSet",
 "isReport",
 "isStreaming",
 "jdpacked",
 "jdunpack",
 "key",
 "lastQuery",
 "lastReport",
 "lastSample",
 "lastSeen",
 "lightLevel",
 "listenerCount",
 "listeners",
 "log",
 "lookupQuery",
 "markHandled",
 "matchesRoleAt",
 "maxAngle",
 "melodyArray",
 "minAngle",
 "minPriority",
 "mkEventCmd",
 "multicommandClass",
 "nextCnt",
 "nextNote",
 "nextRetry",
 "nfmt",
 "nfmt2",
 "noWait",
 "notImplemented",
 "notes",
 "numPixels",
 "numTries",
 "on",
 "onClient",
 "onControlEvent",
 "onDistanceChangedBy",
 "onDown",
 "onFaceDown",
 "onFaceUp",
 "onHold",
 "onHumidityChangedBy",
 "onLightLevelChangedBy",
 "onOff",
 "onPositionChanged",
 "onPositionChangedBy",
 "onPressureChangedBy",
 "onReadingChangedBy",
 "onStateChanged",
 "onStrengthChangedBy",
 "onTemperatureChangedBy",
 "onTiltDown",
 "onTiltLeft",
 "onTiltRight",
 "onTiltUp",
 "onUp",
 "once",
 "onlyHeader",
 "packFormat",
 "packetFlags",
 "parent",
 "parse",
 "pauseUntilValues",
 "pkt",
 "pkts",
 "play",
 "playTone",
 "playUntilDone",
 "port",
 "position",
 "possiblyNotImplemented",
 "pressure",
 "processPacket",
 "proxyMode",
 "queries",
 "query",
 "queueAnnounce",
 "raiseEvent",
 "reading",
 "reattach",
 "refresh",
 "refreshLoop",
 "reg",
 "regCode",
 "registerEvent",
 "registers",
 "removeListenerInternal",
 "repeating",
 "requiresAck",
 "resend",
 "reset",
 "resetIn",
 "respondForEach",
 "restartCounter",
 "role",
 "roleName",
 "roleQuery",
 "rotate",
 "running",
 "samples",
 "samplesExpiration",
 "score",
 "scoreFor",
 "select",
 "selfDevice",
 "send",
 "sendAsMultiCommand",
 "sendChangeEvent",
 "sendCommand",
 "sendEvent",
 "sendReport",
 "sendSet",
 "sendUptime",
 "servers",
 "service",
 "serviceClass",
 "serviceClassAt",
 "serviceClassLength",
 "serviceCommand",
 "serviceIdx",
 "serviceIndex",
 "serviceOffset",
 "serviceOffsetAt",
 "services",
 "setActive",
 "setAngle",
 "setBrightness",
 "setDirty",
 "setEnabled",
 "setPatterns",
 "setPixelColor",
 "setPull",
 "setReg",
 "setRegBuffer",
 "setStatusCode",
 "setStreaming",
 "setValue",
 "shape",
 "shortId",
 "show",
 "showNumber",
 "showString",
 "size",
 "src",
 "srcId",
 "start",
 "startAutoShow",
 "startClient",
 "startRefresh",
 "startVolume",
 "started",
 "stateUpdated",
 "statusCode",
 "steps",
 "stopAutoShow",
 "strength",
 "subscribe",
 "subscribeRefresh",
 "supressLog",
 "systemActive",
 "temperature",
 "timeOut",
 "timestamp",
 "toString",
 "tone",
 "unattachedClients",
 "updateQueue",
 "updateSamples",
 "value",
 "valuePackFormat",
 "values",
 "variant",
 "vibrate",
 "vibrateMulti",
 "vid",
 "volume",
 "wave",
 "waveShape",
 "withFrameStripped",
 "word",
 "write",
 "writeAndClose",
 "writeEx",
 "x",
 "y"
];
__this.setupPerfCounters([]);
const pxsim_Array__getAt = pxsim.Array_.getAt;
const pxsim_Array__length = pxsim.Array_.length;
const pxsim_Array__mk = pxsim.Array_.mk;
const pxsim_Array__push = pxsim.Array_.push;
const pxsim_Boolean__bang = pxsim.Boolean_.bang;
const pxsim_String__concat = pxsim.String_.concat;
const pxsim_String__stringConv = pxsim.String_.stringConv;
const pxsim_numops_toBool = pxsim.numops.toBool;
const pxsim_numops_toBoolDecr = pxsim.numops.toBoolDecr;
const pxsim_pxtcore_mkAction = pxsim.pxtcore.mkAction;
const pxsim_pxtcore_mkClassInstance = pxsim.pxtcore.mkClassInstance;
const pxsim_pxtrt_ldlocRef = pxsim.pxtrt.ldlocRef;
const pxsim_pxtrt_mapGetByString = pxsim.pxtrt.mapGetByString;
const pxsim_pxtrt_stclo = pxsim.pxtrt.stclo;
const pxsim_pxtrt_stlocRef = pxsim.pxtrt.stlocRef;
const pxsim_Boolean_ = pxsim.Boolean_;
const pxsim_pxtcore = pxsim.pxtcore;
const pxsim_String_ = pxsim.String_;
const pxsim_ImageMethods = pxsim.ImageMethods;
const pxsim_Array_ = pxsim.Array_;
const pxsim_pxtrt = pxsim.pxtrt;
const pxsim_numops = pxsim.numops;


function _main___P4664(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    globals._evSource___4724 = (32768);
    globals._intervals___4726 = (undefined);
    globals.minPriority___2376 = (1);
    globals.barGraphHigh___4761 = (0);
    globals.barGraphHighLast___4763 = (0);
    globals.barGraphToConsole___2452 = (true);
    globals.beatsPerMinute___4768 = (120);
    globals.freqs___4770 = (_hex4769);
    globals._pollEventQueue___4808 = (undefined);
    r0 = pxsim_pxtcore_mkClassInstance(SoundExpression__C2692_VT);
    s.tmp_0 = r0;
    s.tmp_1 = SoundExpression_constructor__P2693_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = "happy";
    s.callLocIdx = 87; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    globals.happy___2717 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(SoundExpression__C2692_VT);
    s.tmp_0 = r0;
    s.tmp_1 = SoundExpression_constructor__P2693_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = "sad";
    s.callLocIdx = 88; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    globals.sad___2720 = (s.tmp_0);
    globals.RUN_KEY___4841 = ("#run");
    globals.SCOPE_KEY___4842 = ("#scope");
    s.tmp_0 = settings_initScopes__P4853_mk(s);
    s.callLocIdx = 152; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    globals.identifyAnimationRunning___2829 = (false);
    globals.proxyMode___2832 = (false);
    s.tmp_0 = initPlatform__P2834_mk(s);
    s.callLocIdx = 177; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    globals.StreamingSamples___3026 = ("u8");
    globals.StreamingInterval___3027 = ("u32");
    globals.StatusCode___3039 = ("u16 u16");
    globals.InstanceName___3040 = ("s");
    globals.CommandNotImplemented___3053 = ("u16 u16");
    globals.DeviceDescription___3131 = ("s");
    globals.ProductIdentifier___3132 = ("u32");
    globals.FirmwareVersion___3134 = ("s");
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_LoggerServer__C3167_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_LoggerServer_constructor__P3169_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 319; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    globals.loggerServer___3176 = (s.tmp_0);
    globals.AllRolesAllocated___3270 = ("u8");
    globals.roleSettingPrefix___5011 = ("#jdr:");
    r0 = pxsim_pxtcore_mkClassInstance(jacdac__rolemgr_RoleManagerServer__C3287_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac__rolemgr_RoleManagerServer_constructor__P3289_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 428; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    globals.roleManagerServer___3293 = (s.tmp_0);
    globals.CHANGE___3390 = ("change");
    globals.CONNECT___3391 = ("connect");
    globals.DISCONNECT___3392 = ("disconnect");
    globals.DEVICE_CONNECT___3393 = ("deviceConnect");
    globals.DEVICE_DISCONNECT___3394 = ("deviceDisconnect");
    globals.DEVICE_CHANGE___3395 = ("deviceChange");
    globals.DEVICE_ANNOUNCE___3396 = ("deviceAnnounce");
    globals.SELF_ANNOUNCE___3397 = ("selfAnnounce");
    globals.PACKET_PROCESS___3398 = ("packetProcess");
    globals.REPORT_RECEIVE___3399 = ("reportReceive");
    globals.REPORT_UPDATE___3400 = ("reportUpdate");
    globals.RESTART___3401 = ("restart");
    globals.PACKET_RECEIVE___3402 = ("packetReceive");
    globals.EVENT___3403 = ("packetEvent");
    globals.STATUS_EVENT___3404 = ("statusEvent");
    globals.IDENTIFY___3405 = ("identify");
    globals.REFRESH___3406 = ("refresh");
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Bus__C3408_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_Bus_constructor__P3414_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 524; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    globals.bus___3430 = (s.tmp_0);
    globals.logPriority___3431 = (0);
    globals.JACDAC_PROXY_SETTING___3557 = ("__jacdac_proxy");
    globals.JACDAC_PROXY_SETTING_LATE___3558 = ("__jacdac_proxy_late");
    s.tmp_0 = jacdac___physStart__P2819_mk(s);
    s.callLocIdx = 869; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = jacdac_setLed__P3565_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 870; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.onPlatformStart___3386);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = globals.onPlatformStart___3386;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 871; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = jacdac_startProxy__P5086_mk(s);
    s.callLocIdx = 872; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = jacdac_inline__P5095;
    s.callLocIdx = 874; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    globals.ERROR___3573 = ("error");
    globals.VERSION___3585 = ("v1.8.34");
    globals.Forces___3594 = ("i12.20 i12.20 i12.20");
    globals.ForcesError___3595 = ("u12.20");
    globals.MaxForce___3596 = ("u12.20");
    globals.MaxForcesSupported___3597 = ("r: u12.20");
    globals.Pressure___3641 = ("u22.10");
    globals.PressureError___3642 = ("u22.10");
    globals.Enabled___3657 = ("u8");
    globals.Patterns___3658 = ("s");
    globals.Length___3659 = ("u8");
    globals.Analog___3681 = ("u8");
    globals.Distance___3735 = ("u16.16");
    globals.DistanceError___3736 = ("u16.16");
    globals.MinRange___3737 = ("u16.16");
    globals.MaxRange___3738 = ("u16.16");
    globals.Variant___3739 = ("u8");
    globals.Variant___3791 = ("u8");
    globals.ButtonsAvailable___3792 = ("u32");
    globals.Key___3960 = ("r: u16 u8 u8");
    globals.Humidity___4133 = ("u22.10");
    globals.HumidityError___4134 = ("u22.10");
    globals.MinHumidity___4135 = ("u22.10");
    globals.MaxHumidity___4136 = ("u22.10");
    globals.Pixels___4217 = ("b");
    globals.Brightness___4218 = ("u0.8");
    globals.ActualBrightness___4219 = ("u0.8");
    globals.NumPixels___4220 = ("u16");
    globals.NumColumns___4221 = ("u16");
    globals.MaxPower___4222 = ("u16");
    globals.LedsPerPixel___4223 = ("u16");
    globals.WaveLength___4224 = ("u16");
    globals.LuminousIntensity___4225 = ("u16");
    globals.Variant___4226 = ("u8");
    globals.LightLevel___4337 = ("u0.16");
    globals.LightLevelError___4338 = ("u0.16");
    globals.Variant___4339 = ("u8");
    globals.Strength___4363 = ("i1.15");
    globals.Variant___4365 = ("u8");
    globals.Position___4390 = ("u0.16");
    globals.Variant___4391 = ("u8");
    globals.Active___4411 = ("u8");
    globals.Variant___4412 = ("u8");
    globals.MaxSwitchingCurrent___4413 = ("u32");
    globals.Position___4429 = ("i32");
    globals.ClicksPerTurn___4430 = ("u16");
    globals.Clicker___4431 = ("u8");
    globals.Angle___4454 = ("i16.16");
    globals.Enabled___4455 = ("u8");
    globals.Offset___4456 = ("i16.16");
    globals.MinAngle___4457 = ("i16.16");
    globals.MinPulse___4458 = ("u16");
    globals.MaxAngle___4459 = ("i16.16");
    globals.MaxPulse___4460 = ("u16");
    globals.StallTorque___4461 = ("u16.16");
    globals.ResponseSpeed___4462 = ("u16.16");
    globals.ActualAngle___4463 = ("i16.16");
    globals.Active___4499 = ("u8");
    globals.Variant___4500 = ("u8");
    globals.Temperature___4527 = ("i22.10");
    globals.MinTemperature___4528 = ("i22.10");
    globals.MaxTemperature___4529 = ("i22.10");
    globals.TemperatureError___4530 = ("u22.10");
    globals.Variant___4531 = ("u8");
    globals.Vibrate___4547 = ("r: u8 u0.8");
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_0);
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, 0);
    r0 = pxsim_Array__push(s.tmp_2, 1);
    r0 = pxsim_Array__push(s.tmp_2, 0);
    r0 = pxsim_Array__push(s.tmp_2, 1);
    r0 = pxsim_Array__push(s.tmp_2, 0);
    r0 = pxsim_Array__push(s.tmp_2, 1);
    r0 = pxsim_Array__push(s.tmp_2, 0);
    r0 = pxsim_Array__push(s.tmp_2, 1);
    r0 = pxsim_Array__push(s.tmp_2, 0);
    r0 = pxsim_Array__push(s.tmp_2, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 0);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 0);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_3, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_3);
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 0);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 0);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_4, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_4);
    r0 = pxsim_Array__mk();
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_5, 0);
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_5, 0);
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_5, 0);
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_5, 0);
    r0 = pxsim_Array__push(s.tmp_5, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_5);
    r0 = pxsim_Array__mk();
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 0);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 0);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_6, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_6);
    r0 = pxsim_Array__mk();
    s.tmp_7 = r0;
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 0);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_7, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_7);
    r0 = pxsim_Array__mk();
    s.tmp_8 = r0;
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_8, 0);
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_8, 0);
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_8, 0);
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_8, 0);
    r0 = pxsim_Array__push(s.tmp_8, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_8);
    r0 = pxsim_Array__mk();
    s.tmp_9 = r0;
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 0);
    r0 = pxsim_Array__push(s.tmp_9, 0);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_9, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_9);
    r0 = pxsim_Array__mk();
    s.tmp_10 = r0;
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 0);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_10, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_10);
    globals.FONT___5362 = (s.tmp_1);
    globals.img___5364 = (null);
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));
    globals.img___5364 = (r0);
    globals.productIdentifier___3387 = (1035770297);
    r0 = pxsim.music.setVolume(100);
    s.tmp_0 = music_setTempo__P2544_mk(s);
    s.tmp_0.arg0 = 180;
    s.callLocIdx = 1073; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    globals.firmwareVersion___3388 = (globals.VERSION___3585);
    globals.EVENT_A___4641 = ("event_a");
    globals.EVENT_B___4642 = ("event_b");
    globals.EVENT_AB___4643 = ("event_ab");
    globals.EVENT_TONE___4644 = ("event_tone");
    globals.VALUE_CHANGE___4645 = ("value_change");
    r0 = pxsim_pxtcore_mkClassInstance(machine_MicrobitMachine__C5375_VT);
    s.tmp_0 = r0;
    s.tmp_1 = machine_MicrobitMachine_constructor__P5380_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1084; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    globals.microbit___4646 = (s.tmp_0);
    r0 = pxsim_Array__mk();
    globals.numbersToShow___5389 = (r0);
    globals.lastDeviceCount___5392 = (0);
    globals.playDeviceCountScheduled___5394 = (false);
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.DEVICE_ANNOUNCE___3396;
    s.tmp_0.arg2 = machine_schedulePlayDeviceCount__P5395;
    s.callLocIdx = 1114; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.DEVICE_DISCONNECT___3394;
    s.tmp_0.arg2 = machine_schedulePlayDeviceCount__P5395;
    s.callLocIdx = 1115; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    globals.factories___5408 = (r0);
    s.tmp_0 = machine_start__P5412_mk(s);
    s.callLocIdx = 1139; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 521405449;
    s.tmp_0.arg1 = inline__P5416;
    s.callLocIdx = 1153; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 504462570;
    s.tmp_0.arg1 = inline__P5464;
    s.callLocIdx = 1158; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 331331532;
    s.tmp_0.arg1 = inline__P5483;
    s.callLocIdx = 1162; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 458731991;
    s.tmp_0.arg1 = inline__P5512;
    s.callLocIdx = 1166; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 1);
    r0 = pxsim_Array__push(s.tmp_0, 4);
    r0 = pxsim_Array__push(s.tmp_0, 36);
    r0 = pxsim_Array__push(s.tmp_0, 29);
    r0 = pxsim_Array__push(s.tmp_0, 38);
    r0 = pxsim_Array__push(s.tmp_0, 30);
    r0 = pxsim_Array__push(s.tmp_0, 10);
    r0 = pxsim_Array__push(s.tmp_0, 17);
    globals.buttonDownIcons___4658 = (s.tmp_0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 8);
    r0 = pxsim_Array__push(s.tmp_0, 35);
    r0 = pxsim_Array__push(s.tmp_0, 28);
    r0 = pxsim_Array__push(s.tmp_0, 37);
    r0 = pxsim_Array__push(s.tmp_0, 31);
    r0 = pxsim_Array__push(s.tmp_0, 9);
    r0 = pxsim_Array__push(s.tmp_0, 18);
    globals.buttonHoldIcons___4659 = (s.tmp_0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 262);
    r0 = pxsim_Array__push(s.tmp_0, 294);
    r0 = pxsim_Array__push(s.tmp_0, 330);
    r0 = pxsim_Array__push(s.tmp_0, 349);
    r0 = pxsim_Array__push(s.tmp_0, 392);
    r0 = pxsim_Array__push(s.tmp_0, 440);
    r0 = pxsim_Array__push(s.tmp_0, 494);
    r0 = pxsim_Array__push(s.tmp_0, 523);
    globals.buttonNotes___4660 = (s.tmp_0);
    globals.buttonIndex___4661 = (0);
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 343122531;
    s.tmp_0.arg1 = inline__P5568;
    s.callLocIdx = 1174; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 277836886;
    s.tmp_0.arg1 = inline__P5633;
    s.callLocIdx = 1180; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 382210232;
    s.tmp_0.arg1 = inline__P5654;
    s.callLocIdx = 1185; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 16711680);
    r0 = pxsim_Array__push(s.tmp_0, 65280);
    r0 = pxsim_Array__push(s.tmp_0, 255);
    globals.pattern___4663 = (s.tmp_0);
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 369743088;
    s.tmp_0.arg1 = inline__P5677;
    s.callLocIdx = 1197; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 522667846;
    s.tmp_0.arg1 = inline__P5755;
    s.callLocIdx = 1203; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 318642191;
    s.tmp_0.arg1 = inline__P5788;
    s.callLocIdx = 1208; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 400333340;
    s.tmp_0.arg1 = inline__P5809;
    s.callLocIdx = 1213; s.pc = 30; return s.tmp_0;
  case 30:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 406840918;
    s.tmp_0.arg1 = inline__P5835;
    s.callLocIdx = 1222; s.pc = 31; return s.tmp_0;
  case 31:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 284830153;
    s.tmp_0.arg1 = inline__P5876;
    s.callLocIdx = 1230; s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 318542083;
    s.tmp_0.arg1 = inline__P5930;
    s.callLocIdx = 1238; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 450008066;
    s.tmp_0.arg1 = inline__P5978;
    s.callLocIdx = 1244; s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 337754823;
    s.tmp_0.arg1 = inline__P6006;
    s.callLocIdx = 1249; s.pc = 35; return s.tmp_0;
  case 35:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 337275786;
    s.tmp_0.arg1 = inline__P6034;
    s.callLocIdx = 1255; s.pc = 36; return s.tmp_0;
  case 36:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 406832290;
    s.tmp_0.arg1 = inline__P6060;
    s.callLocIdx = 1268; s.pc = 37; return s.tmp_0;
  case 37:
    r0 = s.retval;
    s.tmp_0 = machine_addClientFactory__P4657_mk(s);
    s.tmp_0.arg0 = 414210922;
    s.tmp_0.arg1 = inline__P6125;
    s.callLocIdx = 1276; s.pc = 38; return s.tmp_0;
  case 38:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
_main___P4664.info = {"start":0,"length":0,"line":0,"column":0,"endLine":0,"endColumn":0,"fileName":"hidkeyboard.ts","functionName":"<main>","argumentNames":[]}
_main___P4664.continuations = [  ]

function _main___P4664_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: _main___P4664, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
} }

const _hex4769 = pxsim.BufferMethods.createBufferFromHex("1f00210023002500270029002c002e003100340037003a003e004100450049004e00520057005c00620068006e0075007b0083008b0093009c00a500af00b900c400d000dc00e900f70006011501260137014a015d01720188019f01b801d201ee010b022a024b026e029302ba02e40210033f037003a403dc03170455049704dd0427057505c80520067d06e0064907b8072d08a9082d09b9094d0aea0a900b400cfa0cc00d910e6f0f5a1053115b1272139a14d41520178018f519801b231dde1e")




function jacdac_inline__P5095(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_start__P3559_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 873; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_inline__P5095.info = {"start":67640,"length":13,"line":2038,"column":26,"endLine":2038,"endColumn":39,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_inline__P5095_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_inline__P5095, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5416(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5419 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_AccelerometerClient__C3612_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_AccelerometerClient_constructor__P3613_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1140; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5419 = (s.tmp_0);
    s.tmp_0 = modules_AccelerometerClient_onFaceDown__P3627_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5433;
    s.callLocIdx = 1142; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = modules_AccelerometerClient_onFaceUp__P3626_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5438;
    s.callLocIdx = 1144; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = modules_AccelerometerClient_onTiltLeft__P3624_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5443;
    s.callLocIdx = 1146; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = modules_AccelerometerClient_onTiltRight__P3625_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5448;
    s.callLocIdx = 1148; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = modules_AccelerometerClient_onTiltUp__P3622_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5453;
    s.callLocIdx = 1150; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = modules_AccelerometerClient_onTiltDown__P3623_mk(s);
    s.tmp_0.arg0 = s.client___5419;
    s.tmp_0.arg1 = inline__P5458;
    s.callLocIdx = 1152; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = s.client___5419;
    return leave(s, r0)
  default: oops()
} } }
inline__P5416.info = {"start":51,"length":480,"line":0,"column":51,"endLine":9,"endColumn":1,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":["devid","srvi"]}

function inline__P5416_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5416, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5419: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5433(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 5;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1141; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5433.info = {"start":163,"length":37,"line":2,"column":22,"endLine":2,"endColumn":59,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5433_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5433, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5438(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 4;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1143; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5438.info = {"start":222,"length":39,"line":3,"column":20,"endLine":3,"endColumn":59,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5438_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5438, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5443(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showArrow__P2280_mk(s);
    s.tmp_0.arg0 = 6;
    s.tmp_0.arg1 = 600;
    s.callLocIdx = 1145; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5443.info = {"start":285,"length":38,"line":4,"column":22,"endLine":4,"endColumn":60,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5443_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5443, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5448(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showArrow__P2280_mk(s);
    s.tmp_0.arg0 = 2;
    s.tmp_0.arg1 = 600;
    s.callLocIdx = 1147; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5448.info = {"start":348,"length":38,"line":5,"column":23,"endLine":5,"endColumn":61,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5448_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5448, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5453(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showArrow__P2280_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 600;
    s.callLocIdx = 1149; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5453.info = {"start":408,"length":39,"line":6,"column":20,"endLine":6,"endColumn":59,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5453_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5453, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5458(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showArrow__P2280_mk(s);
    s.tmp_0.arg0 = 4;
    s.tmp_0.arg1 = 600;
    s.callLocIdx = 1151; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5458.info = {"start":471,"length":39,"line":7,"column":22,"endLine":7,"endColumn":61,"fileName":"accelerometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5458_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5458, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5464(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5466 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_AirPressureClient__C3644_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_AirPressureClient_constructor__P3645_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1154; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5466 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5472);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5466);
    s.tmp_1 = modules_AirPressureClient_onPressureChangedBy__P3648_mk(s);
    s.tmp_1.arg0 = s.client___5466;
    s.tmp_1.arg1 = 5;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1157; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.client___5466;
    return leave(s, r0)
  default: oops()
} } }
inline__P5464.info = {"start":50,"length":235,"line":0,"column":50,"endLine":7,"endColumn":1,"fileName":"airpressure.ts","functionName":"inline","argumentNames":["devid"]}

function inline__P5464_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5464, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  client___5466: undefined,
  arg0: undefined,
} }





function inline__P5472(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.reading___5473 = undefined;
    s.tmp_0 = modules_AirPressureClient_pressure__P3646_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1155; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.reading___5473 = (r0);
    s.tmp_0 = machine_showNumber__P4653_mk(s);
    s.tmp_0.arg0 = 34;
    s.tmp_0.arg1 = s.reading___5473;
    s.callLocIdx = 1156; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5472.info = {"start":151,"length":113,"line":2,"column":34,"endLine":5,"endColumn":5,"fileName":"airpressure.ts","functionName":"inline","argumentNames":[]}

function inline__P5472_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5472, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  reading___5473: undefined,
} }





function inline__P5483(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5486 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_BrailleDisplayClient__C3662_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_BrailleDisplayClient_constructor__P3663_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1159; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5486 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5503);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5486);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5486;
    s.tmp_1.arg2 = globals.VALUE_CHANGE___4645;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1161; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___5486;
    return leave(s, r0)
  default: oops()
} } }
inline__P5483.info = {"start":53,"length":235,"line":0,"column":53,"endLine":6,"endColumn":1,"fileName":"brailledisplay.ts","functionName":"inline","argumentNames":["devid","srvi"]}

function inline__P5483_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5483, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5486: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5503(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = modules_BrailleDisplayClient_showNumber__P3665_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    r0 = (s.arg0 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1160; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5503.info = {"start":204,"length":63,"line":2,"column":60,"endLine":4,"endColumn":5,"fileName":"brailledisplay.ts","functionName":"inline","argumentNames":["value"]}

function inline__P5503_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5503, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P5512(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5515 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_BuzzerClient__C3717_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_BuzzerClient_constructor__P3718_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1163; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5515 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5532);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5515);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5515;
    s.tmp_1.arg2 = globals.EVENT_TONE___4644;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1165; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___5515;
    return leave(s, r0)
  default: oops()
} } }
inline__P5512.info = {"start":44,"length":255,"line":0,"column":44,"endLine":7,"endColumn":1,"fileName":"buzzer.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P5512_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5512, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5515: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5532(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tone___5533 = undefined;
    r0 = globals.microbit___4646.fields["tone"];
    s.tone___5533 = (r0);
    s.tmp_0 = modules_BuzzerClient_playTone__P3719_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.tone___5533;
    s.tmp_0.arg2 = 100;
    s.tmp_0.arg3 = 255;
    s.callLocIdx = 1164; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5532.info = {"start":187,"length":91,"line":2,"column":58,"endLine":5,"endColumn":5,"fileName":"buzzer.ts","functionName":"inline","argumentNames":[]}

function inline__P5532_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5532, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tone___5533: undefined,
} }





function inline__P5568(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.bi___5572 = undefined;
    s.down___5576 = undefined;
    s.hold___5584 = undefined;
    s.tone___5592 = undefined;
    s.client___5600 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = globals.buttonIndex___4661;
    r0 = (s.tmp_0 + 1);
    globals.buttonIndex___4661 = (r0);
    s.bi___5572 = (s.tmp_0);
    s.tmp_0 = r0 = globals.buttonDownIcons___4658;
    s.tmp_2 = r0 = s.bi___5572;
    r0 = pxsim_Array__length(globals.buttonDownIcons___4658);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 % s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.down___5576 = (r0);
    s.tmp_0 = r0 = globals.buttonHoldIcons___4659;
    s.tmp_2 = r0 = s.bi___5572;
    r0 = pxsim_Array__length(globals.buttonHoldIcons___4659);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 % s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.hold___5584 = (r0);
    s.tmp_0 = r0 = globals.buttonNotes___4660;
    s.tmp_2 = r0 = s.bi___5572;
    r0 = pxsim_Array__length(globals.buttonNotes___4660);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 % s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.tone___5592 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(modules_ButtonClient__C3691_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_ButtonClient_constructor__P3692_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1167; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5600 = (s.tmp_0);
    s.tmp_0 = modules_ButtonClient_onUp__P3700_mk(s);
    s.tmp_0.arg0 = s.client___5600;
    s.tmp_0.arg1 = inline__P5614;
    s.callLocIdx = 1168; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(3, inline__P5619);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.down___5576);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.tone___5592);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg2);
    s.tmp_1 = modules_ButtonClient_onDown__P3699_mk(s);
    s.tmp_1.arg0 = s.client___5600;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1171; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5627);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.hold___5584);
    s.tmp_1 = modules_ButtonClient_onHold__P3701_mk(s);
    s.tmp_1.arg0 = s.client___5600;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1173; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = s.client___5600;
    return leave(s, r0)
  default: oops()
} } }
inline__P5568.info = {"start":625,"length":571,"line":31,"column":44,"endLine":49,"endColumn":1,"fileName":"button.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P5568_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5568, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  bi___5572: undefined,
  down___5576: undefined,
  hold___5584: undefined,
  tone___5592: undefined,
  client___5600: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P5614(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.basic.clearScreen();
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5614.info = {"start":960,"length":41,"line":38,"column":16,"endLine":40,"endColumn":5,"fileName":"button.ts","functionName":"inline","argumentNames":[]}

function inline__P5614_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5614, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P5619(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1169; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = machine_scheduleTone__P4648_mk(s);
    s.tmp_0.arg0 = s.caps[1];
    s.tmp_0.arg1 = s.caps[2];
    s.callLocIdx = 1170; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5619.info = {"start":1021,"length":89,"line":41,"column":18,"endLine":44,"endColumn":5,"fileName":"button.ts","functionName":"inline","argumentNames":[]}

function inline__P5619_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5619, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5627(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1172; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5627.info = {"start":1130,"length":45,"line":45,"column":18,"endLine":47,"endColumn":5,"fileName":"button.ts","functionName":"inline","argumentNames":[]}

function inline__P5627_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5627, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5633(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5635 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_GamepadClient__C3798_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_GamepadClient_constructor__P3799_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1175; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5635 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5641);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5635);
    s.tmp_1 = jacdac_SensorClient_onStateChanged__P3228_mk(s);
    s.tmp_1.arg0 = s.client___5635;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1179; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.client___5635;
    return leave(s, r0)
  default: oops()
} } }
inline__P5633.info = {"start":401,"length":309,"line":16,"column":45,"endLine":25,"endColumn":1,"fileName":"gamepad.ts","functionName":"inline","argumentNames":["devid"]}

function inline__P5633_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5633, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  client___5635: undefined,
  arg0: undefined,
} }





function inline__P5641(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = plot__P4662_mk(s);
    s.tmp_2 = modules_GamepadClient_x__P3801_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    s.callLocIdx = 1176; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 100);
    s.tmp_0.arg0 = r0;
    s.tmp_4 = modules_GamepadClient_y__P3802_mk(s);
    s.tmp_4.arg0 = s.caps[0];
    s.callLocIdx = 1177; s.pc = 3; return s.tmp_4;
  case 3:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 100);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1178; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5641.info = {"start":490,"length":199,"line":18,"column":26,"endLine":23,"endColumn":5,"fileName":"gamepad.ts","functionName":"inline","argumentNames":[]}

function inline__P5641_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5641, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P5654(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5656 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_HumidityClient__C4138_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_HumidityClient_constructor__P4139_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1181; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5656 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5662);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5656);
    s.tmp_1 = modules_HumidityClient_onHumidityChangedBy__P4144_mk(s);
    s.tmp_1.arg0 = s.client___5656;
    s.tmp_1.arg1 = 5;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1184; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.client___5656;
    return leave(s, r0)
  default: oops()
} } }
inline__P5654.info = {"start":46,"length":230,"line":0,"column":46,"endLine":7,"endColumn":1,"fileName":"humidity.ts","functionName":"inline","argumentNames":["devid"]}

function inline__P5654_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5654, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  client___5656: undefined,
  arg0: undefined,
} }





function inline__P5662(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.reading___5663 = undefined;
    s.tmp_0 = modules_HumidityClient_humidity__P4140_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1182; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.reading___5663 = (r0);
    s.tmp_0 = machine_showNumber__P4653_mk(s);
    s.tmp_0.arg0 = 24;
    s.tmp_0.arg1 = s.reading___5663;
    s.callLocIdx = 1183; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5662.info = {"start":144,"length":111,"line":2,"column":34,"endLine":5,"endColumn":5,"fileName":"humidity.ts","functionName":"inline","argumentNames":[]}

function inline__P5662_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5662, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  reading___5663: undefined,
} }





function inline__P5677(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5680 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_LedClient__C4228_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_LedClient_constructor__P4229_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1186; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5680 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5697);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5680);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5680;
    s.tmp_1.arg2 = globals.EVENT_A___4641;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1188; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5705);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5680);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5680;
    s.tmp_1.arg2 = globals.EVENT_B___4642;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1190; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5714);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5680);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5680;
    s.tmp_1.arg2 = globals.VALUE_CHANGE___4645;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1192; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5724);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5680);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5680;
    s.tmp_1.arg2 = globals.EVENT_AB___4643;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1195; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0 = modules_LedClient_setPixelColor__P4245_mk(s);
    s.tmp_0.arg0 = s.client___5680;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 65280;
    s.callLocIdx = 1196; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = s.client___5680;
    return leave(s, r0)
  default: oops()
} } }
inline__P5677.info = {"start":99,"length":756,"line":2,"column":41,"endLine":28,"endColumn":1,"fileName":"led.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P5677_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5677, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5680: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5697(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_LedClient_rotate__P4249_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 1;
    s.callLocIdx = 1187; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5697.info = {"start":237,"length":38,"line":5,"column":55,"endLine":7,"endColumn":5,"fileName":"led.ts","functionName":"inline","argumentNames":[]}

function inline__P5697_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5697, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5705(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_LedClient_rotate__P4249_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = -1;
    s.callLocIdx = 1189; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5705.info = {"start":333,"length":39,"line":9,"column":55,"endLine":11,"endColumn":5,"fileName":"led.ts","functionName":"inline","argumentNames":[]}

function inline__P5705_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5705, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5714(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = modules_LedClient_setBrightness__P4231_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1191; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5714.info = {"start":435,"length":62,"line":13,"column":60,"endLine":15,"endColumn":5,"fileName":"led.ts","functionName":"inline","argumentNames":["value"]}

function inline__P5714_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5714, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P5724(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numPixels___5725 = undefined;
    s.j___5729 = undefined;
    s.i___5730 = undefined;
    s.tmp_0 = modules_LedClient_numPixels__P4233_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1193; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.numPixels___5725 = (r0);
    s.j___5729 = (0);
    s.i___5730 = (0);
  case 1:
    r0 = (s.i___5730 < s.numPixels___5725);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = modules_LedClient_setPixelColor__P4245_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.tmp_1.arg1 = s.i___5730;
    r0 = pxsim_Array__getAt(globals.pattern___4663, s.j___5729);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 1194; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = (s.j___5729 + 1);
    s.j___5729 = (r0);
    s.tmp_1 = r0 = s.j___5729;
    r0 = pxsim_Array__length(globals.pattern___4663);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.j___5729 = (0);
  case 2:
  case 3:
    r0 = (s.i___5730 + 1);
    s.i___5730 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5724.info = {"start":556,"length":240,"line":17,"column":56,"endLine":25,"endColumn":5,"fileName":"led.ts","functionName":"inline","argumentNames":[]}

function inline__P5724_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5724, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  numPixels___5725: undefined,
  j___5729: undefined,
  i___5730: undefined,
} }





function inline__P5755(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5759 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_PotentiometerClient__C4393_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_PotentiometerClient_constructor__P4394_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1198; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5759 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P5773);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5759);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg2);
    s.tmp_1 = modules_PotentiometerClient_onPositionChangedBy__P4397_mk(s);
    s.tmp_1.arg0 = s.client___5759;
    s.tmp_1.arg1 = 5;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1202; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___5759;
    return leave(s, r0)
  default: oops()
} } }
inline__P5755.info = {"start":51,"length":316,"line":0,"column":51,"endLine":8,"endColumn":1,"fileName":"potentiometer.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P5755_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5755, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5759: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P5773(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.current___5774 = undefined;
    s.tmp_0 = modules_PotentiometerClient_position__P4395_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1199; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.current___5774 = (r0);
    s.tmp_0 = machine_plot__P4651_mk(s);
    s.tmp_0.arg0 = s.current___5774;
    s.tmp_0.arg1 = 100;
    s.tmp_0.arg2 = s.caps[1];
    s.callLocIdx = 1200; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.microbit___4646;
    s.tmp_0.arg1 = globals.VALUE_CHANGE___4645;
    s.tmp_0.arg2 = s.current___5774;
    s.callLocIdx = 1201; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5773.info = {"start":186,"length":160,"line":2,"column":34,"endLine":6,"endColumn":5,"fileName":"potentiometer.ts","functionName":"inline","argumentNames":[]}

function inline__P5773_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5773, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  current___5774: undefined,
} }





function inline__P5788(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5792 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_MagneticFieldLevelClient__C4370_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_MagneticFieldLevelClient_constructor__P4371_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1204; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5792 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P5798);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5792);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg2);
    s.tmp_1 = modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375_mk(s);
    s.tmp_1.arg0 = s.client___5792;
    s.tmp_1.arg1 = 5;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1207; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.client___5792;
    return leave(s, r0)
  default: oops()
} } }
inline__P5788.info = {"start":58,"length":242,"line":0,"column":58,"endLine":7,"endColumn":1,"fileName":"magneticfieldlevel.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P5788_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5788, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  client___5792: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P5798(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.value___5799 = undefined;
    s.tmp_0 = modules_MagneticFieldLevelClient_strength__P4372_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1205; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.value___5799 = (r0);
    s.tmp_0 = machine_plot__P4651_mk(s);
    s.tmp_0.arg0 = s.value___5799;
    s.tmp_0.arg1 = 100;
    s.tmp_0.arg2 = s.caps[1];
    s.callLocIdx = 1206; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5798.info = {"start":184,"length":95,"line":2,"column":34,"endLine":5,"endColumn":5,"fileName":"magneticfieldlevel.ts","functionName":"inline","argumentNames":[]}

function inline__P5798_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5798, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  value___5799: undefined,
} }





function inline__P5809(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5813 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_LightLevelClient__C4341_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_LightLevelClient_constructor__P4342_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1209; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5813 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P5827);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5813);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg2);
    s.tmp_1 = modules_LightLevelClient_onLightLevelChangedBy__P4346_mk(s);
    s.tmp_1.arg0 = s.client___5813;
    s.tmp_1.arg1 = 20;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1212; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___5813;
    return leave(s, r0)
  default: oops()
} } }
inline__P5809.info = {"start":49,"length":225,"line":0,"column":49,"endLine":6,"endColumn":1,"fileName":"lightlevel.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P5809_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5809, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5813: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P5827(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = machine_plot__P4651_mk(s);
    s.tmp_1 = modules_LightLevelClient_lightLevel__P4343_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.callLocIdx = 1210; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 100;
    s.tmp_0.arg2 = s.caps[1];
    s.callLocIdx = 1211; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5827.info = {"start":184,"length":69,"line":2,"column":37,"endLine":4,"endColumn":5,"fileName":"lightlevel.ts","functionName":"inline","argumentNames":[]}

function inline__P5827_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5827, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P5835(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5838 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_RelayClient__C4415_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_RelayClient_constructor__P4416_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1214; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5838 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5854);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5838);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5838;
    s.tmp_1.arg2 = globals.EVENT_AB___4643;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1221; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___5838;
    return leave(s, r0)
  default: oops()
} } }
inline__P5835.info = {"start":43,"length":470,"line":0,"column":43,"endLine":13,"endColumn":1,"fileName":"relay.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P5835_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5835, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5838: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5854(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.active___5855 = undefined;
    s.tmp_2 = modules_RelayClient_active__P4417_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    s.callLocIdx = 1215; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    s.active___5855 = (r0);
    s.tmp_0 = modules_RelayClient_setActive__P4418_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.active___5855;
    s.callLocIdx = 1216; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5864);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.active___5855);
    s.tmp_1 = control_runInBackground__P2296_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1220; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5854.info = {"start":183,"length":309,"line":2,"column":56,"endLine":11,"endColumn":5,"fileName":"relay.ts","functionName":"inline","argumentNames":[]}

function inline__P5854_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5854, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  active___5855: undefined,
} }





function inline__P5864(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = music_stopAllSounds__P2552_mk(s);
    s.callLocIdx = 1217; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = pxsim.led.stopAnimation();
    r0 = pxsim_numops_toBoolDecr(s.caps[0]);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 2;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1218; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 3;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1219; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5864.info = {"start":296,"length":189,"line":5,"column":32,"endLine":10,"endColumn":9,"fileName":"relay.ts","functionName":"inline","argumentNames":[]}

function inline__P5864_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5864, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P5876(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5880 = undefined;
    s.currentPosition___5892 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_RotaryEncoderClient__C4433_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_RotaryEncoderClient_constructor__P4434_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1223; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.client___5880 = (s.tmp_0);
    r0 = pxsim_pxtrt.mklocRef();
    s.currentPosition___5892 = (r0);
    s.tmp_0 = r0 = s.currentPosition___5892;
    s.tmp_2 = modules_RotaryEncoderClient_position__P4435_mk(s);
    s.tmp_2.arg0 = s.client___5880;
    s.callLocIdx = 1224; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_ldlocRef(s.currentPosition___5892);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.currentPosition___5892, 0);
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(3, inline__P5900);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5880);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.currentPosition___5892);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg2);
    s.tmp_1 = modules_RotaryEncoderClient_onPositionChanged__P4438_mk(s);
    s.tmp_1.arg0 = s.client___5880;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1229; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    r0 = s.client___5880;
    return leave(s, r0)
  default: oops()
} } }
inline__P5876.info = {"start":52,"length":599,"line":0,"column":52,"endLine":15,"endColumn":1,"fileName":"rotaryencoder.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P5876_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5876, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5880: undefined,
  currentPosition___5892: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P5900(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.clicks___5901 = undefined;
    s.newPosition___5907 = undefined;
    s.tmp_0 = modules_RotaryEncoderClient_clicksPerTurn__P4436_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1225; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.clicks___5901 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.clicks___5901);
    if (!r0) { step = 1; continue; }
    r0 = s.clicks___5901;
    { step = 2; continue; }
  case 1:
    r0 = 24;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.clicks___5901 = (s.tmp_0);
    s.tmp_0 = modules_RotaryEncoderClient_position__P4435_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1226; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.newPosition___5907 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.newPosition___5907);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = globals.EVENT_A___4641;
    { step = 4; continue; }
  case 3:
    r0 = globals.EVENT_B___4642;
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_3.arg0 = globals.microbit___4646;
    s.tmp_3.arg1 = s.tmp_2;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 1227; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], s.newPosition___5907);
    s.tmp_0 = machine_plot__P4651_mk(s);
    r0 = (s.newPosition___5907 % s.clicks___5901);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.clicks___5901;
    s.tmp_0.arg2 = s.caps[2];
    s.callLocIdx = 1228; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5900.info = {"start":272,"length":358,"line":4,"column":29,"endLine":13,"endColumn":5,"fileName":"rotaryencoder.ts","functionName":"inline","argumentNames":[]}

function inline__P5900_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5900, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  clicks___5901: undefined,
  newPosition___5907: undefined,
} }





function inline__P5930(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5933 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_ServoClient__C4465_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_ServoClient_constructor__P4466_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1231; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5933 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P5950);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5933);
    s.tmp_1 = machine_MicrobitMachine_onControlEvent__P5378_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5933;
    s.tmp_1.arg2 = 1;
    s.tmp_1.arg3 = 1;
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 1234; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P5966);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___5933);
    s.tmp_1 = machine_MicrobitMachine_onControlEvent__P5378_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___5933;
    s.tmp_1.arg2 = 1;
    s.tmp_1.arg3 = 2;
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 1237; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = s.client___5933;
    return leave(s, r0)
  default: oops()
} } }
inline__P5930.info = {"start":43,"length":628,"line":0,"column":43,"endLine":21,"endColumn":1,"fileName":"servo.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P5930_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5930, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5933: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5950(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.angle___5951 = undefined;
    s.tmp_1 = modules_ServoClient_minAngle__P4473_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.callLocIdx = 1232; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = -90;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.angle___5951 = (s.tmp_2);
    s.tmp_0 = modules_ServoClient_setAngle__P4468_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.angle___5951;
    s.callLocIdx = 1233; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5950.info = {"start":281,"length":103,"line":6,"column":8,"endLine":9,"endColumn":9,"fileName":"servo.ts","functionName":"inline","argumentNames":[]}

function inline__P5950_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5950, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  angle___5951: undefined,
} }





function inline__P5966(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.angle___5967 = undefined;
    s.tmp_1 = modules_ServoClient_maxAngle__P4476_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.callLocIdx = 1235; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 90;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.angle___5967 = (s.tmp_2);
    s.tmp_0 = modules_ServoClient_setAngle__P4468_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.angle___5967;
    s.callLocIdx = 1236; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5966.info = {"start":543,"length":102,"line":15,"column":8,"endLine":18,"endColumn":9,"fileName":"servo.ts","functionName":"inline","argumentNames":[]}

function inline__P5966_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5966, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  angle___5967: undefined,
} }





function inline__P5978(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___5981 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_SwitchClient__C4505_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_SwitchClient_constructor__P4506_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1239; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___5981 = (s.tmp_0);
    s.tmp_0 = modules_SwitchClient_onOff__P4511_mk(s);
    s.tmp_0.arg0 = s.client___5981;
    s.tmp_0.arg1 = inline__P5995;
    s.callLocIdx = 1241; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = modules_SwitchClient_onOff__P4511_mk(s);
    s.tmp_0.arg0 = s.client___5981;
    s.tmp_0.arg1 = inline__P6000;
    s.callLocIdx = 1243; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = s.client___5981;
    return leave(s, r0)
  default: oops()
} } }
inline__P5978.info = {"start":44,"length":249,"line":0,"column":44,"endLine":9,"endColumn":1,"fileName":"switch.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P5978_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5978, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___5981: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P5995(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 3;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1240; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P5995.info = {"start":146,"length":53,"line":2,"column":17,"endLine":4,"endColumn":5,"fileName":"switch.ts","functionName":"inline","argumentNames":[]}

function inline__P5995_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P5995, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6000(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 2;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1242; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6000.info = {"start":218,"length":54,"line":5,"column":17,"endLine":7,"endColumn":5,"fileName":"switch.ts","functionName":"inline","argumentNames":[]}

function inline__P6000_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6000, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6006(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___6009 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_TemperatureClient__C4533_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_TemperatureClient_constructor__P4534_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1245; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___6009 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P6023);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6009);
    s.tmp_1 = modules_TemperatureClient_onTemperatureChangedBy__P4540_mk(s);
    s.tmp_1.arg0 = s.client___6009;
    s.tmp_1.arg1 = 1;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1248; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = s.client___6009;
    return leave(s, r0)
  default: oops()
} } }
inline__P6006.info = {"start":49,"length":255,"line":0,"column":49,"endLine":7,"endColumn":1,"fileName":"temperature.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P6006_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6006, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___6009: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P6023(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.value___6024 = undefined;
    s.tmp_0 = modules_TemperatureClient_temperature__P4535_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1246; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.value___6024 = (r0);
    s.tmp_0 = machine_showNumber__P4653_mk(s);
    s.tmp_0.arg0 = 16;
    s.tmp_0.arg1 = s.value___6024;
    s.callLocIdx = 1247; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6023.info = {"start":176,"length":107,"line":2,"column":37,"endLine":5,"endColumn":5,"fileName":"temperature.ts","functionName":"inline","argumentNames":[]}

function inline__P6023_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6023, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  value___6024: undefined,
} }





function inline__P6034(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___6038 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_DistanceClient__C3741_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_DistanceClient_constructor__P3742_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1250; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___6038 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P6044);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6038);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg2);
    s.tmp_1 = modules_DistanceClient_onDistanceChangedBy__P3748_mk(s);
    s.tmp_1.arg0 = s.client___6038;
    s.tmp_1.arg1 = 0.01;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1254; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.client___6038;
    return leave(s, r0)
  default: oops()
} } }
inline__P6034.info = {"start":46,"length":276,"line":0,"column":46,"endLine":8,"endColumn":1,"fileName":"distance.ts","functionName":"inline","argumentNames":["devid","srvid","options"]}

function inline__P6034_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6034, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  client___6038: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P6044(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.value___6047 = undefined;
    s.tmp_0 = Math_clamp__P2018_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 0.3;
    s.tmp_1 = modules_DistanceClient_distance__P3743_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.callLocIdx = 1251; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1252; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.value___6047 = (r0);
    s.tmp_0 = machine_plot__P4651_mk(s);
    s.tmp_0.arg0 = s.value___6047;
    s.tmp_0.arg1 = 0.3;
    s.tmp_0.arg2 = s.caps[1];
    s.callLocIdx = 1253; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6044.info = {"start":165,"length":136,"line":2,"column":37,"endLine":6,"endColumn":5,"fileName":"distance.ts","functionName":"inline","argumentNames":[]}

function inline__P6044_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6044, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  value___6047: undefined,
} }





function inline__P6060(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___6063 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_VibrationMotorClient__C4549_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_VibrationMotorClient_constructor__P4550_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1256; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___6063 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P6079);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6063);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6063;
    s.tmp_1.arg2 = globals.EVENT_A___4641;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1258; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P6089);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6063);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6063;
    s.tmp_1.arg2 = globals.EVENT_B___4642;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1260; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P6099);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6063);
    s.tmp_1 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6063;
    s.tmp_1.arg2 = globals.EVENT_TONE___4644;
    s.tmp_1.arg3 = s.tmp_0;
    s.callLocIdx = 1267; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = s.client___6063;
    return leave(s, r0)
  default: oops()
} } }
inline__P6060.info = {"start":53,"length":620,"line":0,"column":53,"endLine":15,"endColumn":1,"fileName":"vibrationmotor.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P6060_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6060, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___6063: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P6079(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_VibrationMotorClient_vibrate__P4551_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 200;
    s.tmp_0.arg2 = 100;
    s.tmp_0.arg3 = 200;
    s.tmp_0.arg4 = 0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 1257; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6079.info = {"start":201,"length":46,"line":2,"column":55,"endLine":4,"endColumn":5,"fileName":"vibrationmotor.ts","functionName":"inline","argumentNames":[]}

function inline__P6079_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6079, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6089(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_VibrationMotorClient_vibrate__P4551_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 400;
    s.tmp_0.arg2 = 60;
    s.tmp_0.arg3 = 200;
    s.tmp_0.arg4 = 0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 1259; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6089.info = {"start":304,"length":45,"line":5,"column":55,"endLine":7,"endColumn":5,"fileName":"vibrationmotor.ts","functionName":"inline","argumentNames":[]}

function inline__P6089_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6089, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6099(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tone___6100 = undefined;
    s.d___6105 = undefined;
    s.f___6110 = undefined;
    s.tmp_0 = Math_abs__P2019_mk(s);
    r0 = globals.microbit___4646.fields["tone"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1261; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tone___6100 = (r0);
    s.tmp_0 = Math_clamp__P2018_mk(s);
    s.tmp_0.arg0 = 20;
    s.tmp_0.arg1 = 100;
    s.tmp_1 = pins_map__P2581_mk(s);
    s.tmp_1.arg0 = s.tone___6100;
    s.tmp_1.arg1 = 400;
    s.tmp_1.arg2 = 2000;
    s.tmp_1.arg3 = 20;
    s.tmp_1.arg4 = 100;
    s.callLocIdx = 1262; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1263; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.d___6105 = (r0);
    s.tmp_0 = Math_clamp__P2018_mk(s);
    s.tmp_0.arg0 = 40;
    s.tmp_0.arg1 = 100;
    s.tmp_1 = pins_map__P2581_mk(s);
    s.tmp_1.arg0 = s.tone___6100;
    s.tmp_1.arg1 = 400;
    s.tmp_1.arg2 = 2000;
    s.tmp_1.arg3 = 40;
    s.tmp_1.arg4 = 100;
    s.callLocIdx = 1264; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1265; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.f___6110 = (r0);
    s.tmp_0 = modules_VibrationMotorClient_vibrate__P4551_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.d___6105;
    s.tmp_0.arg2 = s.f___6110;
    s.tmp_0.arg3 = 200;
    s.tmp_0.arg4 = 0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 1266; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6099.info = {"start":409,"length":243,"line":8,"column":58,"endLine":13,"endColumn":5,"fileName":"vibrationmotor.ts","functionName":"inline","argumentNames":[]}

function inline__P6099_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6099, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tone___6100: undefined,
  d___6105: undefined,
  f___6110: undefined,
} }





function inline__P6125(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___6128 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(modules_HidKeyboardClient__C4093_VT);
    s.tmp_0 = r0;
    s.tmp_1 = modules_HidKeyboardClient_constructor__P4094_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1269; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___6128 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P6145);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6128);
    s.tmp_1 = machine_MicrobitMachine_onControlEvent__P5378_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6128;
    s.tmp_1.arg2 = 1;
    s.tmp_1.arg3 = 3;
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 1271; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P6157);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6128);
    s.tmp_1 = machine_MicrobitMachine_onControlEvent__P5378_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6128;
    s.tmp_1.arg2 = 2;
    s.tmp_1.arg3 = 3;
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 1273; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P6169);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.client___6128);
    s.tmp_1 = machine_MicrobitMachine_onControlEvent__P5378_mk(s);
    s.tmp_1.arg0 = globals.microbit___4646;
    s.tmp_1.arg1 = s.client___6128;
    s.tmp_1.arg2 = 3;
    s.tmp_1.arg3 = 3;
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 1275; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = s.client___6128;
    return leave(s, r0)
  default: oops()
} } }
inline__P6125.info = {"start":50,"length":917,"line":0,"column":50,"endLine":27,"endColumn":1,"fileName":"hidkeyboard.ts","functionName":"inline","argumentNames":["devid","srvid"]}

function inline__P6125_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6125, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  client___6128: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P6145(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_HidKeyboardClient_key__P4095_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 80;
    s.tmp_0.arg4 = undefined;
    s.tmp_0.arg5 = undefined;
    s.callLocIdx = 1270; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6145.info = {"start":295,"length":108,"line":6,"column":8,"endLine":8,"endColumn":9,"fileName":"hidkeyboard.ts","functionName":"inline","argumentNames":[]}

function inline__P6145_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6145, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6157(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_HidKeyboardClient_key__P4095_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 79;
    s.tmp_0.arg4 = undefined;
    s.tmp_0.arg5 = undefined;
    s.callLocIdx = 1272; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6157.info = {"start":565,"length":109,"line":14,"column":8,"endLine":16,"endColumn":9,"fileName":"hidkeyboard.ts","functionName":"inline","argumentNames":[]}

function inline__P6157_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6157, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P6169(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_HidKeyboardClient_key__P4095_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 44;
    s.tmp_0.arg4 = undefined;
    s.tmp_0.arg5 = undefined;
    s.callLocIdx = 1274; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P6169.info = {"start":837,"length":104,"line":22,"column":8,"endLine":24,"endColumn":9,"fileName":"hidkeyboard.ts","functionName":"inline","argumentNames":[]}

function inline__P6169_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P6169, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function modules_HidKeyboardClient_key__P4095(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.entries___6184 = undefined;
    s.data___6216 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_HidKeyboardClient__C4093_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 949; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.entries___6184 = (r0);
    r0 = (s.arg2 | 0);
    s.arg2 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg3);
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    r0 = pxsim_Array__push(s.entries___6184, s.tmp_0);
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg4);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg4);
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    r0 = pxsim_Array__push(s.entries___6184, s.tmp_0);
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.arg5);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg5);
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    r0 = pxsim_Array__push(s.entries___6184, s.tmp_0);
  case 5:
  case 6:
    r0 = pxsim_Array__length(s.entries___6184);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    { step = 9; continue; }
  case 7:
  case 8:
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.entries___6184);
    s.data___6216 = (s.tmp_3);
    s.tmp_0 = jacdac_Client_sendCommand__P3517_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    s.tmp_1.arg0 = 128;
    s.tmp_1.arg1 = globals.Key___3960;
    s.tmp_1.arg2 = s.data___6216;
    s.callLocIdx = 950; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 951; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_HidKeyboardClient_key__P4095.info = {"start":7774,"length":869,"line":292,"column":8,"endLine":314,"endColumn":9,"fileName":"pxt_modules/jacdac-hid-keyboard/client.ts","functionName":"key","argumentNames":["this","action","modifiers","selector","selector2","selector3"]}

function modules_HidKeyboardClient_key__P4095_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_HidKeyboardClient_key__P4095, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  entries___6184: undefined,
  data___6216: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function jacdac_JDPacket_jdpacked__P2886(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_jdpack__P2934_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 184; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 185; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_jdpacked__P2886.info = {"start":2688,"length":145,"line":76,"column":8,"endLine":78,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"jdpacked","argumentNames":["serviceCommand","fmt","nums"]}

function jacdac_JDPacket_jdpacked__P2886_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_jdpacked__P2886, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_jdpack__P2934(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___6242 = undefined;
    s.res___6248 = undefined;
    s.e___6257 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = undefined;
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtcore.beginTry(5);
    s.tmp_0 = jacdac_jdpackCore__P4928_mk(s);
    s.tmp_0.arg0 = null;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 0;
    s.callLocIdx = 283; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.len___6242 = (r0);
    r0 = pxsim.control.createBuffer(s.len___6242);
    s.res___6248 = (r0);
    s.tmp_0 = jacdac_jdpackCore__P4928_mk(s);
    s.tmp_0.arg0 = s.res___6248;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 0;
    s.callLocIdx = 284; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = pxsim_pxtcore.endTry();
    r0 = s.res___6248;
    { step = 7; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 6; continue; }
  case 5:
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___6257 = (r0);
    s.tmp_0 = console_error__P2380_mk(s);
    s.tmp_0.arg0 = s.e___6257;
    s.callLocIdx = 285; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = undefined;
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdpack__P2934.info = {"start":12163,"length":701,"line":365,"column":4,"endLine":385,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"jdpack","argumentNames":["fmt","data"]}

function jacdac_jdpack__P2934_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdpack__P2934, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  len___6242: undefined,
  res___6248: undefined,
  e___6257: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_error__P2380(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = 3;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 30; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_error__P2380.info = {"start":1077,"length":82,"line":45,"column":4,"endLine":47,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"error","argumentNames":["text"]}

function console_error__P2380_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_error__P2380, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function console_add__P2377(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.text___6270 = undefined;
    s.i___6284 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < globals.minPriority___2376);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_1 = console_inspect__P2383_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 20;
    s.callLocIdx = 28; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.text___6270 = (r0);
    if ((s.text___6270) && (s.text___6270).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.text___6270);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.text___6270) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.text___6270 = (r0);
    r0 = pxsim.control.__log(s.arg0, s.text___6270);
    r0 = pxsim_numops_toBoolDecr(globals.listeners___4733);
    if (!r0) { step = 5; continue; }
    s.i___6284 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___6284;
    r0 = pxsim_Array__length(globals.listeners___4733);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = lambda_3_mk(s);
    r0 = pxsim_Array__getAt(globals.listeners___4733, s.i___6284);
    s.tmp_3.argL = r0;
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.text___6270;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 29; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    r0 = (s.i___6284 + 1);
    s.i___6284 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_add__P2377.info = {"start":508,"length":386,"line":25,"column":4,"endLine":35,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"add","argumentNames":["priority","message"]}

function console_add__P2377_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_add__P2377, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  text___6270: undefined,
  i___6284: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_inspect__P2383(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.asArr___6315 = undefined;
    s.asString___6333 = undefined;
    s.keys___6345 = undefined;
    s.snipped___6349 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 17; continue; }
    { step = 16; continue; }
  case 1:
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == "number");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    { step = 17; continue; }
    { step = 15; continue; }
  case 2:
    r0 = pxsim_Array_.isArray(s.arg0);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 5; continue; }
    s.asArr___6315 = (s.arg0);
    r0 = pxsim_Array__length(s.asArr___6315);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = helpers_arrayJoin__P1994_mk(s);
    s.tmp_2.arg0 = s.asArr___6315;
    s.tmp_2.arg1 = ",";
    s.callLocIdx = 36; s.pc = 19; return s.tmp_2;
  case 19:
    r0 = s.retval;
    { step = 17; continue; }
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    s.tmp_7 = helpers_arrayJoin__P1994_mk(s);
    s.tmp_8 = helpers_arraySlice__P2006_mk(s);
    s.tmp_8.arg0 = s.asArr___6315;
    s.tmp_8.arg1 = 0;
    s.tmp_8.arg2 = s.arg1;
    s.callLocIdx = 37; s.pc = 21; return s.tmp_8;
  case 21:
    r0 = s.retval;
    s.tmp_7.arg0 = r0;
    s.tmp_7.arg1 = ",";
    s.callLocIdx = 38; s.pc = 20; return s.tmp_7;
  case 20:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "...");
    { step = 17; continue; }
  case 4:
    { step = 14; continue; }
  case 5:
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);
    s.asString___6333 = (r0);
    r0 = (s.asString___6333 != "[object Object]");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.asString___6333 != "[Object]");
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.asString___6333;
    { step = 17; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt.keysOf(s.arg0);
    s.keys___6345 = (r0);
    r0 = pxsim_Array__length(s.keys___6345);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > s.arg1);
    s.snipped___6349 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___6349);
    if (!r0) { step = 10; continue; }
    s.tmp_0 = helpers_arraySlice__P2006_mk(s);
    s.tmp_0.arg0 = s.keys___6345;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 39; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.keys___6345 = (r0);
  case 10:
  case 11:
    r0 = pxsim_pxtcore_mkAction(1, console_inspect_inline__P6366);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___6349);
    if (!r0) { step = 12; continue; }
    r0 = "\n    ...";
    { step = 13; continue; }
  case 12:
    r0 = pxsim_String_.mkEmpty();
  case 13:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_7 = helpers_arrayReduce__P2003_mk(s);
    s.tmp_7.arg0 = s.keys___6345;
    s.tmp_7.arg1 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7.arg2 = r0;
    s.callLocIdx = 40; s.pc = 25; return s.tmp_7;
  case 25:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("{", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "\n}");
    { step = 17; continue; }
  case 14:
  case 15:
  case 16:
    r0 = undefined;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
console_inspect__P2383.info = {"start":2002,"length":1165,"line":75,"column":4,"endLine":107,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"inspect","argumentNames":["obj","maxElements"]}

function console_inspect__P2383_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_inspect__P2383, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  asArr___6315: undefined,
  asString___6333: undefined,
  keys___6345: undefined,
  snipped___6349: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_inspect_inline__P6366(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("\n    ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ": ");
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg1);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
console_inspect_inline__P6366.info = {"start":3003,"length":61,"line":101,"column":16,"endLine":101,"endColumn":77,"fileName":"pxt_modules/core/console.ts","functionName":"inline","argumentNames":["prev","currKey"]}

function console_inspect_inline__P6366_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_inspect_inline__P6366, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayReduce__P2003(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___6393 = undefined;
    s.i___6396 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___6393 = (r0);
    s.i___6396 = (0);
  case 1:
    r0 = (s.i___6396 < s.len___6393);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_4_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.arg2;
    r0 = pxsim_Array__getAt(s.arg0, s.i___6396);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.i___6396;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 10; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.arg2 = (r0);
    r0 = (s.i___6396 + 1);
    s.i___6396 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.arg2;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayReduce__P2003.info = {"start":8316,"length":317,"line":280,"column":4,"endLine":286,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayReduce","argumentNames":["arr","callbackfn","initialValue"]}

function helpers_arrayReduce__P2003_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayReduce__P2003, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___6393: undefined,
  i___6396: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arraySlice__P2006(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___6414 = undefined;
    s.len___6416 = undefined;
    s.i___6450 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___6414 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___6416 = (r0);
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg1 = (0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = Math_max__P2021_mk(s);
    r0 = (s.len___6416 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 11; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.arg1 = (r0);
  case 2:
  case 3:
  case 4:
    r0 = (s.arg1 > s.len___6416);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.res___6414;
    { step = 15; continue; }
  case 5:
  case 6:
    r0 = (s.arg2 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.arg2 = (s.len___6416);
    { step = 10; continue; }
  case 7:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = (s.len___6416 + s.arg2);
    s.arg2 = (r0);
  case 8:
  case 9:
  case 10:
    r0 = (s.arg2 > s.len___6416);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.arg2 = (s.len___6416);
  case 11:
  case 12:
    s.i___6450 = (s.arg1);
  case 13:
    r0 = (s.i___6450 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = r0 = s.res___6414;
    r0 = pxsim_Array__getAt(s.arg0, s.i___6450);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___6450 + 1);
    s.i___6450 = (r0);
    { step = 13; continue; }
  case 14:
    r0 = s.res___6414;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySlice__P2006.info = {"start":9027,"length":690,"line":303,"column":4,"endLine":328,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arraySlice","argumentNames":["arr","start","end"]}

function helpers_arraySlice__P2006_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySlice__P2006, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  res___6414: undefined,
  len___6416: undefined,
  i___6450: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_max__P2021(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 >= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_max__P2021.info = {"start":16564,"length":105,"line":556,"column":4,"endLine":559,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"max","argumentNames":["a","b"]}

function Math_max__P2021_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_max__P2021, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayJoin__P1994(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___6482 = undefined;
    s.len___6483 = undefined;
    s.i___6486 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 === null);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.arg1 = (",");
  case 3:
  case 4:
    r0 = pxsim_String_.mkEmpty();
    s.r___6482 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___6483 = (r0);
    s.i___6486 = (0);
  case 5:
    r0 = (s.i___6486 < s.len___6483);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.i___6486 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_1;
    { step = 7; continue; }
  case 6:
    r0 = s.arg1;
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 8; continue; }
    if ((s.r___6482) && (s.r___6482).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___6482);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___6482) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.r___6482 = (r0);
  case 8:
  case 9:
    r0 = pxsim_Array__getAt(s.arg0, s.i___6486);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    r0 = pxsim_Array__getAt(s.arg0, s.i___6486);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === null);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_String_.mkEmpty();
    { step = 13; continue; }
  case 12:
    r0 = pxsim_Array__getAt(s.arg0, s.i___6486);
  case 13:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    if ((s.r___6482) && (s.r___6482).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___6482);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___6482) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.r___6482 = (r0);
    r0 = (s.i___6486 + 1);
    s.i___6486 = (r0);
    { step = 5; continue; }
  case 14:
    r0 = s.r___6482;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayJoin__P1994.info = {"start":4133,"length":432,"line":157,"column":4,"endLine":170,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayJoin","argumentNames":["arr","sep"]}

function helpers_arrayJoin__P1994_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayJoin__P1994, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  r___6482: undefined,
  len___6483: undefined,
  i___6486: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_jdpackCore__P4928(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.idx___6528 = undefined;
    s.parser___6529 = undefined;
    s.c0___6536 = undefined;
    s.dataItem___6549 = undefined;
    s.fmt0___6557 = undefined;
    s.velt___6566 = undefined;
    s.unnamed64___U6 = undefined;
    s.unnamed65___U7 = undefined;
    s.arr___6575 = undefined;
    s.v___6585 = undefined;
    s.unnamed66___U10 = undefined;
    s.unnamed67___U11 = undefined;
    s.vp___6602 = undefined;
    s.vp32___6611 = undefined;
    s.buf___6669 = undefined;
    s.sz___6704 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    s.idx___6528 = (0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_TokenParser__C4924_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_TokenParser_constructor__P4926_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 274; s.pc = 49; return s.tmp_1;
  case 49:
    r0 = s.retval;
    s.parser___6529 = (s.tmp_0);
  case 1:
    s.tmp_1 = jacdac_TokenParser_parse__P4925_mk(s);
    s.tmp_1.arg0 = s.parser___6529;
    s.callLocIdx = 275; s.pc = 50; return s.tmp_1;
  case 50:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 46; continue; }
    r0 = s.parser___6529.fields["c0"];
    s.c0___6536 = (r0);
    r0 = (s.c0___6536 == 120);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.parser___6529.fields["size"];
    s.tmp_1 = r0;
    r0 = (s.arg3 + s.tmp_1);
    s.arg3 = (r0);
    { step = 1; continue; }
  case 2:
  case 3:
    s.tmp_0 = r0 = s.idx___6528;
    r0 = (s.tmp_0 + 1);
    s.idx___6528 = (r0);
    r0 = pxsim_Array__getAt(s.arg2, s.tmp_0);
    s.dataItem___6549 = (r0);
    r0 = (s.c0___6536 == 114);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = helpers_stringSlice__P2010_mk(s);
    s.tmp_1.arg0 = s.arg1;
    r0 = s.parser___6529.fields["fp"];
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 276; s.pc = 51; return s.tmp_1;
  case 51:
    r0 = s.retval;
    s.fmt0___6557 = (r0);
    s.velt___6566 = (undefined);
    s.unnamed64___U6 = (s.dataItem___6549);
    s.unnamed65___U7 = (0);
  case 4:
    s.tmp_0 = r0 = s.unnamed65___U7;
    r0 = pxsim_Array__length(s.unnamed64___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__getAt(s.unnamed64___U6, s.unnamed65___U7);
    s.velt___6566 = (r0);
    s.tmp_2 = jacdac_jdpackCore__P4928_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.fmt0___6557;
    s.tmp_2.arg2 = s.velt___6566;
    s.tmp_2.arg3 = s.arg3;
    s.callLocIdx = 277; s.pc = 52; return s.tmp_2;
  case 52:
    r0 = s.retval;
    s.arg3 = (r0);
    r0 = (s.unnamed65___U7 + 1);
    s.unnamed65___U7 = (r0);
    { step = 4; continue; }
  case 5:
    s.unnamed64___U6 = (undefined);
    { step = 46; continue; }
  case 6:
  case 7:
    s.arr___6575 = (undefined);
    r0 = s.parser___6529.fields["isArray"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.arr___6575 = (s.dataItem___6549);
    { step = 9; continue; }
  case 8:
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.dataItem___6549);
    s.arr___6575 = (s.tmp_0);
  case 9:
    s.v___6585 = (undefined);
    s.unnamed66___U10 = (s.arr___6575);
    s.unnamed67___U11 = (0);
  case 10:
    s.tmp_0 = r0 = s.unnamed67___U11;
    r0 = pxsim_Array__length(s.unnamed66___U10);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 45; continue; }
    r0 = pxsim_Array__getAt(s.unnamed66___U10, s.unnamed67___U11);
    s.v___6585 = (r0);
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 !== null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 23; continue; }
    r0 = pxsim_pxtcore.typeOf(s.v___6585);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 != "number");
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.typeOf(s.v___6585);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 53);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 53:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat("expecting number, got ", s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_pxtcore.throwValue(s.tmp_6);
  case 11:
  case 12:
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 21; continue; }
    r0 = s.parser___6529.fields["div"];
    s.tmp_9 = r0;
    r0 = (s.v___6585 * s.tmp_9);
    s.vp___6602 = (r0);
    r0 = s.parser___6529.fields["nfmt2"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = (s.vp___6602 / 4294967296);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.floor(s.tmp_1);
    s.vp32___6611 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_1 = r0;
    s.tmp_2 = r0 = s.arg3;
    r0 = (s.vp___6602 | 0);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_3);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_1 = r0;
    r0 = (s.arg3 + 4);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.vp32___6611);
    { step = 20; continue; }
  case 13:
    r0 = s.parser___6529.fields["div"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 14:
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 11);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 15; continue; }
    r0 = s.tmp_2;
    { step = 16; continue; }
  case 15:
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == 5);
  case 16:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
  case 17:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 18; continue; }
    s.tmp_7 = r0 = s.arg0;
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_8 = r0;
    s.tmp_9 = r0 = s.arg3;
    r0 = (s.vp___6602 | 0);
    s.tmp_10 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_7, s.tmp_8, s.tmp_9, s.tmp_10);
    { step = 19; continue; }
  case 18:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_1 = r0;
    s.tmp_2 = r0 = s.arg3;
    s.tmp_4 = jacdac_clampWithNumberFormat__P4929_mk(s);
    s.tmp_4.arg0 = s.vp___6602;
    r0 = s.parser___6529.fields["nfmt"];
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 278; s.pc = 54; return s.tmp_4;
  case 54:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_3);
  case 19:
  case 20:
  case 21:
  case 22:
    r0 = s.parser___6529.fields["size"];
    s.tmp_0 = r0;
    r0 = (s.arg3 + s.tmp_0);
    s.arg3 = (r0);
    { step = 44; continue; }
  case 23:
    s.buf___6669 = (undefined);
    r0 = pxsim_pxtcore.typeOf(s.v___6585);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 28; continue; }
    r0 = (s.c0___6536 == 122);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 24; continue; }
    if ((s.v___6585) && (s.v___6585).vtable) {
    setupResume(s, 55);
    pxsim_String__stringConv(s.v___6585);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.v___6585) + ""; }
  case 55:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "\u0000");
    s.tmp_3 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_3);
    s.buf___6669 = (r0);
    { step = 27; continue; }
  case 24:
    r0 = (s.c0___6536 == 115);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    r0 = pxsim.control.createBufferFromUTF8(s.v___6585);
    s.buf___6669 = (r0);
    { step = 26; continue; }
  case 25:
    r0 = pxsim_pxtcore.throwValue("unexpected string");
  case 26:
  case 27:
    { step = 37; continue; }
  case 28:
    s.tmp_0 = r0 = s.v___6585;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 29; continue; }
    r0 = s.tmp_0;
    { step = 30; continue; }
  case 29:
    r0 = pxsim_pxtcore.typeOf(s.v___6585);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "object");
  case 30:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 31; continue; }
    r0 = s.tmp_2;
    { step = 32; continue; }
  case 31:
    r0 = pxsim.BufferMethods.length(s.v___6585);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != null);
  case 32:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 35; continue; }
    r0 = (s.c0___6536 == 98);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 33; continue; }
    s.buf___6669 = (s.v___6585);
    { step = 34; continue; }
  case 33:
    r0 = pxsim_pxtcore.throwValue("unexpected buffer");
  case 34:
    { step = 36; continue; }
  case 35:
    r0 = pxsim_pxtcore.throwValue("expecting string or buffer");
  case 36:
  case 37:
    r0 = s.parser___6529.fields["size"];
    s.sz___6704 = (r0);
    r0 = (s.sz___6704 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 40; continue; }
    r0 = pxsim.BufferMethods.length(s.buf___6669);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > s.sz___6704);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 38; continue; }
    s.tmp_3 = r0 = s.buf___6669;
    r0 = (s.sz___6704 - 0);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 0, s.tmp_4);
    s.buf___6669 = (r0);
  case 38:
  case 39:
    { step = 41; continue; }
  case 40:
    r0 = pxsim.BufferMethods.length(s.buf___6669);
    s.sz___6704 = (r0);
  case 41:
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 42; continue; }
    r0 = pxsim.BufferMethods.write(s.arg0, s.arg3, s.buf___6669);
  case 42:
  case 43:
    r0 = (s.arg3 + s.sz___6704);
    s.arg3 = (r0);
  case 44:
    r0 = (s.unnamed67___U11 + 1);
    s.unnamed67___U11 = (r0);
    { step = 10; continue; }
  case 45:
    s.unnamed66___U10 = (undefined);
    { step = 1; continue; }
  case 46:
    r0 = pxsim_Array__length(s.arg2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.idx___6528);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 47; continue; }
    r0 = pxsim_pxtcore.throwValue("format too short");
  case 47:
  case 48:
    r0 = s.arg3;
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdpackCore__P4928.info = {"start":7505,"length":2984,"line":232,"column":4,"endLine":311,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"jdpackCore","argumentNames":["trg","fmt","data","off"]}

function jacdac_jdpackCore__P4928_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdpackCore__P4928, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  idx___6528: undefined,
  parser___6529: undefined,
  c0___6536: undefined,
  dataItem___6549: undefined,
  fmt0___6557: undefined,
  velt___6566: undefined,
  unnamed64___U6: undefined,
  unnamed65___U7: undefined,
  arr___6575: undefined,
  v___6585: undefined,
  unnamed66___U10: undefined,
  unnamed67___U11: undefined,
  vp___6602: undefined,
  vp32___6611: undefined,
  buf___6669: undefined,
  sz___6704: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_bufferSlice__P4923(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = (s.arg2 - s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, s.tmp_1, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
jacdac_bufferSlice__P4923.info = {"start":1436,"length":114,"line":51,"column":4,"endLine":53,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"bufferSlice","argumentNames":["buf","start","end"]}

function jacdac_bufferSlice__P4923_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_bufferSlice__P4923, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_stringToBuffer__P4922(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.createBufferFromUTF8(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_stringToBuffer__P4922.info = {"start":1350,"length":80,"line":47,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"stringToBuffer","argumentNames":["str"]}

function jacdac_stringToBuffer__P4922_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_stringToBuffer__P4922, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_clampWithNumberFormat__P4929(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 == 13);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 == 14);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0;
    { step = 43; continue; }
  case 3:
  case 4:
    s.tmp_3 = isNaN__P1984_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 282; s.pc = 44; return s.tmp_3;
  case 44:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    r0 = 0;
    { step = 43; continue; }
  case 5:
  case 6:
    r0 = (s.arg1 == 11);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 11; continue; }
    r0 = (s.arg0 < 0);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = 0;
    { step = 43; continue; }
  case 7:
  case 8:
    r0 = (s.arg0 > 4294967295);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 9; continue; }
    r0 = 4294967295;
    { step = 43; continue; }
  case 9:
  case 10:
    r0 = (s.arg0 >>> 0);
    { step = 43; continue; }
  case 11:
  case 12:
    r0 = (s.arg0 < 0);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 25; continue; }
    s.tmp_8 = r0 = s.arg1;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_8);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_8);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_8);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_8);
    if (r0) { step = 18; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_8);
    if (r0) { step = 21; continue; }
    r0 = s.tmp_8;
    { step = 24; continue; }
  case 13:
  case 14:
    r0 = 0;
    { step = 43; continue; }
  case 15:
    r0 = (s.arg0 <= -128);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 16; continue; }
    r0 = -128;
    { step = 43; continue; }
  case 16:
  case 17:
    { step = 24; continue; }
  case 18:
    r0 = (s.arg0 <= -32768);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    if (!r0) { step = 19; continue; }
    r0 = -32768;
    { step = 43; continue; }
  case 19:
  case 20:
    { step = 24; continue; }
  case 21:
    r0 = (s.arg0 <= -2147483648);
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_11);
    if (!r0) { step = 22; continue; }
    r0 = -2147483648;
    { step = 43; continue; }
  case 22:
  case 23:
  case 24:
    { step = 42; continue; }
  case 25:
    s.tmp_12 = r0 = s.arg1;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_12);
    if (r0) { step = 26; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_12);
    if (r0) { step = 29; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_12);
    if (r0) { step = 32; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_12);
    if (r0) { step = 35; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_12);
    if (r0) { step = 38; continue; }
    r0 = s.tmp_12;
    { step = 41; continue; }
  case 26:
    r0 = (s.arg0 >= 255);
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 27; continue; }
    r0 = 255;
    { step = 43; continue; }
  case 27:
  case 28:
    { step = 41; continue; }
  case 29:
    r0 = (s.arg0 >= 65535);
    s.tmp_14 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_14);
    if (!r0) { step = 30; continue; }
    r0 = 65535;
    { step = 43; continue; }
  case 30:
  case 31:
    { step = 41; continue; }
  case 32:
    r0 = (s.arg0 >= 127);
    s.tmp_15 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_15);
    if (!r0) { step = 33; continue; }
    r0 = 127;
    { step = 43; continue; }
  case 33:
  case 34:
    { step = 41; continue; }
  case 35:
    r0 = (s.arg0 >= 32767);
    s.tmp_16 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_16);
    if (!r0) { step = 36; continue; }
    r0 = 32767;
    { step = 43; continue; }
  case 36:
  case 37:
    { step = 41; continue; }
  case 38:
    r0 = (s.arg0 >= 2147483647);
    s.tmp_17 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_17);
    if (!r0) { step = 39; continue; }
    r0 = 2147483647;
    { step = 43; continue; }
  case 39:
  case 40:
  case 41:
  case 42:
    r0 = (s.arg0 | 0);
  case 43:
    return leave(s, r0)
  default: oops()
} } }
jacdac_clampWithNumberFormat__P4929.info = {"start":10526,"length":1631,"line":314,"column":4,"endLine":363,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"clampWithNumberFormat","argumentNames":["v","format"]}

function jacdac_clampWithNumberFormat__P4929_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_clampWithNumberFormat__P4929, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function isNaN__P1984(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - 0);
    s.arg0 = (r0);
    r0 = (s.arg0 !== s.arg0);
    return leave(s, r0)
  default: oops()
} } }
isNaN__P1984.info = {"start":169,"length":80,"line":12,"column":0,"endLine":15,"endColumn":1,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"isNaN","argumentNames":["x"]}

function isNaN__P1984_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: isNaN__P1984, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function helpers_stringSlice__P2010(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___6826 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg0);
    s.len___6826 = (r0);
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Math_max__P2021_mk(s);
    r0 = (s.len___6826 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 12; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = (s.arg2 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg2 = (s.len___6826);
    { step = 6; continue; }
  case 3:
    r0 = (s.arg2 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.arg2 = (0);
  case 4:
  case 5:
  case 6:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = (s.len___6826 + s.arg2);
    s.arg2 = (r0);
  case 7:
  case 8:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = (s.arg2 - s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_String_.substr(s.tmp_0, s.tmp_1, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSlice__P2010.info = {"start":11496,"length":440,"line":384,"column":4,"endLine":402,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"stringSlice","argumentNames":["s","start","end"]}

function helpers_stringSlice__P2010_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSlice__P2010, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  len___6826: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_TokenParser_parse__P4925(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.fmt___6863 = undefined;
    s.endp___6873 = undefined;
    s.word___6889 = undefined;
    s.dotIdx___6902 = undefined;
    s.c0___6908 = undefined;
    s.sz0___6923 = undefined;
    s.sz1___6931 = undefined;
    s.c1___6957 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_TokenParser__C4924_VT)) failedCast(r0);
    r0 = (s.arg0).fields["div"] = (1);
    r0 = (s.arg0).fields["isArray"] = (false);
    r0 = s.arg0.fields["fmt"];
    s.fmt___6863 = (r0);
  case 1:
    r0 = s.arg0.fields["fp"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.length(s.fmt___6863);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 50; continue; }
    r0 = s.arg0.fields["fp"];
    s.endp___6873 = (r0);
  case 2:
    s.tmp_1 = r0 = s.endp___6873;
    r0 = pxsim_String_.length(s.fmt___6863);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.charCodeAt(s.fmt___6863, s.endp___6873);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != 32);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    r0 = (s.endp___6873 + 1);
    s.endp___6873 = (r0);
    { step = 2; continue; }
  case 5:
    s.tmp_0 = helpers_stringSlice__P2010_mk(s);
    s.tmp_0.arg0 = s.fmt___6863;
    r0 = s.arg0.fields["fp"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.endp___6873;
    s.callLocIdx = 252; s.pc = 52; return s.tmp_0;
  case 52:
    r0 = s.retval;
    s.word___6889 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.endp___6873 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["fp"] = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.word___6889);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    { step = 1; continue; }
  case 6:
  case 7:
    r0 = pxsim_String_.indexOf(s.word___6889, ".", undefined);
    s.dotIdx___6902 = (r0);
    r0 = pxsim_String_.charCodeAt(s.word___6889, 0);
    s.c0___6908 = (r0);
    r0 = (s.c0___6908 == 105);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 8:
    r0 = (s.c0___6908 == 117);
  case 9:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_1;
    { step = 11; continue; }
  case 10:
    r0 = (s.dotIdx___6902 >= 0);
  case 11:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 12; continue; }
    s.tmp_3 = parseInt__P1988_mk(s);
    s.tmp_4 = helpers_stringSlice__P2010_mk(s);
    s.tmp_4.arg0 = s.word___6889;
    s.tmp_4.arg1 = 1;
    s.tmp_4.arg2 = s.dotIdx___6902;
    s.callLocIdx = 253; s.pc = 54; return s.tmp_4;
  case 54:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = undefined;
    s.callLocIdx = 254; s.pc = 53; return s.tmp_3;
  case 53:
    r0 = s.retval;
    s.sz0___6923 = (r0);
    s.tmp_0 = parseInt__P1988_mk(s);
    s.tmp_1 = helpers_stringSlice__P2010_mk(s);
    s.tmp_1.arg0 = s.word___6889;
    r0 = (s.dotIdx___6902 + 1);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 255; s.pc = 56; return s.tmp_1;
  case 56:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 256; s.pc = 55; return s.tmp_0;
  case 55:
    r0 = s.retval;
    s.sz1___6931 = (r0);
    r0 = pxsim_String_.charAt(s.word___6889, 0);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 57);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 57:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.sz0___6923 + s.sz1___6931);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 58);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 58:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_2);
    s.word___6889 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (1 << s.sz1___6931);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["div"] = (s.tmp_1);
  case 12:
  case 13:
    r0 = pxsim_String_.charCodeAt(s.word___6889, 1);
    s.c1___6957 = (r0);
    r0 = (s.c1___6957 == 91);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = parseInt__P1988_mk(s);
    s.tmp_4 = helpers_stringSlice__P2010_mk(s);
    s.tmp_4.arg0 = s.word___6889;
    s.tmp_4.arg1 = 2;
    s.tmp_4.arg2 = undefined;
    s.callLocIdx = 257; s.pc = 60; return s.tmp_4;
  case 60:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = undefined;
    s.callLocIdx = 258; s.pc = 59; return s.tmp_3;
  case 59:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["size"] = (s.tmp_2);
    { step = 15; continue; }
  case 14:
    r0 = (s.arg0).fields["size"] = (-1);
  case 15:
    s.tmp_2 = r0 = s.word___6889;
    r0 = pxsim_String_.length(s.word___6889);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - 1);
    s.tmp_3 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 93);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 16:
    s.tmp_6 = r0 = s.word___6889;
    r0 = pxsim_String_.length(s.word___6889);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 - 2);
    s.tmp_7 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_6, s.tmp_7);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == 91);
  case 17:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 18; continue; }
    s.tmp_10 = helpers_stringSlice__P2010_mk(s);
    s.tmp_10.arg0 = s.word___6889;
    s.tmp_10.arg1 = 0;
    s.tmp_10.arg2 = -2;
    s.callLocIdx = 259; s.pc = 61; return s.tmp_10;
  case 61:
    r0 = s.retval;
    s.word___6889 = (r0);
    r0 = (s.arg0).fields["isArray"] = (true);
  case 18:
  case 19:
    r0 = (s.arg0).fields["nfmt2"] = (null);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_numberFormatOfType__P4920_mk(s);
    s.tmp_2.arg0 = s.word___6889;
    s.callLocIdx = 260; s.pc = 62; return s.tmp_2;
  case 62:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["nfmt"] = (s.tmp_1);
    r0 = s.arg0.fields["nfmt"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 24; continue; }
    r0 = (s.word___6889 == "u64");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 20; continue; }
    r0 = (s.arg0).fields["nfmt"] = (11);
    r0 = (s.arg0).fields["nfmt2"] = (true);
    { step = 23; continue; }
  case 20:
    r0 = (s.word___6889 == "i64");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    r0 = (s.arg0).fields["nfmt"] = (5);
    r0 = (s.arg0).fields["nfmt2"] = (true);
  case 21:
  case 22:
  case 23:
  case 24:
  case 25:
    r0 = (s.arg0).fields["word"] = (s.word___6889);
    r0 = s.arg0.fields["nfmt"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 46; continue; }
    r0 = (s.c0___6908 == 114);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 28; continue; }
    r0 = (s.c1___6957 != 58);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 26; continue; }
    s.c0___6908 = (0);
  case 26:
  case 27:
    { step = 43; continue; }
  case 28:
    r0 = (s.c0___6908 == 115);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 29; continue; }
    r0 = s.tmp_0;
    { step = 30; continue; }
  case 29:
    r0 = (s.c0___6908 == 98);
  case 30:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 31; continue; }
    r0 = s.tmp_1;
    { step = 32; continue; }
  case 31:
    r0 = (s.c0___6908 == 120);
  case 32:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 37; continue; }
    r0 = pxsim_String_.length(s.word___6889);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 != 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 33; continue; }
    r0 = s.tmp_3;
    { step = 34; continue; }
  case 33:
    r0 = s.arg0.fields["size"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == -1);
  case 34:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 35; continue; }
    s.c0___6908 = (0);
  case 35:
  case 36:
    { step = 42; continue; }
  case 37:
    r0 = (s.c0___6908 == 122);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 40; continue; }
    r0 = pxsim_String_.length(s.word___6889);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != 1);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 38; continue; }
    s.c0___6908 = (0);
  case 38:
  case 39:
    { step = 41; continue; }
  case 40:
    s.c0___6908 = (0);
  case 41:
  case 42:
  case 43:
    r0 = (s.c0___6908 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 44; continue; }
    if ((s.word___6889) && (s.word___6889).vtable) {
    setupResume(s, 63);
    pxsim_String__stringConv(s.word___6889);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.word___6889) + ""; }
  case 63:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("invalid format: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_pxtcore.throwValue(s.tmp_1);
  case 44:
  case 45:
    r0 = (s.arg0).fields["c0"] = (s.c0___6908);
    { step = 49; continue; }
  case 46:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = Buffer_sizeOfNumberFormat__P2647_mk(s);
    r0 = s.arg0.fields["nfmt"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 261; s.pc = 64; return s.tmp_2;
  case 64:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["size"] = (s.tmp_1);
    r0 = s.arg0.fields["nfmt2"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 47; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["size"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 4);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["size"] = (s.tmp_3);
  case 47:
  case 48:
    r0 = (s.arg0).fields["c0"] = (-1);
  case 49:
    r0 = true;
    { step = 51; continue; }
    { step = 1; continue; }
  case 50:
    r0 = false;
  case 51:
    return leave(s, r0)
  default: oops()
} } }
jacdac_TokenParser_parse__P4925.info = {"start":1801,"length":2656,"line":67,"column":8,"endLine":138,"endColumn":9,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"parse","argumentNames":["this"]}

function jacdac_TokenParser_parse__P4925_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_TokenParser_parse__P4925, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  fmt___6863: undefined,
  endp___6873: undefined,
  word___6889: undefined,
  dotIdx___6902: undefined,
  c0___6908: undefined,
  sz0___6923: undefined,
  sz1___6931: undefined,
  c1___6957: undefined,
  arg0: undefined,
} }





function Buffer_sizeOfNumberFormat__P2647(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq(15, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(14, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = 1;
    { step = 18; continue; }
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = 2;
    { step = 18; continue; }
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
  case 14:
    r0 = 4;
    { step = 18; continue; }
  case 15:
  case 16:
    r0 = 8;
    { step = 18; continue; }
  case 17:
    r0 = 0;
  case 18:
    return leave(s, r0)
  default: oops()
} } }
Buffer_sizeOfNumberFormat__P2647.info = {"start":14912,"length":856,"line":508,"column":4,"endLine":532,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"sizeOfNumberFormat","argumentNames":["format"]}

function Buffer_sizeOfNumberFormat__P2647_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_sizeOfNumberFormat__P2647, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_numberFormatOfType__P4920(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq("u8", s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq("u16", s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("u32", s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("i8", s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq("i16", s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("i32", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("f32", s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq("f64", s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 1:
    r0 = 2;
    { step = 10; continue; }
  case 2:
    r0 = 4;
    { step = 10; continue; }
  case 3:
    r0 = 11;
    { step = 10; continue; }
  case 4:
    r0 = 1;
    { step = 10; continue; }
  case 5:
    r0 = 3;
    { step = 10; continue; }
  case 6:
    r0 = 5;
    { step = 10; continue; }
  case 7:
    r0 = 13;
    { step = 10; continue; }
  case 8:
    r0 = 14;
    { step = 10; continue; }
  case 9:
    r0 = null;
    { step = 10; continue; }
    r0 = undefined;
  case 10:
    return leave(s, r0)
  default: oops()
} } }
jacdac_numberFormatOfType__P4920.info = {"start":466,"length":798,"line":18,"column":4,"endLine":41,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"numberFormatOfType","argumentNames":["tp"]}

function jacdac_numberFormatOfType__P4920_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_numberFormatOfType__P4920, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function parseInt__P1988(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.start___7142 = undefined;
    s.sign___7172 = undefined;
    s.output___7217 = undefined;
    s.hasDigit___7218 = undefined;
    s.i___7219 = undefined;
    s.code___7226 = undefined;
    s.val___7233 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    r0 = (s.arg1 != null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 2:
    r0 = (s.arg1 < 2);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg1 > 36);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
  case 6:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 7; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 7:
  case 8:
    s.start___7142 = (0);
  case 9:
    s.tmp_1 = r0 = s.start___7142;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    s.tmp_3 = helpers_isWhitespace__P2015_mk(s);
    r0 = pxsim_String_.charCodeAt(s.arg0, s.start___7142);
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 0; s.pc = 47; return s.tmp_3;
  case 47:
    r0 = s.retval;
  case 11:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 12; continue; }
    r0 = (s.start___7142 + 1);
    s.start___7142 = (r0);
    { step = 9; continue; }
  case 12:
    s.tmp_1 = r0 = s.start___7142;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 13:
  case 14:
    s.sign___7172 = (1);
    r0 = pxsim_String_.charAt(s.arg0, s.start___7142);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq("-", s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq("+", s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 15:
    s.sign___7172 = (-1);
  case 16:
    r0 = (s.start___7142 + 1);
    s.start___7142 = (r0);
  case 17:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 19; continue; }
  case 18:
    r0 = (s.arg1 == 16);
  case 19:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_2;
    { step = 21; continue; }
  case 20:
    r0 = pxsim_String_.charAt(s.arg0, s.start___7142);
    s.tmp_3 = r0;
    r0 = ("0" === s.tmp_3);
  case 21:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 22; continue; }
    r0 = s.tmp_4;
    { step = 25; continue; }
  case 22:
    s.tmp_7 = r0 = s.arg0;
    r0 = (s.start___7142 + 1);
    s.tmp_8 = r0;
    r0 = pxsim_String_.charAt(s.tmp_7, s.tmp_8);
    s.tmp_6 = r0;
    r0 = ("x" === s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 23; continue; }
    r0 = s.tmp_5;
    { step = 24; continue; }
  case 23:
    s.tmp_10 = r0 = s.arg0;
    r0 = (s.start___7142 + 1);
    s.tmp_11 = r0;
    r0 = pxsim_String_.charAt(s.tmp_10, s.tmp_11);
    s.tmp_9 = r0;
    r0 = ("X" === s.tmp_9);
  case 24:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = s.tmp_12;
  case 25:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 26; continue; }
    s.arg1 = (16);
    r0 = (s.start___7142 + 2);
    s.start___7142 = (r0);
    { step = 29; continue; }
  case 26:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    s.arg1 = (10);
  case 27:
  case 28:
  case 29:
    s.output___7217 = (0);
    s.hasDigit___7218 = (false);
    s.i___7219 = (s.start___7142);
  case 30:
    s.tmp_1 = r0 = s.i___7219;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 45; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___7219);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 32);
    s.code___7226 = (r0);
    s.val___7233 = (undefined);
    r0 = (s.code___7226 >= 48);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 31; continue; }
    r0 = s.tmp_0;
    { step = 32; continue; }
  case 31:
    r0 = (s.code___7226 < 58);
  case 32:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 33; continue; }
    r0 = (s.code___7226 - 48);
    s.val___7233 = (r0);
    { step = 38; continue; }
  case 33:
    r0 = (s.code___7226 >= 97);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 34; continue; }
    r0 = s.tmp_0;
    { step = 35; continue; }
  case 34:
    r0 = (s.code___7226 < 123);
  case 35:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 36; continue; }
    r0 = (10 + s.code___7226);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 97);
    s.val___7233 = (r0);
  case 36:
  case 37:
  case 38:
    r0 = (s.val___7233 == undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = s.tmp_0;
    { step = 40; continue; }
  case 39:
    r0 = (s.val___7233 >= s.arg1);
  case 40:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 43; continue; }
    r0 = pxsim_numops_toBoolDecr(s.hasDigit___7218);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 41; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 41:
  case 42:
    { step = 45; continue; }
  case 43:
  case 44:
    s.hasDigit___7218 = (true);
    r0 = (s.output___7217 * s.arg1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.val___7233);
    s.output___7217 = (r0);
    r0 = (s.i___7219 + 1);
    s.i___7219 = (r0);
    { step = 30; continue; }
  case 45:
    r0 = (s.sign___7172 * s.output___7217);
  case 46:
    return leave(s, r0)
  default: oops()
} } }
parseInt__P1988.info = {"start":1064,"length":1690,"line":44,"column":0,"endLine":103,"endColumn":1,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"parseInt","argumentNames":["text","radix"]}

function parseInt__P1988_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: parseInt__P1988, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  start___7142: undefined,
  sign___7172: undefined,
  output___7217: undefined,
  hasDigit___7218: undefined,
  i___7219: undefined,
  code___7226: undefined,
  val___7233: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_isWhitespace__P2015(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(32, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(160, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(65279, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(8232, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(8233, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 1:
  case 2:
  case 3:
  case 4:
  case 5:
  case 6:
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = true;
    { step = 12; continue; }
  case 11:
    r0 = false;
    { step = 12; continue; }
    r0 = undefined;
  case 12:
    return leave(s, r0)
  default: oops()
} } }
helpers_isWhitespace__P2015.info = {"start":14864,"length":674,"line":503,"column":4,"endLine":520,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"isWhitespace","argumentNames":["c"]}

function helpers_isWhitespace__P2015_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_isWhitespace__P2015, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_TokenParser_constructor__P4926(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_TokenParser__C4924_VT)) failedCast(r0);
    r0 = (s.arg0).fields["fmt"] = (s.arg1);
    r0 = (s.arg0).fields["fp"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_TokenParser_constructor__P4926.info = {"start":1756,"length":35,"line":65,"column":8,"endLine":65,"endColumn":43,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"inline","argumentNames":["this","fmt"]}

function jacdac_TokenParser_constructor__P4926_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_TokenParser_constructor__P4926, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_from__P2883(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___7292 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDPacket__C2877_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_JDPacket_constructor__P4892_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 179; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.p___7292 = (s.tmp_0);
    s.tmp_0 = r0 = s.p___7292;
    r0 = pxsim.control.createBuffer(16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_header"] = (s.tmp_1);
    s.tmp_0 = jacdac_JDPacket_data__P2910_mk(s);
    s.tmp_0.arg0 = s.p___7292;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 180; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_serviceCommand__P2902_mk(s);
    s.tmp_0.arg0 = s.p___7292;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 181; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.p___7292;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_from__P2883.info = {"start":2032,"length":252,"line":56,"column":8,"endLine":62,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"from","argumentNames":["serviceCommand","data"]}

function jacdac_JDPacket_from__P2883_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_from__P2883, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  p___7292: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_serviceCommand__P2902(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, 14, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_serviceCommand__P2902.info = {"start":5364,"length":110,"line":159,"column":8,"endLine":161,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"serviceCommand","argumentNames":["this","cmd"]}

function jacdac_JDPacket_serviceCommand__P2902_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_serviceCommand__P2902, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_serviceCommand__P2901(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_serviceCommand__P2901.info = {"start":5246,"length":109,"line":156,"column":8,"endLine":158,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"serviceCommand","argumentNames":["this"]}
jacdac_JDPacket_serviceCommand__P2901.isGetter = true;

function jacdac_JDPacket_serviceCommand__P2901_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_serviceCommand__P2901, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_data__P2910(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.createBuffer(0);
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 236);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.throwValue("packet data too big");
  case 3:
  case 4:
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_2, 12, s.tmp_3);
    r0 = (s.arg0).fields["_data"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_data__P2910.info = {"start":6424,"length":257,"line":200,"column":8,"endLine":206,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"data","argumentNames":["this","buf"]}

function jacdac_JDPacket_data__P2910_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_data__P2910, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_data__P2909(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_data__P2909.info = {"start":6354,"length":60,"line":196,"column":8,"endLine":198,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"data","argumentNames":["this"]}
jacdac_JDPacket_data__P2909.isGetter = true;

function jacdac_JDPacket_data__P2909_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_data__P2909, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_JDPacket_constructor__P4892(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["timestamp"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_constructor__P4892.info = {"start":1703,"length":79,"line":45,"column":8,"endLine":47,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_JDPacket_constructor__P4892_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_constructor__P4892, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Client_sendCommand__P3517(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 686; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_2.arg0 = s.arg1;
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 687; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmd__P2925_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.arg0.fields["_device"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 689; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_sendCommand__P3517.info = {"start":39351,"length":200,"line":1193,"column":8,"endLine":1198,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendCommand","argumentNames":["this","pkt"]}

function jacdac_Client_sendCommand__P3517_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_sendCommand__P3517, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_device__P3506(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_device"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Client_device__P3506.info = {"start":34532,"length":56,"line":1053,"column":8,"endLine":1055,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"device","argumentNames":["this"]}
jacdac_Client_device__P3506.isGetter = true;

function jacdac_Client_device__P3506_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_device__P3506, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_JDPacket__sendCmd__P2925(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket__sendCmdId__P2926_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 234; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendCmd__P2925.info = {"start":9849,"length":104,"line":305,"column":8,"endLine":308,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_sendCmd","argumentNames":["this","dev"]}

function jacdac_JDPacket__sendCmd__P2925_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendCmd__P2925, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket__sendCmdId__P2926(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_deviceIdentifier__P2892_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 235; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 3, s.tmp_1);
    s.tmp_0 = jacdac_JDPacket__sendCore__P2923_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 236; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendCmdId__P2926.info = {"start":9963,"length":192,"line":310,"column":8,"endLine":315,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_sendCmdId","argumentNames":["this","devId"]}

function jacdac_JDPacket__sendCmdId__P2926_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendCmdId__P2926, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket__sendCore__P2923(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 12);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 != s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = jacdac_panic__P3432_mk(s);
    s.tmp_5.arg0 = "packet size mismatch";
    s.callLocIdx = 229; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = jacdac___physSendPacket__P2815_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 230; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_Bus_processPacket__P3428_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 231; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendCore__P2923.info = {"start":9437,"length":249,"line":292,"column":8,"endLine":297,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_sendCore","argumentNames":["this"]}

function jacdac_JDPacket__sendCore__P2923_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendCore__P2923, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_Bus_processPacket__P3428(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devId___7403 = undefined;
    s.multiCommandClass___7406 = undefined;
    s.crc___7418 = undefined;
    s.ack___7421 = undefined;
    s.h___7442 = undefined;
    s.unnamed92___U5 = undefined;
    s.unnamed93___U6 = undefined;
    s.h___7471 = undefined;
    s.dev___7486 = undefined;
    s.pktRestartCounter___7504 = undefined;
    s.matches___7547 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    s.devId___7403 = (r0);
    s.tmp_0 = jacdac_JDPacket_multicommandClass__P2894_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 469; s.pc = 50; return s.tmp_0;
  case 50:
    r0 = s.retval;
    s.multiCommandClass___7406 = (r0);
    s.tmp_1 = jacdac_JDPacket_requiresAck__P2896_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 470; s.pc = 51; return s.tmp_1;
  case 51:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = jacdac_JDPacket_requiresAck__P2897_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = false;
    s.callLocIdx = 471; s.pc = 52; return s.tmp_2;
  case 52:
    r0 = s.retval;
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 4, 8);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_2);
    s.tmp_1 = r0;
    s.tmp_5 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 473; s.pc = 53; return s.tmp_5;
  case 53:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_4 = r0;
    r0 = (s.tmp_1 == s.tmp_4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg1.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 0);
    s.crc___7418 = (r0);
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P2884_mk(s);
    s.tmp_0.arg0 = s.crc___7418;
    s.callLocIdx = 475; s.pc = 54; return s.tmp_0;
  case 54:
    r0 = s.retval;
    s.ack___7421 = (r0);
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.ack___7421;
    s.tmp_0.arg1 = 63;
    s.callLocIdx = 476; s.pc = 55; return s.tmp_0;
  case 55:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendReport__P2924_mk(s);
    s.tmp_0.arg0 = s.ack___7421;
    s.tmp_1 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 477; s.pc = 57; return s.tmp_1;
  case 57:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 478; s.pc = 56; return s.tmp_0;
  case 56:
    r0 = s.retval;
  case 1:
  case 2:
  case 3:
  case 4:
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.PACKET_PROCESS___3398;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 479; s.pc = 58; return s.tmp_0;
  case 58:
    r0 = s.retval;
    r0 = (s.multiCommandClass___7406 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_4 = jacdac_JDPacket_isCommand__P2919_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 480; s.pc = 59; return s.tmp_4;
  case 59:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    { step = 49; continue; }
  case 5:
  case 6:
    s.h___7442 = (undefined);
    r0 = s.arg0.fields["servers"];
    s.unnamed92___U5 = (r0);
    s.unnamed93___U6 = (0);
  case 7:
    s.tmp_0 = r0 = s.unnamed93___U6;
    r0 = pxsim_Array__length(s.unnamed92___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_Array__getAt(s.unnamed92___U5, s.unnamed93___U6);
    s.h___7442 = (r0);
    r0 = s.h___7442.fields["serviceClass"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.multiCommandClass___7406);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_2;
    { step = 9; continue; }
  case 8:
    r0 = s.h___7442.fields["running"];
  case 9:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 10; continue; }
    s.tmp_5 = jacdac_JDPacket_deviceIdentifier__P2892_mk(s);
    s.tmp_5.arg0 = s.arg1;
    s.tmp_6 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 481; s.pc = 61; return s.tmp_6;
  case 61:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_5.arg1 = r0;
    s.callLocIdx = 482; s.pc = 60; return s.tmp_5;
  case 60:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.h___7442.fields["serviceIndex"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 483; s.pc = 62; return s.tmp_0;
  case 62:
    r0 = s.retval;
    s.tmp_0 = jacdac_Server__C3447_v0_2_mk(s);
    s.tmp_0.arg0 = s.h___7442;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacketOuter;
    s.pc = 63; return s.tmp_0;
  case 63:
    r0 = s.retval;
  case 10:
  case 11:
    r0 = (s.unnamed93___U6 + 1);
    s.unnamed93___U6 = (r0);
    { step = 7; continue; }
  case 12:
    s.unnamed92___U5 = (undefined);
    { step = 48; continue; }
  case 13:
    s.tmp_1 = r0 = s.devId___7403;
    s.tmp_3 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 484; s.pc = 64; return s.tmp_3;
  case 64:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_0;
    { step = 15; continue; }
  case 14:
    s.tmp_4 = jacdac_JDPacket_isCommand__P2919_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 485; s.pc = 65; return s.tmp_4;
  case 65:
    r0 = s.retval;
  case 15:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 20; continue; }
    r0 = s.arg0.fields["servers"];
    s.tmp_6 = r0;
    r0 = s.arg1.fields["_header"];
    s.tmp_9 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_9, 13);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 & 63);
    s.tmp_7 = r0;
    r0 = pxsim_Array__getAt(s.tmp_6, s.tmp_7);
    s.h___7471 = (r0);
    s.tmp_0 = r0 = s.h___7471;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 16:
    r0 = s.h___7471.fields["running"];
  case 17:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 18; continue; }
    s.tmp_2 = jacdac_Server__C3447_v0_2_mk(s);
    s.tmp_2.arg0 = s.h___7471;
    s.tmp_2.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_2.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.handlePacketOuter;
    s.pc = 66; return s.tmp_2;
  case 66:
    r0 = s.retval;
  case 18:
  case 19:
    { step = 47; continue; }
  case 20:
    s.tmp_1 = jacdac_JDPacket_isCommand__P2919_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 487; s.pc = 67; return s.tmp_1;
  case 67:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    { step = 49; continue; }
  case 21:
  case 22:
    r0 = pxsim_pxtcore_mkAction(1, dev_inline__P7490);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.devId___7403);
    s.tmp_3 = helpers_arrayFind__P2002_mk(s);
    r0 = s.arg0.fields["devices"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_2;
    s.callLocIdx = 488; s.pc = 68; return s.tmp_3;
  case 68:
    r0 = s.retval;
    s.dev___7486 = (r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 13);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 63);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 41; continue; }
    r0 = s.arg1.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 14);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 37; continue; }
    r0 = s.arg1.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_8, 0);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 & 15);
    s.pktRestartCounter___7504 = (r0);
    s.tmp_0 = r0 = s.dev___7486;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 23; continue; }
    r0 = s.tmp_0;
    { step = 24; continue; }
  case 23:
    s.tmp_2 = jacdac_Device_restartCounter__P3532_mk(s);
    s.tmp_2.arg0 = s.dev___7486;
    s.callLocIdx = 492; s.pc = 69; return s.tmp_2;
  case 69:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.pktRestartCounter___7504);
  case 24:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 25; continue; }
    s.tmp_4 = jacdac_log__P5040_mk(s);
    s.tmp_12 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_12.arg0 = s.dev___7486;
    s.callLocIdx = 493; s.pc = 71; return s.tmp_12;
  case 71:
    r0 = s.retval;
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 72);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 72:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat("device ", s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_9, " resetted (");
    s.tmp_8 = r0;
    s.tmp_15 = jacdac_Device_restartCounter__P3532_mk(s);
    s.tmp_15.arg0 = s.dev___7486;
    s.callLocIdx = 494; s.pc = 73; return s.tmp_15;
  case 73:
    r0 = s.retval;
    s.tmp_14 = r0;
    if ((s.tmp_14) && (s.tmp_14).vtable) {
    setupResume(s, 74);
    pxsim_String__stringConv(s.tmp_14);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_14) + ""; }
  case 74:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_8, s.tmp_13);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, " > ");
    s.tmp_6 = r0;
    if ((s.pktRestartCounter___7504) && (s.pktRestartCounter___7504).vtable) {
    setupResume(s, 75);
    pxsim_String__stringConv(s.pktRestartCounter___7504);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.pktRestartCounter___7504) + ""; }
  case 75:
    r0 = s.retval;
    s.tmp_16 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_16);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, ")");
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 495; s.pc = 70; return s.tmp_4;
  case 70:
    r0 = s.retval;
    r0 = s.arg0.fields["devices"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.dev___7486);
    s.tmp_0 = jacdac_Device__destroy__P3549_mk(s);
    s.tmp_0.arg0 = s.dev___7486;
    s.callLocIdx = 496; s.pc = 76; return s.tmp_0;
  case 76:
    r0 = s.retval;
    s.dev___7486 = (null);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.RESTART___3401;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 497; s.pc = 77; return s.tmp_0;
  case 77:
    r0 = s.retval;
  case 25:
  case 26:
    s.matches___7547 = (false);
    r0 = pxsim_numops_toBoolDecr(s.dev___7486);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Device__C3525_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_Device_constructor__P3529_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    r0 = s.arg1.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_5, 4, 8);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_4);
    s.tmp_3.arg1 = r0;
    r0 = s.arg1.fields["_data"];
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 500; s.pc = 78; return s.tmp_3;
  case 78:
    r0 = s.retval;
    s.dev___7486 = (s.tmp_2);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.DEVICE_CONNECT___3393;
    s.tmp_0.arg2 = s.dev___7486;
    s.callLocIdx = 501; s.pc = 79; return s.tmp_0;
  case 79:
    r0 = s.retval;
    { step = 28; continue; }
  case 27:
    s.tmp_0 = jacdac_serviceMatches__P5066_mk(s);
    s.tmp_0.arg0 = s.dev___7486;
    r0 = s.arg1.fields["_data"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 503; s.pc = 80; return s.tmp_0;
  case 80:
    r0 = s.retval;
    s.matches___7547 = (r0);
    s.tmp_0 = r0 = s.dev___7486;
    r0 = s.arg1.fields["_data"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["services"] = (s.tmp_1);
  case 28:
    s.tmp_1 = jacdac_Device_isBrain__P3530_mk(s);
    s.tmp_2 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 505; s.pc = 82; return s.tmp_2;
  case 82:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 506; s.pc = 81; return s.tmp_1;
  case 81:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 29; continue; }
    r0 = s.tmp_0;
    { step = 30; continue; }
  case 29:
    s.tmp_3 = jacdac_Device_isBrain__P3530_mk(s);
    s.tmp_3.arg0 = s.dev___7486;
    s.callLocIdx = 507; s.pc = 83; return s.tmp_3;
  case 83:
    r0 = s.retval;
  case 30:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 31; continue; }
    r0 = s.tmp_4;
    { step = 32; continue; }
  case 31:
    s.tmp_6 = jacdac_Device_restartCounter__P3532_mk(s);
    s.tmp_6.arg0 = s.dev___7486;
    s.callLocIdx = 508; s.pc = 84; return s.tmp_6;
  case 84:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = s.arg0.fields["restartCounter"];
    s.tmp_7 = r0;
    r0 = (s.tmp_5 < s.tmp_7);
  case 32:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 33; continue; }
    s.tmp_9 = jacdac_log__P5040_mk(s);
    s.tmp_13 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_13.arg0 = s.dev___7486;
    s.callLocIdx = 509; s.pc = 86; return s.tmp_13;
  case 86:
    r0 = s.retval;
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 87);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 87:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat("device ", s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_10, " new proxy");
    s.tmp_9.arg0 = r0;
    s.callLocIdx = 510; s.pc = 85; return s.tmp_9;
  case 85:
    r0 = s.retval;
    s.tmp_0 = jacdac_resetToProxy__P5087_mk(s);
    s.callLocIdx = 511; s.pc = 88; return s.tmp_0;
  case 88:
    r0 = s.retval;
  case 33:
  case 34:
    r0 = pxsim_numops_toBoolDecr(s.matches___7547);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 35; continue; }
    s.tmp_2 = jacdac_Bus_reattach__P3427_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.dev___7486;
    s.callLocIdx = 512; s.pc = 89; return s.tmp_2;
  case 89:
    r0 = s.retval;
  case 35:
  case 36:
  case 37:
  case 38:
    r0 = pxsim_numops_toBoolDecr(s.dev___7486);
    if (!r0) { step = 39; continue; }
    s.tmp_0 = jacdac_Device_processPacket__P3545_mk(s);
    s.tmp_0.arg0 = s.dev___7486;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 513; s.pc = 90; return s.tmp_0;
  case 90:
    r0 = s.retval;
  case 39:
  case 40:
    { step = 49; continue; }
    { step = 44; continue; }
  case 41:
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 13);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 63);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 63);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 42; continue; }
    s.tmp_4 = jacdac__gotAck__P2929_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 515; s.pc = 91; return s.tmp_4;
  case 91:
    r0 = s.retval;
  case 42:
  case 43:
  case 44:
    r0 = pxsim_numops_toBoolDecr(s.dev___7486);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 45; continue; }
    { step = 49; continue; }
  case 45:
  case 46:
    s.tmp_2 = jacdac_Device_processPacket__P3545_mk(s);
    s.tmp_2.arg0 = s.dev___7486;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 516; s.pc = 92; return s.tmp_2;
  case 92:
    r0 = s.retval;
  case 47:
  case 48:
  case 49:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_processPacket__P3428.info = {"start":8354,"length":3910,"line":248,"column":8,"endLine":336,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"processPacket","argumentNames":["this","pkt"]}

function jacdac_Bus_processPacket__P3428_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_processPacket__P3428, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  devId___7403: undefined,
  multiCommandClass___7406: undefined,
  crc___7418: undefined,
  ack___7421: undefined,
  h___7442: undefined,
  unnamed92___U5: undefined,
  unnamed93___U6: undefined,
  h___7471: undefined,
  dev___7486: undefined,
  pktRestartCounter___7504: undefined,
  matches___7547: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function dev_inline__P7490(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["deviceId"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
dev_inline__P7490.info = {"start":10078,"length":24,"line":286,"column":44,"endLine":286,"endColumn":68,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["d"]}

function dev_inline__P7490_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: dev_inline__P7490, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac__gotAck__P2929(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numNotify___7614 = undefined;
    s.srcId___7615 = undefined;
    s.crc___7618 = undefined;
    s.a___7622 = undefined;
    s.unnamed62___U4 = undefined;
    s.unnamed63___U5 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.ackAwaiters___4891);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    s.numNotify___7614 = (0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    s.srcId___7615 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.crc___7618 = (r0);
    s.a___7622 = (undefined);
    s.unnamed62___U4 = (globals.ackAwaiters___4891);
    s.unnamed63___U5 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed63___U5;
    r0 = pxsim_Array__length(s.unnamed62___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(s.unnamed62___U4, s.unnamed63___U5);
    s.a___7622 = (r0);
    r0 = s.a___7622.fields["crc"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.crc___7618);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.a___7622.fields["srcId"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.srcId___7615);
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 6; continue; }
    r0 = (s.a___7622).fields["nextRetry"] = (0);
    r0 = s.a___7622.fields["eventId"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(1023, s.tmp_0, 1);
    r0 = (s.numNotify___7614 + 1);
    s.numNotify___7614 = (r0);
  case 6:
  case 7:
    r0 = (s.unnamed63___U5 + 1);
    s.unnamed63___U5 = (r0);
    { step = 3; continue; }
  case 8:
    s.unnamed62___U4 = (undefined);
    r0 = pxsim_numops_toBoolDecr(s.numNotify___7614);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = helpers_arrayFilter__P2001_mk(s);
    s.tmp_0.arg0 = globals.ackAwaiters___4891;
    s.tmp_0.arg1 = jacdac__gotAck_inline__P7651;
    s.callLocIdx = 251; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    globals.ackAwaiters___4891 = (r0);
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__gotAck__P2929.info = {"start":12483,"length":508,"line":388,"column":4,"endLine":401,"endColumn":5,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_gotAck","argumentNames":["pkt"]}

function jacdac__gotAck__P2929_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__gotAck__P2929, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  numNotify___7614: undefined,
  srcId___7615: undefined,
  crc___7618: undefined,
  a___7622: undefined,
  unnamed62___U4: undefined,
  unnamed63___U5: undefined,
  arg0: undefined,
} }





function jacdac__gotAck_inline__P7651(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["nextRetry"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 !== 0);
    return leave(s, r0)
  default: oops()
} } }
jacdac__gotAck_inline__P7651.info = {"start":12962,"length":22,"line":400,"column":56,"endLine":400,"endColumn":78,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":["a"]}

function jacdac__gotAck_inline__P7651_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__gotAck_inline__P7651, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayFilter__P2001(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___7658 = undefined;
    s.len___7660 = undefined;
    s.i___7663 = undefined;
    s.v___7668 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___7658 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___7660 = (r0);
    s.i___7663 = (0);
  case 1:
    r0 = (s.i___7663 < s.len___7660);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___7663);
    s.v___7668 = (r0);
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.v___7668;
    s.tmp_1.arg1 = s.i___7663;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 8; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__push(s.res___7658, s.v___7668);
  case 2:
  case 3:
    r0 = (s.i___7663 + 1);
    s.i___7663 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.res___7658;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayFilter__P2001.info = {"start":7695,"length":317,"line":261,"column":4,"endLine":269,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayFilter","argumentNames":["arr","callbackfn"]}

function helpers_arrayFilter__P2001_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayFilter__P2001, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  res___7658: undefined,
  len___7660: undefined,
  i___7663: undefined,
  v___7668: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Device_processPacket__P3545(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cmd___7700 = undefined;
    s.q___7711 = undefined;
    s.serviceIndex___7723 = undefined;
    s.q___7731 = undefined;
    s.serviceClass___7748 = undefined;
    s.ec___7759 = undefined;
    s.ahead___7772 = undefined;
    s.behind___7780 = undefined;
    s.client___7811 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSeen"] = (s.tmp_1);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.PACKET_RECEIVE___3402;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 724; s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["queries"];
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    r0 = s.arg1.fields["_data"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, 4, 0);
    s.cmd___7700 = (r0);
    r0 = (s.cmd___7700 >> 12);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = jacdac_Device_lookupQuery__P5055_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = (s.cmd___7700 & 4095);
    s.tmp_2.arg1 = r0;
    r0 = s.arg1.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 13);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 63);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 728; s.pc = 35; return s.tmp_2;
  case 35:
    r0 = s.retval;
    s.q___7711 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.q___7711);
    if (!r0) { step = 3; continue; }
    r0 = (s.q___7711).fields["notImplemented"] = (true);
  case 3:
  case 4:
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_1, 13);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 63);
    s.serviceIndex___7723 = (r0);
    s.tmp_1 = jacdac_JDPacket_isRegGet__P2907_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 730; s.pc = 36; return s.tmp_1;
  case 36:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = s.arg0.fields["queries"];
  case 10:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = jacdac_Device_lookupQuery__P5055_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_4 = jacdac_JDPacket_regCode__P2908_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 731; s.pc = 38; return s.tmp_4;
  case 38:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = s.serviceIndex___7723;
    s.callLocIdx = 732; s.pc = 37; return s.tmp_3;
  case 37:
    r0 = s.retval;
    s.q___7731 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.q___7731);
    if (!r0) { step = 11; continue; }
    s.tmp_0 = r0 = s.q___7731;
    r0 = s.arg1.fields["_data"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["value"] = (s.tmp_1);
    s.tmp_0 = r0 = s.q___7731;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastReport"] = (s.tmp_1);
  case 11:
  case 12:
  case 13:
  case 14:
    s.tmp_0 = jacdac_Device_serviceClassAt__P3540_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.serviceIndex___7723;
    s.callLocIdx = 734; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
    s.serviceClass___7748 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.serviceClass___7748);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = s.tmp_0;
    { step = 16; continue; }
  case 15:
    r0 = (s.serviceClass___7748 == 4294967295);
  case 16:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 17; continue; }
    { step = 33; continue; }
  case 17:
  case 18:
    s.tmp_4 = jacdac_JDPacket_isEvent__P2903_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 735; s.pc = 40; return s.tmp_4;
  case 40:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 27; continue; }
    r0 = s.arg0.fields["_eventCounter"];
    s.ec___7759 = (r0);
    r0 = (s.ec___7759 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 19; continue; }
    s.tmp_2 = jacdac_JDPacket_eventCounter__P2905_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 736; s.pc = 41; return s.tmp_2;
  case 41:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.ec___7759 = (r0);
  case 19:
  case 20:
    r0 = (s.ec___7759 + 1);
    s.ec___7759 = (r0);
    s.tmp_2 = jacdac_JDPacket_eventCounter__P2905_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 737; s.pc = 42; return s.tmp_2;
  case 42:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.ec___7759);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 127);
    s.ahead___7772 = (r0);
    s.tmp_1 = r0 = s.ec___7759;
    s.tmp_3 = jacdac_JDPacket_eventCounter__P2905_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.callLocIdx = 738; s.pc = 43; return s.tmp_3;
  case 43:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 127);
    s.behind___7780 = (r0);
    r0 = (s.ahead___7772 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 21; continue; }
    r0 = s.tmp_0;
    { step = 24; continue; }
  case 21:
    r0 = (s.behind___7780 < 60);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 22; continue; }
    r0 = s.tmp_1;
    { step = 23; continue; }
  case 22:
    r0 = (s.ahead___7772 < 5);
  case 23:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
  case 24:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 25; continue; }
    { step = 33; continue; }
  case 25:
  case 26:
    s.tmp_4 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = globals.EVENT___3403;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 739; s.pc = 44; return s.tmp_4;
  case 44:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.EVENT___3403;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 740; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_eventCounter__P2905_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 741; s.pc = 46; return s.tmp_2;
  case 46:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_eventCounter"] = (s.tmp_1);
  case 27:
  case 28:
    r0 = s.arg0.fields["clients"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 29; continue; }
    { step = 33; continue; }
  case 29:
  case 30:
    r0 = pxsim_pxtcore_mkAction(2, client_inline__P7813);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 0, s.serviceClass___7748);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 1, s.serviceIndex___7723);
    s.tmp_4 = helpers_arrayFind__P2002_mk(s);
    r0 = s.arg0.fields["clients"];
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.tmp_3;
    s.callLocIdx = 742; s.pc = 47; return s.tmp_4;
  case 47:
    r0 = s.retval;
    s.client___7811 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.client___7811);
    if (!r0) { step = 31; continue; }
    s.tmp_0 = jacdac_Client_handlePacketOuter__P3513_mk(s);
    s.tmp_0.arg0 = s.client___7811;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 743; s.pc = 48; return s.tmp_0;
  case 48:
    r0 = s.retval;
  case 31:
  case 32:
  case 33:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_processPacket__P3545.info = {"start":48890,"length":2541,"line":1481,"column":8,"endLine":1542,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"processPacket","argumentNames":["this","pkt"]}

function jacdac_Device_processPacket__P3545_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_processPacket__P3545, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  cmd___7700: undefined,
  q___7711: undefined,
  serviceIndex___7723: undefined,
  q___7731: undefined,
  serviceClass___7748: undefined,
  ec___7759: undefined,
  ahead___7772: undefined,
  behind___7780: undefined,
  client___7811: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function client_inline__P7813(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["broadcast"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.caps[0]);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == s.caps[1]);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
client_inline__P7813.info = {"start":51102,"length":138,"line":1533,"column":45,"endLine":1536,"endColumn":52,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["c"]}

function client_inline__P7813_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: client_inline__P7813, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_Client_handlePacketOuter__P3513(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.code___7848 = undefined;
    s.register___7879 = undefined;
    s.unnamed98___U2 = undefined;
    s.unnamed99___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = globals.bus___3430.fields["proxyMode"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 15; continue; }
  case 1:
  case 2:
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = r0 = s.arg0;
    r0 = s.arg1.fields["_data"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["advertisementData"] = (s.tmp_5);
  case 3:
  case 4:
    s.tmp_1 = jacdac_JDPacket_isEvent__P2903_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 660; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_2 = jacdac_JDPacket_eventCode__P2904_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 661; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.code___7848 = (r0);
    r0 = (s.code___7848 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.arg0).fields["systemActive"] = (true);
    { step = 10; continue; }
  case 5:
    r0 = (s.code___7848 == 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = (s.arg0).fields["systemActive"] = (false);
    { step = 9; continue; }
  case 6:
    r0 = (s.code___7848 == 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = helpers_arrayForEach__P2000_mk(s);
    r0 = s.arg0.fields["registers"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = jacdac_Client_handlePacketOuter_inline__P7869;
    s.callLocIdx = 663; s.pc = 18; return s.tmp_1;
  case 18:
    r0 = s.retval;
  case 7:
  case 8:
  case 9:
  case 10:
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.EVENT___3403;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 664; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_raiseEvent__P4936_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.code___7848;
    s.callLocIdx = 665; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    { step = 14; continue; }
  case 11:
    s.register___7879 = (undefined);
    r0 = s.arg0.fields["registers"];
    s.unnamed98___U2 = (r0);
    s.unnamed99___U3 = (0);
  case 12:
    s.tmp_0 = r0 = s.unnamed99___U3;
    r0 = pxsim_Array__length(s.unnamed98___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 13; continue; }
    r0 = pxsim_Array__getAt(s.unnamed98___U2, s.unnamed99___U3);
    s.register___7879 = (r0);
    s.tmp_2 = jacdac_RegisterClient_handlePacket__P3487_mk(s);
    s.tmp_2.arg0 = s.register___7879;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 666; s.pc = 21; return s.tmp_2;
  case 21:
    r0 = s.retval;
    r0 = (s.unnamed99___U3 + 1);
    s.unnamed99___U3 = (r0);
    { step = 12; continue; }
  case 13:
    s.unnamed98___U2 = (undefined);
  case 14:
    s.tmp_0 = jacdac_Client__C3496_v0_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Client__C3496_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacket;
    s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
  case 15:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handlePacketOuter__P3513.info = {"start":36972,"length":826,"line":1129,"column":8,"endLine":1148,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_Client_handlePacketOuter__P3513_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handlePacketOuter__P3513, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  code___7848: undefined,
  register___7879: undefined,
  unnamed98___U2: undefined,
  unnamed99___U3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_handlePacketOuter_inline__P7869(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_RegisterClient_reset__P3477_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 662; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handlePacketOuter_inline__P7869.info = {"start":37541,"length":14,"line":1141,"column":43,"endLine":1141,"endColumn":57,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["r"]}

function jacdac_Client_handlePacketOuter_inline__P7869_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handlePacketOuter_inline__P7869, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Client_handlePacket__P3514(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handlePacket__P3514.info = {"start":37808,"length":30,"line":1150,"column":8,"endLine":1150,"endColumn":38,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_Client_handlePacket__P3514_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handlePacket__P3514, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_RegisterClient_handlePacket__P3487(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___7900 = undefined;
    s.changed___7903 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isRegGet__P2907_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 633; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["code"];
    s.tmp_2 = r0;
    s.tmp_4 = jacdac_JDPacket_regCode__P2908_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 634; s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 == s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 9; continue; }
    r0 = s.arg1.fields["_data"];
    s.d___7900 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.d___7900);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_1 != s.tmp_5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.d___7900);
    s.tmp_10 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_10);
  case 4:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBool(s.tmp_11);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_11;
    { step = 6; continue; }
  case 5:
    s.tmp_14 = helpers_bufferEquals__P2619_mk(s);
    s.tmp_14.arg0 = s.d___7900;
    r0 = s.arg0.fields["_data"];
    s.tmp_14.arg1 = r0;
    s.callLocIdx = 636; s.pc = 13; return s.tmp_14;
  case 13:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    s.tmp_12 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_12);
  case 6:
    // jmp value (already in r0)
    s.tmp_15 = r0;
    s.changed___7903 = (s.tmp_15);
    r0 = (s.arg0).fields["_data"] = (s.d___7900);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_localTime"] = (s.tmp_1);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.REPORT_RECEIVE___3399;
    s.tmp_0.arg2 = s.arg0;
    s.callLocIdx = 637; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.changed___7903);
    if (!r0) { step = 7; continue; }
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.REPORT_UPDATE___3400;
    s.tmp_0.arg2 = s.arg0;
    s.callLocIdx = 638; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 639; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_handlePacket__P3487.info = {"start":31218,"length":537,"line":953,"column":8,"endLine":966,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac_RegisterClient_handlePacket__P3487_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_handlePacket__P3487, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  d___7900: undefined,
  changed___7903: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_bufferEquals__P2619(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___7961 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_7 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_11 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_9);
    s.tmp_8 = r0;
    r0 = (s.tmp_4 == s.tmp_8);
    { step = 11; continue; }
  case 3:
  case 4:
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_13 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_14 = r0;
    r0 = (s.tmp_13 != s.tmp_14);
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_12);
    if (!r0) { step = 5; continue; }
    r0 = false;
    { step = 11; continue; }
  case 5:
  case 6:
    s.i___7961 = (0);
  case 7:
    s.tmp_1 = r0 = s.i___7961;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.i___7961);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, s.i___7961);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 != s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 8; continue; }
    r0 = false;
    { step = 11; continue; }
  case 8:
  case 9:
    r0 = (s.i___7961 + 1);
    s.i___7961 = (r0);
    { step = 7; continue; }
  case 10:
    r0 = true;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferEquals__P2619.info = {"start":3970,"length":283,"line":139,"column":4,"endLine":147,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"bufferEquals","argumentNames":["l","r"]}

function helpers_bufferEquals__P2619_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferEquals__P2619, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  i___7961: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_raiseEvent__P4936(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["eventSource"];
    s.tmp_0 = r0;
    r0 = (61440 + s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_0, s.tmp_1, 1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_raiseEvent__P4936.info = {"start":40241,"length":176,"line":1219,"column":8,"endLine":1224,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"raiseEvent","argumentNames":["this","value"]}

function jacdac_Client_raiseEvent__P4936_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_raiseEvent__P4936, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_RegisterClient_reset__P3477(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_data"] = (undefined);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_localTime"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_reset__P3477.info = {"start":29289,"length":101,"line":889,"column":8,"endLine":892,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"reset","argumentNames":["this"]}

function jacdac_RegisterClient_reset__P3477_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_reset__P3477, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function helpers_arrayForEach__P2000(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___7997 = undefined;
    s.i___8000 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___7997 = (r0);
    s.i___8000 = (0);
  case 1:
    r0 = (s.i___8000 < s.len___7997);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___8000);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.i___8000;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 7; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = (s.i___8000 + 1);
    s.i___8000 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayForEach__P2000.info = {"start":7439,"length":250,"line":254,"column":4,"endLine":259,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayForEach","argumentNames":["arr","callbackfn"]}

function helpers_arrayForEach__P2000_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayForEach__P2000, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___7997: undefined,
  i___8000: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_eventCode__P2904(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isEvent__P2903_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 204; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 255);
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_eventCode__P2904.info = {"start":5692,"length":147,"line":171,"column":8,"endLine":175,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"eventCode","argumentNames":["this"]}
jacdac_JDPacket_eventCode__P2904.isGetter = true;

function jacdac_JDPacket_eventCode__P2904_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_eventCode__P2904, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_eventCounter__P2905(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isEvent__P2903_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 206; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, 4, 14);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 8);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 127);
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_eventCounter__P2905.info = {"start":5849,"length":202,"line":177,"column":8,"endLine":182,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"eventCounter","argumentNames":["this"]}
jacdac_JDPacket_eventCounter__P2905.isGetter = true;

function jacdac_JDPacket_eventCounter__P2905_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_eventCounter__P2905, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_isEvent__P2903(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isReport__P2920_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 201; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 13);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 63);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 <= 48);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_5;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["_header"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_8, 4, 14);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 & 32768);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 != 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = s.tmp_9;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_isEvent__P2903.info = {"start":5484,"length":198,"line":163,"column":8,"endLine":169,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"isEvent","argumentNames":["this"]}
jacdac_JDPacket_isEvent__P2903.isGetter = true;

function jacdac_JDPacket_isEvent__P2903_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_isEvent__P2903, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_isReport__P2920(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 1);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_isReport__P2920.info = {"start":8555,"length":89,"line":267,"column":8,"endLine":269,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"isReport","argumentNames":["this"]}
jacdac_JDPacket_isReport__P2920.isGetter = true;

function jacdac_JDPacket_isReport__P2920_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_isReport__P2920, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_packetFlags__P2893(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_packetFlags__P2893.info = {"start":4144,"length":64,"line":121,"column":8,"endLine":123,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"packetFlags","argumentNames":["this"]}
jacdac_JDPacket_packetFlags__P2893.isGetter = true;

function jacdac_JDPacket_packetFlags__P2893_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_packetFlags__P2893, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Device_serviceClassAt__P3540(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = (s.arg1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["services"];
    s.tmp_1 = r0;
    r0 = (s.arg1 << 2);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 11, s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_serviceClassAt__P3540.info = {"start":47013,"length":253,"line":1427,"column":8,"endLine":1434,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"serviceClassAt","argumentNames":["this","serviceIndex"]}

function jacdac_Device_serviceClassAt__P3540_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_serviceClassAt__P3540, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_regCode__P2908(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 4095);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_regCode__P2908.info = {"start":6265,"length":79,"line":192,"column":8,"endLine":194,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"regCode","argumentNames":["this"]}
jacdac_JDPacket_regCode__P2908.isGetter = true;

function jacdac_JDPacket_regCode__P2908_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_regCode__P2908, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_isRegGet__P2907(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 12);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_isRegGet__P2907.info = {"start":6163,"length":92,"line":188,"column":8,"endLine":190,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"isRegGet","argumentNames":["this"]}
jacdac_JDPacket_isRegGet__P2907.isGetter = true;

function jacdac_JDPacket_isRegGet__P2907_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_isRegGet__P2907, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_Device_lookupQuery__P5055(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["queries"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["queries"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(2, jacdac_Device_lookupQuery_inline__P8081);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg2);
    s.tmp_1 = helpers_arrayFind__P2002_mk(s);
    r0 = s.arg0.fields["queries"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 716; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_lookupQuery__P5055.info = {"start":46295,"length":183,"line":1403,"column":8,"endLine":1406,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"lookupQuery","argumentNames":["this","reg","serv"]}

function jacdac_Device_lookupQuery__P5055_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_lookupQuery__P5055, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Device_lookupQuery_inline__P8081(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["reg"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["serviceIdx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == s.caps[1]);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_lookupQuery_inline__P8081.info = {"start":46426,"length":41,"line":1405,"column":37,"endLine":1405,"endColumn":78,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["q"]}

function jacdac_Device_lookupQuery_inline__P8081_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_lookupQuery_inline__P8081, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_getNumber__P2917(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, s.arg1, s.arg2);
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_getNumber__P2917.info = {"start":8239,"length":109,"line":255,"column":8,"endLine":257,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"getNumber","argumentNames":["this","fmt","offset"]}

function jacdac_JDPacket_getNumber__P2917_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_getNumber__P2917, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Bus_reattach__P3427(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.newClients___8129 = undefined;
    s.occupied___8131 = undefined;
    s.c___8139 = undefined;
    s.unnamed88___U3 = undefined;
    s.unnamed89___U4 = undefined;
    s.newClass___8146 = undefined;
    s.i___8185 = undefined;
    s.serviceClass___8195 = undefined;
    s.cc___8203 = undefined;
    s.unnamed90___U9 = undefined;
    s.unnamed91___U10 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSeen"] = (s.tmp_1);
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_7 = jacdac_Device_toString__P3537_mk(s);
    s.tmp_7.arg0 = s.arg1;
    s.callLocIdx = 456; s.pc = 25; return s.tmp_7;
  case 25:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("roles: attaching to ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "; cl=");
    s.tmp_3 = r0;
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_10 = r0;
    r0 = pxsim_Array__length(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_8);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "/");
    s.tmp_1 = r0;
    r0 = s.arg0.fields["allClients"];
    s.tmp_13 = r0;
    r0 = pxsim_Array__length(s.tmp_13);
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_11);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 457; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.newClients___8129 = (r0);
    r0 = s.arg1.fields["services"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 2);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.occupied___8131 = (r0);
    s.c___8139 = (undefined);
    r0 = s.arg1.fields["clients"];
    s.unnamed88___U3 = (r0);
    s.unnamed89___U4 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed89___U4;
    r0 = pxsim_Array__length(s.unnamed88___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__getAt(s.unnamed88___U3, s.unnamed89___U4);
    s.c___8139 = (r0);
    r0 = s.c___8139.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = jacdac_Client__detach__P3516_mk(s);
    s.tmp_3.arg0 = s.c___8139;
    s.callLocIdx = 458; s.pc = 29; return s.tmp_3;
  case 29:
    r0 = s.retval;
    { step = 8; continue; }
  case 2:
  case 3:
    s.tmp_0 = jacdac_Device_serviceClassAt__P3540_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.c___8139.fields["serviceIndex"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 459; s.pc = 30; return s.tmp_0;
  case 30:
    r0 = s.retval;
    s.newClass___8146 = (r0);
    r0 = s.c___8139.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = (s.newClass___8146 == s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    s.tmp_2 = jacdac_Device_matchesRoleAt__P3538_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_3 = jacdac_Client_roleQuery__P3505_mk(s);
    s.tmp_3.arg0 = s.c___8139;
    s.callLocIdx = 460; s.pc = 32; return s.tmp_3;
  case 32:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    r0 = s.c___8139.fields["serviceClass"];
    s.tmp_2.arg2 = r0;
    r0 = s.c___8139.fields["serviceIndex"];
    s.tmp_2.arg3 = r0;
    s.callLocIdx = 461; s.pc = 31; return s.tmp_2;
  case 31:
    r0 = s.retval;
  case 5:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__push(s.newClients___8129, s.c___8139);
    r0 = s.c___8139.fields["serviceIndex"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.occupied___8131, s.tmp_0, 1);
    { step = 7; continue; }
  case 6:
    s.tmp_0 = jacdac_Client__detach__P3516_mk(s);
    s.tmp_0.arg0 = s.c___8139;
    s.callLocIdx = 462; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.unnamed89___U4 + 1);
    s.unnamed89___U4 = (r0);
    { step = 1; continue; }
  case 9:
    s.unnamed88___U3 = (undefined);
    r0 = (s.arg1).fields["clients"] = (s.newClients___8129);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.DEVICE_ANNOUNCE___3396;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 463; s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    { step = 23; continue; }
  case 10:
  case 11:
    s.i___8185 = (4);
  case 12:
    s.tmp_1 = r0 = s.i___8185;
    r0 = s.arg1.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_5 = r0 = s.occupied___8131;
    r0 = (s.i___8185 >> 2);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 13; continue; }
    { step = 21; continue; }
  case 13:
  case 14:
    r0 = s.arg1.fields["services"];
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_7, 11, s.i___8185);
    s.serviceClass___8195 = (r0);
    s.cc___8203 = (undefined);
    r0 = s.arg0.fields["unattachedClients"];
    s.unnamed90___U9 = (r0);
    s.unnamed91___U10 = (0);
  case 15:
    s.tmp_0 = r0 = s.unnamed91___U10;
    r0 = pxsim_Array__length(s.unnamed90___U9);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_Array__getAt(s.unnamed90___U9, s.unnamed91___U10);
    s.cc___8203 = (r0);
    r0 = s.cc___8203.fields["serviceClass"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.serviceClass___8195);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 18; continue; }
    s.tmp_4 = console_add__P2377_mk(s);
    s.tmp_4.arg0 = globals.logPriority___3431;
    r0 = s.cc___8203.fields["_role"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 36);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 36:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat("reattach: ", s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, " -> ");
    s.tmp_7 = r0;
    s.tmp_13 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_13.arg0 = s.arg1;
    s.callLocIdx = 465; s.pc = 37; return s.tmp_13;
  case 37:
    r0 = s.retval;
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 38);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 38:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_11);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, ":");
    s.tmp_5 = r0;
    r0 = (s.i___8185 >> 2);
    s.tmp_15 = r0;
    if ((s.tmp_15) && (s.tmp_15).vtable) {
    setupResume(s, 39);
    pxsim_String__stringConv(s.tmp_15);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_15) + ""; }
  case 39:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_14);
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 466; s.pc = 35; return s.tmp_4;
  case 35:
    r0 = s.retval;
    s.tmp_1 = jacdac_Client__attach__P3515_mk(s);
    s.tmp_1.arg0 = s.cc___8203;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.serviceClass___8195;
    r0 = (s.i___8185 >> 2);
    s.tmp_1.arg3 = r0;
    s.callLocIdx = 467; s.pc = 40; return s.tmp_1;
  case 40:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    { step = 20; continue; }
  case 16:
  case 17:
  case 18:
  case 19:
    r0 = (s.unnamed91___U10 + 1);
    s.unnamed91___U10 = (r0);
    { step = 15; continue; }
  case 20:
    s.unnamed90___U9 = (undefined);
  case 21:
    r0 = (s.i___8185 + 4);
    s.i___8185 = (r0);
    { step = 12; continue; }
  case 22:
  case 23:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_reattach__P3427.info = {"start":6446,"length":1898,"line":195,"column":8,"endLine":246,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"reattach","argumentNames":["this","dev"]}

function jacdac_Bus_reattach__P3427_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_reattach__P3427, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  newClients___8129: undefined,
  occupied___8131: undefined,
  c___8139: undefined,
  unnamed88___U3: undefined,
  unnamed89___U4: undefined,
  newClass___8146: undefined,
  i___8185: undefined,
  serviceClass___8195: undefined,
  cc___8203: undefined,
  unnamed90___U9: undefined,
  unnamed91___U10: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client__attach__P3515(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_panic__P3432_mk(s);
    s.tmp_1.arg0 = "invalid attach";
    s.callLocIdx = 668; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_6 = jacdac_Device_matchesRoleAt__P3538_mk(s);
    s.tmp_6.arg0 = s.arg1;
    s.tmp_7 = jacdac_Client_roleQuery__P3505_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 669; s.pc = 10; return s.tmp_7;
  case 10:
    r0 = s.retval;
    s.tmp_6.arg1 = r0;
    s.tmp_6.arg2 = s.arg2;
    s.tmp_6.arg3 = s.arg3;
    s.callLocIdx = 670; s.pc = 9; return s.tmp_6;
  case 9:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = false;
    { step = 7; continue; }
  case 3:
  case 4:
    s.tmp_8 = jacdac_Client_device__P3507_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.tmp_8.arg1 = s.arg1;
    s.callLocIdx = 671; s.pc = 11; return s.tmp_8;
  case 11:
    r0 = s.retval;
    r0 = (s.arg0).fields["serviceIndex"] = (s.arg3);
    s.tmp_0 = jacdac_Bus_attachClient__P3424_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 672; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 5:
  case 6:
    s.tmp_0 = jacdac_log__P5040_mk(s);
    r0 = s.arg0.fields["_role"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("role: attach ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " -> ");
    s.tmp_3 = r0;
    s.tmp_9 = jacdac_Device_toString__P3537_mk(s);
    s.tmp_9.arg0 = s.arg1;
    s.callLocIdx = 674; s.pc = 15; return s.tmp_9;
  case 15:
    r0 = s.retval;
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_7);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    if ((s.arg3) && (s.arg3).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.arg3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg3) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_10);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 675; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = s.arg1.fields["clients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg0);
    s.tmp_0 = jacdac_Client_handleConnected__P4935_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 676; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    r0 = true;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client__attach__P3515.info = {"start":37848,"length":639,"line":1152,"column":8,"endLine":1167,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"_attach","argumentNames":["this","dev","serviceClass","serviceNum"]}

function jacdac_Client__attach__P3515_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client__attach__P3515, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_Client_handleConnected__P4935(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_ClientPacketQueue_resend__P5045_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 677; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CONNECT___3391;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 678; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handleConnected__P4935.info = {"start":38497,"length":508,"line":1169,"column":8,"endLine":1180,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleConnected","argumentNames":["this"]}

function jacdac_Client_handleConnected__P4935_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handleConnected__P4935, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_ClientPacketQueue_resend__P5045(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sn___8293 = undefined;
    s.hasNonSet___8307 = undefined;
    s.p___8309 = undefined;
    s.unnamed94___U3 = undefined;
    s.unnamed95___U4 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C5041_VT)) failedCast(r0);
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["serviceIndex"];
    s.sn___8293 = (r0);
    r0 = (s.sn___8293 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["pkts"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 11; continue; }
  case 3:
  case 4:
    s.hasNonSet___8307 = (false);
    s.p___8309 = (undefined);
    r0 = s.arg0.fields["pkts"];
    s.unnamed94___U3 = (r0);
    s.unnamed95___U4 = (0);
  case 5:
    s.tmp_0 = r0 = s.unnamed95___U4;
    r0 = pxsim_Array__length(s.unnamed94___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(s.unnamed94___U3, s.unnamed95___U4);
    s.p___8309 = (r0);
    r0 = pxsim.BufferMethods.getByte(s.p___8309, 3);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != 2);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 6; continue; }
    s.hasNonSet___8307 = (true);
  case 6:
  case 7:
    s.tmp_0 = jacdac_Client_sendCommand__P3517_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = jacdac_JDPacket_fromFrameless__P2885_mk(s);
    s.tmp_1.arg0 = s.p___8309;
    s.callLocIdx = 612; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 613; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = (s.unnamed95___U4 + 1);
    s.unnamed95___U4 = (r0);
    { step = 5; continue; }
  case 8:
    s.unnamed94___U3 = (undefined);
    r0 = pxsim_numops_toBoolDecr(s.hasNonSet___8307);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_arrayFilter__P2001_mk(s);
    r0 = s.arg0.fields["pkts"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = jacdac_ClientPacketQueue_resend_inline__P8331;
    s.callLocIdx = 614; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pkts"] = (s.tmp_1);
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_resend__P5045.info = {"start":27824,"length":559,"line":841,"column":8,"endLine":854,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"resend","argumentNames":["this"]}

function jacdac_ClientPacketQueue_resend__P5045_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_resend__P5045, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  sn___8293: undefined,
  hasNonSet___8307: undefined,
  p___8309: undefined,
  unnamed94___U3: undefined,
  unnamed95___U4: undefined,
  arg0: undefined,
} }





function jacdac_ClientPacketQueue_resend_inline__P8331(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.getByte(s.arg0, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 2);
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_resend_inline__P8331.info = {"start":28320,"length":35,"line":852,"column":20,"endLine":852,"endColumn":55,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["p"]}

function jacdac_ClientPacketQueue_resend_inline__P8331_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_resend_inline__P8331, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_fromFrameless__P2885(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___8341 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDPacket__C2877_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_JDPacket_constructor__P4892_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 183; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.p___8341 = (s.tmp_0);
    s.tmp_0 = r0 = s.p___8341;
    r0 = pxsim.control.createBuffer(16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_header"] = (s.tmp_1);
    r0 = s.p___8341.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 12, s.arg0);
    s.tmp_0 = r0 = s.p___8341;
    r0 = pxsim.BufferMethods.slice(s.arg0, 4, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_data"] = (s.tmp_1);
    r0 = s.p___8341;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_fromFrameless__P2885.info = {"start":2424,"length":254,"line":68,"column":8,"endLine":74,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"fromFrameless","argumentNames":["frameless"]}

function jacdac_JDPacket_fromFrameless__P2885_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_fromFrameless__P2885, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  p___8341: undefined,
  arg0: undefined,
} }





function jacdac_Bus_attachClient__P3424(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_attachClient__P3424.info = {"start":5971,"length":97,"line":179,"column":8,"endLine":181,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"attachClient","argumentNames":["this","client"]}

function jacdac_Bus_attachClient__P3424_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_attachClient__P3424, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_device__P3507(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_device"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_device"] = (s.arg1);
    s.tmp_0 = helpers_arrayForEach__P2000_mk(s);
    r0 = s.arg0.fields["registers"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = jacdac_Client_device_inline__P8380;
    s.callLocIdx = 655; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_device__P3507.info = {"start":34598,"length":192,"line":1057,"column":8,"endLine":1062,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"device","argumentNames":["this","device"]}

function jacdac_Client_device__P3507_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_device__P3507, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_device_inline__P8380(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_RegisterClient_reset__P3477_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 654; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_device_inline__P8380.info = {"start":34747,"length":18,"line":1060,"column":39,"endLine":1060,"endColumn":57,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["reg"]}

function jacdac_Client_device_inline__P8380_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_device_inline__P8380, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Client_role__P3503(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_role"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Client_role__P3503.info = {"start":33990,"length":52,"line":1035,"column":8,"endLine":1037,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"role","argumentNames":["this"]}
jacdac_Client_role__P3503.isGetter = true;

function jacdac_Client_role__P3503_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_role__P3503, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Client_roleQuery__P3505(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___8388 = undefined;
    s.query___8402 = undefined;
    s.r___8411 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_role"];
    s.tmp_0 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_0, "?", undefined);
    s.i___8388 = (r0);
    r0 = (s.i___8388 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ClientRoleQuery__C3488_VT);
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_ClientRoleQuery_constructor__P3489_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    r0 = s.arg0.fields["_role"];
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 650; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = s.tmp_1;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_3 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["_role"];
    s.tmp_3.arg0 = r0;
    r0 = (s.i___8388 + 1);
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 651; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.query___8402 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ClientRoleQuery__C3488_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ClientRoleQuery_constructor__P3489_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_2 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["_role"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 0;
    s.tmp_2.arg2 = s.i___8388;
    s.callLocIdx = 652; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.query___8402;
    s.callLocIdx = 653; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.r___8411 = (s.tmp_0);
    r0 = s.r___8411;
  case 3:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Client_roleQuery__P3505.info = {"start":34224,"length":298,"line":1045,"column":8,"endLine":1051,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"roleQuery","argumentNames":["this"]}
jacdac_Client_roleQuery__P3505.isGetter = true;

function jacdac_Client_roleQuery__P3505_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_roleQuery__P3505, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  i___8388: undefined,
  query___8402: undefined,
  r___8411: undefined,
  arg0: undefined,
} }





function helpers_stringSubstr__P2009(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg2 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_String_.length(s.arg0);
    { step = 4; continue; }
  case 1:
    s.tmp_1 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_1;
    { step = 3; continue; }
  case 2:
    r0 = 0;
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.arg2 = (s.tmp_3);
    r0 = pxsim_String_.substr(s.arg0, s.arg1, s.arg2);
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSubstr__P2009.info = {"start":11286,"length":204,"line":379,"column":4,"endLine":382,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"stringSubstr","argumentNames":["s","start","length"]}

function helpers_stringSubstr__P2009_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSubstr__P2009, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_ClientRoleQuery_constructor__P3489(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.kv___8441 = undefined;
    s.unnamed96___U1 = undefined;
    s.unnamed97___U2 = undefined;
    s.i___8446 = undefined;
    s.key___8454 = undefined;
    s.value___8459 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientRoleQuery__C3488_VT)) failedCast(r0);
    r0 = (s.arg0).fields["role"] = (s.arg1);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 10; continue; }
    s.kv___8441 = (undefined);
    s.tmp_0 = helpers_stringSplit__P2013_mk(s);
    s.tmp_0.arg0 = s.arg2;
    s.tmp_0.arg1 = "&";
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 640; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.unnamed96___U1 = (r0);
    s.unnamed97___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed97___U2;
    r0 = pxsim_Array__length(s.unnamed96___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__getAt(s.unnamed96___U1, s.unnamed97___U2);
    s.kv___8441 = (r0);
    r0 = pxsim_String_.indexOf(s.kv___8441, "=", undefined);
    s.i___8446 = (r0);
    r0 = (s.i___8446 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    { step = 8; continue; }
  case 2:
  case 3:
    s.tmp_1 = helpers_stringSlice__P2010_mk(s);
    s.tmp_1.arg0 = s.kv___8441;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.i___8446;
    s.callLocIdx = 641; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.key___8454 = (r0);
    s.tmp_0 = helpers_stringSlice__P2010_mk(s);
    s.tmp_0.arg0 = s.kv___8441;
    r0 = (s.i___8446 + 1);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 642; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.value___8459 = (r0);
    s.tmp_0 = r0 = s.key___8454;
    r0 = pxsim_pxtcore.switch_eq("dev", s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq("srvi", s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("srvo", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 4:
    r0 = (s.arg0).fields["device"] = (s.value___8459);
    { step = 7; continue; }
  case 5:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = parseInt__P1988_mk(s);
    s.tmp_2.arg0 = s.value___8459;
    s.tmp_2.arg1 = undefined;
    s.callLocIdx = 643; s.pc = 15; return s.tmp_2;
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["serviceIndex"] = (s.tmp_1);
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = parseInt__P1988_mk(s);
    s.tmp_2.arg0 = s.value___8459;
    s.tmp_2.arg1 = undefined;
    s.callLocIdx = 644; s.pc = 16; return s.tmp_2;
  case 16:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["serviceOffset"] = (s.tmp_1);
  case 7:
  case 8:
    r0 = (s.unnamed97___U2 + 1);
    s.unnamed97___U2 = (r0);
    { step = 1; continue; }
  case 9:
    s.unnamed96___U1 = (undefined);
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientRoleQuery_constructor__P3489.info = {"start":31806,"length":792,"line":970,"column":8,"endLine":989,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","role","query"]}

function jacdac_ClientRoleQuery_constructor__P3489_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientRoleQuery_constructor__P3489, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  kv___8441: undefined,
  unnamed96___U1: undefined,
  unnamed97___U2: undefined,
  i___8446: undefined,
  key___8454: undefined,
  value___8459: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_stringSplit__P2013(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.A___8485 = undefined;
    s.lim___8487 = undefined;
    s.s___8503 = undefined;
    s.p___8506 = undefined;
    s.R___8507 = undefined;
    s.z___8521 = undefined;
    s.T___8534 = undefined;
    s.q___8535 = undefined;
    s.e___8541 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.A___8485 = (r0);
    s.lim___8487 = (0);
    r0 = (s.arg2 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (536870912 - 1);
    s.lim___8487 = (r0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.lim___8487 = (0);
    { step = 3; continue; }
  case 2:
    r0 = (s.arg2 | 0);
    s.lim___8487 = (r0);
  case 3:
  case 4:
    r0 = pxsim_String_.length(s.arg0);
    s.s___8503 = (r0);
    s.p___8506 = (0);
    s.R___8507 = (s.arg1);
    r0 = (s.lim___8487 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.A___8485;
    { step = 21; continue; }
  case 5:
  case 6:
    r0 = (s.arg1 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_Array_.setAt(s.A___8485, 0, s.arg0);
    r0 = s.A___8485;
    { step = 21; continue; }
  case 7:
  case 8:
    r0 = (s.s___8503 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_1 = helpers_splitMatch__P4692_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.R___8507;
    s.callLocIdx = 17; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.z___8521 = (r0);
    r0 = (s.z___8521 > -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.A___8485;
    { step = 21; continue; }
  case 9:
  case 10:
    r0 = pxsim_Array_.setAt(s.A___8485, 0, s.arg0);
    r0 = s.A___8485;
    { step = 21; continue; }
  case 11:
  case 12:
    s.q___8535 = (s.p___8506);
  case 13:
    r0 = (s.q___8535 != s.s___8503);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_1 = helpers_splitMatch__P4692_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.q___8535;
    s.tmp_1.arg2 = s.R___8507;
    s.callLocIdx = 18; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.e___8541 = (r0);
    r0 = (s.e___8541 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.q___8535 + 1);
    s.q___8535 = (r0);
    { step = 19; continue; }
  case 14:
    r0 = (s.e___8541 == s.p___8506);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = (s.q___8535 + 1);
    s.q___8535 = (r0);
    { step = 18; continue; }
  case 15:
    s.tmp_0 = helpers_stringSlice__P2010_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___8506;
    s.tmp_0.arg2 = s.q___8535;
    s.callLocIdx = 19; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.T___8534 = (r0);
    r0 = pxsim_Array__push(s.A___8485, s.T___8534);
    r0 = pxsim_Array__length(s.A___8485);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.lim___8487);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    r0 = s.A___8485;
    { step = 21; continue; }
  case 16:
  case 17:
    s.p___8506 = (s.e___8541);
    s.q___8535 = (s.p___8506);
  case 18:
  case 19:
    { step = 13; continue; }
  case 20:
    s.tmp_0 = helpers_stringSlice__P2010_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___8506;
    s.tmp_0.arg2 = s.q___8535;
    s.callLocIdx = 20; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.T___8534 = (r0);
    r0 = pxsim_Array__push(s.A___8485, s.T___8534);
    r0 = s.A___8485;
  case 21:
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSplit__P2013.info = {"start":12919,"length":1319,"line":434,"column":4,"endLine":478,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"stringSplit","argumentNames":["S","separator","limit"]}

function helpers_stringSplit__P2013_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSplit__P2013, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  A___8485: undefined,
  lim___8487: undefined,
  s___8503: undefined,
  p___8506: undefined,
  R___8507: undefined,
  z___8521: undefined,
  T___8534: undefined,
  q___8535: undefined,
  e___8541: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_splitMatch__P4692(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___8586 = undefined;
    s.s___8589 = undefined;
    s.i___8599 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg2);
    s.r___8586 = (r0);
    r0 = pxsim_String_.length(s.arg0);
    s.s___8589 = (r0);
    r0 = (s.arg1 + s.r___8586);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.s___8589);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 1:
  case 2:
    s.i___8599 = (0);
  case 3:
    r0 = (s.i___8599 < s.r___8586);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = (s.arg1 + s.i___8599);
    s.tmp_4 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String_.charAt(s.arg2, s.i___8599);
    s.tmp_5 = r0;
    r0 = (s.tmp_2 != s.tmp_5);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.i___8599 + 1);
    s.i___8599 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = (s.arg1 + s.r___8586);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
helpers_splitMatch__P4692.info = {"start":14244,"length":289,"line":480,"column":4,"endLine":489,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"splitMatch","argumentNames":["S","q","R"]}

function helpers_splitMatch__P4692_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_splitMatch__P4692, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___8586: undefined,
  s___8589: undefined,
  i___8599: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Device_matchesRoleAt__P3538(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.role___8624 = undefined;
    s.d___8658 = undefined;
    s.mrole___8722 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg1.fields["role"];
    s.role___8624 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.role___8624);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 25; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["deviceId"];
    s.tmp_3 = r0;
    r0 = (s.role___8624 == s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = true;
    { step = 25; continue; }
  case 3:
  case 4:
    s.tmp_5 = r0 = s.role___8624;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_9, ":");
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.arg3) && (s.arg3).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.arg3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg3) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_11);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 == s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.tmp_12 = jacdac_log__P5040_mk(s);
    if ((s.role___8624) && (s.role___8624).vtable) {
    setupResume(s, 30);
    pxsim_String__stringConv(s.role___8624);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.role___8624) + ""; }
  case 30:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat("role: match ", s.tmp_14);
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_13, " (precise:)");
    s.tmp_12.arg0 = r0;
    s.callLocIdx = 709; s.pc = 29; return s.tmp_12;
  case 29:
    r0 = s.retval;
    r0 = true;
    { step = 25; continue; }
  case 5:
  case 6:
    r0 = pxsim_String_.indexOf(s.role___8624, ":", undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = false;
    { step = 25; continue; }
  case 7:
  case 8:
    r0 = s.arg1.fields["device"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == "self");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 9; continue; }
    s.tmp_4 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_4.arg0 = globals.bus___3430;
    s.callLocIdx = 710; s.pc = 31; return s.tmp_4;
  case 31:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    { step = 10; continue; }
  case 9:
    r0 = s.arg0.fields["deviceId"];
  case 10:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.d___8658 = (s.tmp_5);
    r0 = s.arg1.fields["device"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.d___8658);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 23; continue; }
    r0 = s.arg1.fields["serviceIndex"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != undefined);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_2;
    { step = 12; continue; }
  case 11:
    r0 = s.arg1.fields["serviceIndex"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.arg3);
  case 12:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 13; continue; }
    s.tmp_6 = jacdac_log__P5040_mk(s);
    if ((s.role___8624) && (s.role___8624).vtable) {
    setupResume(s, 33);
    pxsim_String__stringConv(s.role___8624);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.role___8624) + ""; }
  case 33:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat("role: match ", s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, " (dev:srvi)");
    s.tmp_6.arg0 = r0;
    s.callLocIdx = 711; s.pc = 32; return s.tmp_6;
  case 32:
    r0 = s.retval;
    r0 = true;
    { step = 25; continue; }
  case 13:
  case 14:
    r0 = s.arg1.fields["serviceOffset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = s.tmp_0;
    { step = 16; continue; }
  case 15:
    r0 = s.arg1.fields["serviceOffset"];
    s.tmp_2 = r0;
    s.tmp_4 = jacdac_Device_serviceOffsetAt__P5056_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg2;
    s.tmp_4.arg2 = s.arg3;
    s.callLocIdx = 712; s.pc = 34; return s.tmp_4;
  case 34:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 == s.tmp_3);
  case 16:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 17; continue; }
    s.tmp_6 = jacdac_log__P5040_mk(s);
    if ((s.role___8624) && (s.role___8624).vtable) {
    setupResume(s, 36);
    pxsim_String__stringConv(s.role___8624);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.role___8624) + ""; }
  case 36:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat("role: match ", s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, " (dev:srvo)");
    s.tmp_6.arg0 = r0;
    s.callLocIdx = 713; s.pc = 35; return s.tmp_6;
  case 35:
    r0 = s.retval;
  case 17:
  case 18:
    r0 = s.arg1.fields["serviceIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 19; continue; }
    r0 = s.tmp_0;
    { step = 20; continue; }
  case 19:
    r0 = s.arg1.fields["serviceOffset"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != undefined);
  case 20:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 21; continue; }
    s.tmp_4 = jacdac_log__P5040_mk(s);
    if ((s.role___8624) && (s.role___8624).vtable) {
    setupResume(s, 38);
    pxsim_String__stringConv(s.role___8624);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.role___8624) + ""; }
  case 38:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("role: match ", s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, " (dev:!srv)");
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 714; s.pc = 37; return s.tmp_4;
  case 37:
    r0 = s.retval;
    r0 = true;
    { step = 25; continue; }
  case 21:
  case 22:
  case 23:
  case 24:
    s.tmp_0 = jacdac__rolemgr_getRole__P3285_mk(s);
    r0 = s.arg0.fields["deviceId"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg3;
    s.callLocIdx = 715; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
    s.mrole___8722 = (r0);
    r0 = (s.mrole___8722 == s.role___8624);
  case 25:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_matchesRoleAt__P3538.info = {"start":44342,"length":1943,"line":1348,"column":8,"endLine":1401,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"matchesRoleAt","argumentNames":["this","query","serviceClass","serviceIdx"]}

function jacdac_Device_matchesRoleAt__P3538_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_matchesRoleAt__P3538, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  role___8624: undefined,
  d___8658: undefined,
  mrole___8722: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac__rolemgr_getRole__P3285(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = settings_readString__P2797_mk(s);
    if ((globals.roleSettingPrefix___5011) && (globals.roleSettingPrefix___5011).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(globals.roleSettingPrefix___5011);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.roleSettingPrefix___5011) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 350; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_getRole__P3285.info = {"start":217,"length":141,"line":8,"column":4,"endLine":10,"endColumn":5,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"getRole","argumentNames":["devid","servIdx"]}

function jacdac__rolemgr_getRole__P3285_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_getRole__P3285, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function settings_readString__P2797(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___8749 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___8749 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___8749);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = pxsim.BufferMethods.toString(s.buf___8749);
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
settings_readString__P2797.info = {"start":2827,"length":177,"line":110,"column":4,"endLine":116,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readString","argumentNames":["key"]}

function settings_readString__P2797_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readString__P2797, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___8749: undefined,
  arg0: undefined,
} }





function settings_readBuffer__P2796(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
settings_readBuffer__P2796.info = {"start":2694,"length":72,"line":103,"column":4,"endLine":105,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readBuffer","argumentNames":["key"]}

function settings_readBuffer__P2796_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readBuffer__P2796, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Device_serviceOffsetAt__P5056(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.o___8766 = undefined;
    s.n___8769 = undefined;
    s.i___8771 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.o___8766 = (-1);
    r0 = s.arg0.fields["services"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 2);
    s.n___8769 = (r0);
    s.i___8771 = (0);
  case 1:
    r0 = (s.i___8771 < s.n___8769);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = jacdac_Device_serviceClassAt__P3540_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.i___8771;
    s.callLocIdx = 718; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = (s.o___8766 + 1);
    s.o___8766 = (r0);
    r0 = (s.arg2 == s.i___8771);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.o___8766;
    { step = 7; continue; }
  case 2:
  case 3:
  case 4:
  case 5:
    r0 = (s.i___8771 + 1);
    s.i___8771 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = -1;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_serviceOffsetAt__P5056.info = {"start":46579,"length":424,"line":1412,"column":8,"endLine":1425,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"serviceOffsetAt","argumentNames":["this","serviceClass","serviceIndex"]}

function jacdac_Device_serviceOffsetAt__P5056_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_serviceOffsetAt__P5056, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  o___8766: undefined,
  n___8769: undefined,
  i___8771: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Device_serviceClassLength__P3539(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["services"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_serviceClassLength__P3539.info = {"start":46488,"length":81,"line":1408,"column":8,"endLine":1410,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"serviceClassLength","argumentNames":["this"]}
jacdac_Device_serviceClassLength__P3539.isGetter = true;

function jacdac_Device_serviceClassLength__P3539_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_serviceClassLength__P3539, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Client__detach__P3516(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_3 = jacdac_Client_roleName__P3504_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 679; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("roles: dettached ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 680; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = (s.arg0).fields["serviceIndex"] = (null);
    r0 = s.arg0.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["_device"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    s.tmp_6 = jacdac_panic__P3432_mk(s);
    s.tmp_6.arg0 = "invalid detach";
    s.callLocIdx = 682; s.pc = 8; return s.tmp_6;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = jacdac_Client_device__P3507_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.callLocIdx = 683; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = jacdac_Bus_detachClient__P3423_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 684; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.DISCONNECT___3392;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 685; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client__detach__P3516.info = {"start":39015,"length":326,"line":1182,"column":8,"endLine":1191,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"_detach","argumentNames":["this"]}

function jacdac_Client__detach__P3516_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client__detach__P3516, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function jacdac_Bus_detachClient__P3423(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_2, s.arg1, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.arg1);
    s.tmp_0 = jacdac_Bus_clearAttachCache__P3420_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 453; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_detachClient__P3423.info = {"start":5753,"length":208,"line":172,"column":8,"endLine":177,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"detachClient","argumentNames":["this","client"]}

function jacdac_Bus_detachClient__P3423_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_detachClient__P3423, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Bus_clearAttachCache__P3420(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___8837 = undefined;
    s.unnamed84___U1 = undefined;
    s.unnamed85___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.d___8837 = (undefined);
    r0 = s.arg0.fields["devices"];
    s.unnamed84___U1 = (r0);
    s.unnamed85___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed85___U2;
    r0 = pxsim_Array__length(s.unnamed84___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed84___U1, s.unnamed85___U2);
    s.d___8837 = (r0);
    r0 = s.d___8837.fields["services"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 3);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    s.tmp_6 = r0 = s.d___8837;
    s.tmp_8 = helpers_bufferConcat__P2618_mk(s);
    r0 = s.d___8837.fields["services"];
    s.tmp_8.arg0 = r0;
    r0 = pxsim.control.createBuffer(1);
    s.tmp_8.arg1 = r0;
    s.callLocIdx = 440; s.pc = 5; return s.tmp_8;
  case 5:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_6).fields["services"] = (s.tmp_7);
  case 2:
  case 3:
    r0 = (s.unnamed85___U2 + 1);
    s.unnamed85___U2 = (r0);
    { step = 1; continue; }
  case 4:
    s.unnamed84___U1 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_clearAttachCache__P3420.info = {"start":3794,"length":308,"line":123,"column":8,"endLine":129,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"clearAttachCache","argumentNames":["this"]}

function jacdac_Bus_clearAttachCache__P3420_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_clearAttachCache__P3420, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  d___8837: undefined,
  unnamed84___U1: undefined,
  unnamed85___U2: undefined,
  arg0: undefined,
} }





function helpers_bufferConcat__P2618(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___8855 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.r___8855 = (r0);
    r0 = pxsim.BufferMethods.write(s.r___8855, 0, s.arg0);
    s.tmp_0 = r0 = s.r___8855;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, s.tmp_1, s.arg1);
    r0 = s.r___8855;
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferConcat__P2618.info = {"start":3785,"length":179,"line":132,"column":4,"endLine":137,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"bufferConcat","argumentNames":["a","b"]}

function helpers_bufferConcat__P2618_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferConcat__P2618, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  r___8855: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_roleName__P3504(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___8875 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_role"];
    s.tmp_0 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_0, "?", undefined);
    s.i___8875 = (r0);
    r0 = (s.i___8875 > -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["_role"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.i___8875;
    s.callLocIdx = 649; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_role"];
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Client_roleName__P3504.info = {"start":34052,"length":162,"line":1039,"column":8,"endLine":1043,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"roleName","argumentNames":["this"]}
jacdac_Client_roleName__P3504.isGetter = true;

function jacdac_Client_roleName__P3504_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_roleName__P3504, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  i___8875: undefined,
  arg0: undefined,
} }





function jacdac_Device_toString__P3537(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 708; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_toString__P3537.info = {"start":44278,"length":54,"line":1344,"column":8,"endLine":1346,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"toString","argumentNames":["this"]}

function jacdac_Device_toString__P3537_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_toString__P3537, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_resetToProxy__P5087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.control.dmesg("jacdac: reset in dongle");
    s.tmp_0 = settings_writeNumber__P2794_mk(s);
    s.tmp_0.arg0 = globals.JACDAC_PROXY_SETTING___3557;
    s.tmp_0.arg1 = 1;
    s.callLocIdx = 831; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    setupResume(s, 2);
    pxsim.control.reset();
    checkResumeConsumed();
    return;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_resetToProxy__P5087.info = {"start":62382,"length":158,"line":1863,"column":4,"endLine":1867,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"resetToProxy","argumentNames":[]}

function jacdac_resetToProxy__P5087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_resetToProxy__P5087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function settings_writeNumber__P2794(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = settings_writeBuffer__P2791_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = msgpack_packNumberArray__P2616_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.callLocIdx = 154; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 155; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeNumber__P2794.info = {"start":2265,"length":122,"line":89,"column":4,"endLine":91,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeNumber","argumentNames":["key","value"]}

function settings_writeNumber__P2794_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeNumber__P2794, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function msgpack_packNumberArray__P2616(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___8909 = undefined;
    s.n___8911 = undefined;
    s.unnamed56___U2 = undefined;
    s.unnamed57___U3 = undefined;
    s.buf___8921 = undefined;
    s.n___8927 = undefined;
    s.unnamed58___U6 = undefined;
    s.unnamed59___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.off___8909 = (0);
    s.n___8911 = (undefined);
    s.unnamed56___U2 = (s.arg0);
    s.unnamed57___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed57___U3;
    r0 = pxsim_Array__length(s.unnamed56___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed56___U2, s.unnamed57___U3);
    s.n___8911 = (r0);
    s.tmp_2 = r0 = s.off___8909;
    s.tmp_4 = msgpack_packNumberCore__P4786_mk(s);
    s.tmp_4.arg0 = null;
    s.tmp_4.arg1 = s.off___8909;
    s.tmp_4.arg2 = s.n___8911;
    s.callLocIdx = 72; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___8909 = (r0);
    r0 = (s.unnamed57___U3 + 1);
    s.unnamed57___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed56___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.off___8909);
    s.buf___8921 = (r0);
    s.off___8909 = (0);
    s.n___8927 = (undefined);
    s.unnamed58___U6 = (s.arg0);
    s.unnamed59___U7 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed59___U7;
    r0 = pxsim_Array__length(s.unnamed58___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed58___U6, s.unnamed59___U7);
    s.n___8927 = (r0);
    s.tmp_2 = r0 = s.off___8909;
    s.tmp_4 = msgpack_packNumberCore__P4786_mk(s);
    s.tmp_4.arg0 = s.buf___8921;
    s.tmp_4.arg1 = s.off___8909;
    s.tmp_4.arg2 = s.n___8927;
    s.callLocIdx = 73; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___8909 = (r0);
    r0 = (s.unnamed59___U7 + 1);
    s.unnamed59___U7 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed58___U6 = (undefined);
    r0 = s.buf___8921;
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberArray__P2616.info = {"start":3427,"length":330,"line":117,"column":4,"endLine":128,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"packNumberArray","argumentNames":["nums"]}

function msgpack_packNumberArray__P2616_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberArray__P2616, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  off___8909: undefined,
  n___8911: undefined,
  unnamed56___U2: undefined,
  unnamed57___U3: undefined,
  buf___8921: undefined,
  n___8927: undefined,
  unnamed58___U6: undefined,
  unnamed59___U7: undefined,
  arg0: undefined,
} }





function msgpack_packNumberCore__P4786(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tag___8941 = undefined;
    s.fmt___8984 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tag___8941 = (203);
    s.tmp_1 = r0 = s.arg2;
    r0 = (s.arg2 << 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_3 = r0 = s.arg2;
    r0 = (s.arg2 >>> 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 == s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 19; continue; }
    r0 = (-31 <= s.arg2);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_6;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg2 <= 127);
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.arg2);
  case 5:
  case 6:
    r0 = 1;
    { step = 23; continue; }
    { step = 18; continue; }
  case 7:
    r0 = (0 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = (s.arg2 <= 255);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    s.tag___8941 = (204);
    { step = 11; continue; }
  case 8:
    r0 = (s.arg2 <= 65535);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tag___8941 = (205);
    { step = 10; continue; }
  case 9:
    s.tag___8941 = (206);
  case 10:
  case 11:
    { step = 17; continue; }
  case 12:
    r0 = (-127 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tag___8941 = (208);
    { step = 16; continue; }
  case 13:
    r0 = (-32767 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tag___8941 = (209);
    { step = 15; continue; }
  case 14:
    s.tag___8941 = (210);
  case 15:
  case 16:
  case 17:
  case 18:
  case 19:
  case 20:
    s.tmp_0 = msgpack_tagFormat__P4785_mk(s);
    s.tmp_0.arg0 = s.tag___8941;
    s.callLocIdx = 68; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.fmt___8984 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 21; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.tag___8941);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.fmt___8984;
    r0 = (s.arg1 + 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.arg2);
  case 21:
  case 22:
    s.tmp_1 = pins_sizeOf__P2607_mk(s);
    s.tmp_1.arg0 = s.fmt___8984;
    s.callLocIdx = 69; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
  case 23:
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberCore__P4786.info = {"start":1632,"length":951,"line":56,"column":4,"endLine":86,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"packNumberCore","argumentNames":["buf","offset","num"]}

function msgpack_packNumberCore__P4786_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberCore__P4786, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tag___8941: undefined,
  fmt___8984: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function pins_sizeOf__P2607(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Buffer_sizeOfNumberFormat__P2647_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 67; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
pins_sizeOf__P2607.info = {"start":42,"length":101,"line":2,"column":4,"endLine":4,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"sizeOf","argumentNames":["format"]}

function pins_sizeOf__P2607_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_sizeOf__P2607, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function msgpack_tagFormat__P4785(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(203, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(204, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(205, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(206, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(208, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(209, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(210, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 1:
    r0 = 16;
    { step = 9; continue; }
  case 2:
    r0 = 7;
    { step = 9; continue; }
  case 3:
    r0 = 9;
    { step = 9; continue; }
  case 4:
    r0 = 12;
    { step = 9; continue; }
  case 5:
    r0 = 6;
    { step = 9; continue; }
  case 6:
    r0 = 8;
    { step = 9; continue; }
  case 7:
    r0 = 10;
    { step = 9; continue; }
  case 8:
    r0 = null;
    { step = 9; continue; }
    r0 = undefined;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
msgpack_tagFormat__P4785.info = {"start":1145,"length":481,"line":42,"column":4,"endLine":54,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"tagFormat","argumentNames":["tag"]}

function msgpack_tagFormat__P4785_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_tagFormat__P4785, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function settings_writeBuffer__P2791(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._set(s.arg0, s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.settings._userClean();
    r0 = pxsim_pxtrt.panic(920);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeBuffer__P2791.info = {"start":1538,"length":290,"line":63,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeBuffer","argumentNames":["key","value"]}

function settings_writeBuffer__P2791_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeBuffer__P2791, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Device_isBrain__P3530(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_hasService__P3546_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 272387813;
    s.callLocIdx = 705; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_isBrain__P3530.info = {"start":43442,"length":78,"line":1312,"column":8,"endLine":1314,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"isBrain","argumentNames":["this"]}
jacdac_Device_isBrain__P3530.isGetter = true;

function jacdac_Device_isBrain__P3530_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_isBrain__P3530, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Device_hasService__P3546(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.n___9034 = undefined;
    s.i___9036 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["services"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 2);
    s.n___9034 = (r0);
    s.i___9036 = (0);
  case 1:
    r0 = (s.i___9036 < s.n___9034);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = jacdac_Device_serviceClassAt__P3540_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.i___9036;
    s.callLocIdx = 745; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___9036 + 1);
    s.i___9036 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_hasService__P3546.info = {"start":51441,"length":228,"line":1544,"column":8,"endLine":1549,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"hasService","argumentNames":["this","serviceClass"]}

function jacdac_Device_hasService__P3546_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_hasService__P3546, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  n___9034: undefined,
  i___9036: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_serviceMatches__P5066(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ds___9051 = undefined;
    s.i___9062 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["services"];
    s.ds___9051 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.ds___9051);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.BufferMethods.length(s.ds___9051);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 != s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = false;
    { step = 9; continue; }
  case 3:
  case 4:
    s.i___9062 = (4);
  case 5:
    s.tmp_1 = r0 = s.i___9062;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = pxsim.BufferMethods.getByte(s.ds___9051, s.i___9062);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, s.i___9062);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 != s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 6; continue; }
    r0 = false;
    { step = 9; continue; }
  case 6:
  case 7:
    r0 = (s.i___9062 + 1);
    s.i___9062 = (r0);
    { step = 5; continue; }
  case 8:
    r0 = true;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
jacdac_serviceMatches__P5066.info = {"start":57687,"length":249,"line":1715,"column":4,"endLine":1720,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"serviceMatches","argumentNames":["dev","serv"]}

function jacdac_serviceMatches__P5066_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_serviceMatches__P5066, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  ds___9051: undefined,
  i___9062: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Device_constructor__P3529(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = (s.arg0).fields["deviceId"] = (s.arg1);
    r0 = (s.arg0).fields["services"] = (s.arg2);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["clients"] = (s.tmp_3);
    s.tmp_4 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 704; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    r0 = globals.bus___3430.fields["devices"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_constructor__P3529.info = {"start":43304,"length":128,"line":1307,"column":8,"endLine":1310,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","deviceId","services"]}

function jacdac_Device_constructor__P3529_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_constructor__P3529, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_EventSource_constructor__P3575(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_constructor__P3575.info = {"start":550,"length":16,"line":19,"column":8,"endLine":19,"endColumn":24,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_EventSource_constructor__P3575_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_constructor__P3575, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Device__destroy__P3549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___9095 = undefined;
    s.unnamed102___U1 = undefined;
    s.unnamed103___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_3 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 746; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("destroy ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 747; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.c___9095 = (undefined);
    r0 = s.arg0.fields["clients"];
    s.unnamed102___U1 = (r0);
    s.unnamed103___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed103___U2;
    r0 = pxsim_Array__length(s.unnamed102___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed102___U1, s.unnamed103___U2);
    s.c___9095 = (r0);
    s.tmp_2 = jacdac_Client__detach__P3516_mk(s);
    s.tmp_2.arg0 = s.c___9095;
    s.callLocIdx = 748; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    r0 = (s.unnamed103___U2 + 1);
    s.unnamed103___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed102___U1 = (undefined);
    r0 = (s.arg0).fields["clients"] = (null);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.DEVICE_DISCONNECT___3394;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 749; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.DEVICE_DISCONNECT___3394;
    s.tmp_0.arg2 = s.arg0;
    s.callLocIdx = 750; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device__destroy__P3549.info = {"start":52186,"length":238,"line":1566,"column":8,"endLine":1572,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"_destroy","argumentNames":["this"]}

function jacdac_Device__destroy__P3549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device__destroy__P3549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  c___9095: undefined,
  unnamed102___U1: undefined,
  unnamed103___U2: undefined,
  arg0: undefined,
} }





function jacdac_Device_shortId__P3536(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["_shortId"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = jacdac_shortDeviceId__P3524_mk(s);
    r0 = s.arg0.fields["deviceId"];
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 707; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_shortId"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = s.arg0.fields["_shortId"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_shortId__P3536.info = {"start":44082,"length":186,"line":1338,"column":8,"endLine":1342,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"shortId","argumentNames":["this"]}
jacdac_Device_shortId__P3536.isGetter = true;

function jacdac_Device_shortId__P3536_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_shortId__P3536, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_shortDeviceId__P3524(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.h___9122 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = Buffer_fromHex__P2638_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 703; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.hash(s.tmp_0, 30);
    s.h___9122 = (r0);
    r0 = (s.h___9122 % 26);
    s.tmp_7 = r0;
    r0 = (65 + s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim.Math_.idiv(s.h___9122, 26);
    s.tmp_12 = r0;
    r0 = (s.tmp_12 % 26);
    s.tmp_11 = r0;
    r0 = (65 + s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_8);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.Math_.idiv(s.h___9122, 676);
    s.tmp_17 = r0;
    r0 = (s.tmp_17 % 10);
    s.tmp_16 = r0;
    r0 = (48 + s.tmp_16);
    s.tmp_15 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_15);
    s.tmp_14 = r0;
    if ((s.tmp_14) && (s.tmp_14).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_14);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_14) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_13);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.h___9122, 6760);
    s.tmp_22 = r0;
    r0 = (s.tmp_22 % 10);
    s.tmp_21 = r0;
    r0 = (48 + s.tmp_21);
    s.tmp_20 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_20);
    s.tmp_19 = r0;
    if ((s.tmp_19) && (s.tmp_19).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_19);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_19) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_18);
    return leave(s, r0)
  default: oops()
} } }
jacdac_shortDeviceId__P3524.info = {"start":42436,"length":390,"line":1280,"column":4,"endLine":1288,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"shortDeviceId","argumentNames":["devid"]}

function jacdac_shortDeviceId__P3524_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_shortDeviceId__P3524, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  h___9122: undefined,
  arg0: undefined,
} }





function Buffer_fromHex__P2638(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hexStr___9180 = undefined;
    s.res___9182 = undefined;
    s.i___9191 = undefined;
    s.p0___9197 = undefined;
    s.p1___9206 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.hexStr___9180 = ("0123456789abcdef");
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 1);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.res___9182 = (r0);
    s.tmp_0 = helpers_stringToLowerCase__P2012_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 74; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.arg0 = (r0);
    s.i___9191 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___9191;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.hexStr___9180;
    r0 = pxsim_String_.charAt(s.arg0, s.i___9191);
    s.tmp_4 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_3, s.tmp_4, undefined);
    s.p0___9197 = (r0);
    s.tmp_0 = r0 = s.hexStr___9180;
    s.tmp_2 = r0 = s.arg0;
    r0 = (s.i___9191 + 1);
    s.tmp_3 = r0;
    r0 = pxsim_String_.charAt(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_0, s.tmp_1, undefined);
    s.p1___9206 = (r0);
    r0 = (s.p0___9197 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.p1___9206 < 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.throwValue("Invalid hex");
  case 4:
  case 5:
    s.tmp_2 = r0 = s.res___9182;
    r0 = (s.i___9191 >> 1);
    s.tmp_3 = r0;
    r0 = (s.p0___9197 << 4);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | s.p1___9206);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_2, s.tmp_3, s.tmp_4);
    r0 = (s.i___9191 + 2);
    s.i___9191 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = s.res___9182;
    return leave(s, r0)
  default: oops()
} } }
Buffer_fromHex__P2638.info = {"start":8064,"length":469,"line":285,"column":4,"endLine":297,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"fromHex","argumentNames":["hex"]}

function Buffer_fromHex__P2638_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_fromHex__P2638, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  hexStr___9180: undefined,
  res___9182: undefined,
  i___9191: undefined,
  p0___9197: undefined,
  p1___9206: undefined,
  arg0: undefined,
} }





function helpers_stringToLowerCase__P2012(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___9237 = undefined;
    s.prev___9238 = undefined;
    s.i___9239 = undefined;
    s.c___9245 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.mkEmpty();
    s.r___9237 = (r0);
    s.prev___9238 = (0);
    s.i___9239 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___9239;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___9239);
    s.c___9245 = (r0);
    r0 = (65 <= s.c___9245);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___9245 <= 90);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    if ((s.r___9237) && (s.r___9237).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.r___9237);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___9237) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    s.tmp_7 = helpers_stringSlice__P2010_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.prev___9238;
    s.tmp_7.arg2 = s.i___9239;
    s.callLocIdx = 15; s.pc = 8; return s.tmp_7;
  case 8:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.c___9245 + 32);
    s.tmp_10 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.r___9237 = (r0);
    r0 = (s.i___9239 + 1);
    s.prev___9238 = (r0);
  case 4:
  case 5:
    r0 = (s.i___9239 + 1);
    s.i___9239 = (r0);
    { step = 1; continue; }
  case 6:
    if ((s.r___9237) && (s.r___9237).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.r___9237);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___9237) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = helpers_stringSlice__P2010_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.prev___9238;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 16; s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___9237 = (r0);
    r0 = s.r___9237;
    return leave(s, r0)
  default: oops()
} } }
helpers_stringToLowerCase__P2012.info = {"start":12527,"length":386,"line":420,"column":4,"endLine":432,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"stringToLowerCase","argumentNames":["s"]}

function helpers_stringToLowerCase__P2012_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringToLowerCase__P2012, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  r___9237: undefined,
  prev___9238: undefined,
  i___9239: undefined,
  c___9245: undefined,
  arg0: undefined,
} }





function jacdac_log__P5040(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = globals.logPriority___3431;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("jd: ", s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 526; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_log__P5040.info = {"start":13264,"length":80,"line":377,"column":4,"endLine":379,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"log","argumentNames":["msg"]}

function jacdac_log__P5040_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_log__P5040, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Device_restartCounter__P3532(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["services"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 0);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 15);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_restartCounter__P3532.info = {"start":43662,"length":146,"line":1320,"column":8,"endLine":1324,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"restartCounter","argumentNames":["this"]}
jacdac_Device_restartCounter__P3532.isGetter = true;

function jacdac_Device_restartCounter__P3532_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_restartCounter__P3532, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Device_announceflags__P3531(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    r0 = s.arg0.fields["services"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_announceflags__P3531.info = {"start":43530,"length":122,"line":1316,"column":8,"endLine":1318,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"announceflags","argumentNames":["this"]}
jacdac_Device_announceflags__P3531.isGetter = true;

function jacdac_Device_announceflags__P3531_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_announceflags__P3531, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayFind__P2002(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___9311 = undefined;
    s.i___9314 = undefined;
    s.v___9319 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___9311 = (r0);
    s.i___9314 = (0);
  case 1:
    r0 = (s.i___9314 < s.len___9311);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___9314);
    s.v___9319 = (r0);
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.v___9319;
    s.tmp_1.arg1 = s.i___9314;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 9; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.v___9319;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___9314 + 1);
    s.i___9314 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayFind__P2002.info = {"start":8018,"length":292,"line":271,"column":4,"endLine":278,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayFind","argumentNames":["arr","callbackfn"]}

function helpers_arrayFind__P2002_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayFind__P2002, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___9311: undefined,
  i___9314: undefined,
  v___9319: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handlePacketOuter__P3462(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cmd___9332 = undefined;
    s.isGet___9382 = undefined;
    s.regCode___9386 = undefined;
    s.constant___9389 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.cmd___9332 = (r0);
    s.tmp_0 = r0 = s.cmd___9332;
    r0 = pxsim_pxtcore.switch_eq(4355, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(4361, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(4359, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(4098, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(8194, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(4097, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(8193, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = s.tmp_0;
    { step = 13; continue; }
  case 1:
    s.tmp_1 = jacdac_Server_handleStatusCode__P4942_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 544; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    { step = 20; continue; }
  case 2:
    s.tmp_0 = jacdac_Server_handleInstanceName__P4943_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 545; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    { step = 20; continue; }
  case 3:
    s.tmp_0 = jacdac_Server_handleVariant__P4944_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 546; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    { step = 20; continue; }
  case 4:
  case 5:
    r0 = s.arg0.fields["valuePackFormat"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    { step = 13; continue; }
  case 6:
  case 7:
    s.tmp_3 = jacdac_Server_handleValue__P4945_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 547; s.pc = 24; return s.tmp_3;
  case 24:
    r0 = s.retval;
    { step = 20; continue; }
  case 8:
  case 9:
    r0 = s.arg0.fields["intensityPackFormat"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    { step = 13; continue; }
  case 10:
  case 11:
    s.tmp_3 = jacdac_Server_handleIntensity__P4946_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 548; s.pc = 25; return s.tmp_3;
  case 25:
    r0 = s.retval;
    { step = 20; continue; }
  case 12:
    s.tmp_0 = jacdac_Server_handleCalibrateCommand__P4947_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 549; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    { step = 20; continue; }
  case 13:
    r0 = s.arg0.fields["constants"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.tmp_1 = jacdac_JDPacket_isRegGet__P2907_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 550; s.pc = 27; return s.tmp_1;
  case 27:
    r0 = s.retval;
    s.isGet___9382 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.isGet___9382);
    if (!r0) { step = 16; continue; }
    s.tmp_0 = jacdac_JDPacket_regCode__P2908_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 551; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
    s.regCode___9386 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, constant_inline__P9395);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.regCode___9386);
    s.tmp_2 = helpers_arrayFilter__P2001_mk(s);
    r0 = s.arg0.fields["constants"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 553; s.pc = 29; return s.tmp_2;
  case 29:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.constant___9389 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.constant___9389);
    if (!r0) { step = 14; continue; }
    s.tmp_0 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.regCode___9386;
    s.tmp_1 = if_packFormat_1_mk(s);
    s.tmp_1.arg0 = s.constant___9389;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "packFormat");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["packFormat"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["packFormat"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 554; s.pc = 31; return s.tmp_1; }
    }
  case 31:
    r0 = s.retval;
    s.tmp_0.arg3 = r0;
    s.tmp_2 = if_value_1_mk(s);
    s.tmp_2.arg0 = s.constant___9389;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "value");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["value"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["value"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 555; s.pc = 32; return s.tmp_2; }
    }
  case 32:
    r0 = s.retval;
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 556; s.pc = 30; return s.tmp_0;
  case 30:
    r0 = s.retval;
    { step = 20; continue; }
  case 14:
  case 15:
  case 16:
  case 17:
  case 18:
  case 19:
    r0 = (s.arg0).fields["stateUpdated"] = (false);
    s.tmp_0 = jacdac_Server__C3447_v1_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacket;
    s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 20:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handlePacketOuter__P3462.info = {"start":17114,"length":2001,"line":507,"column":8,"endLine":558,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_Server_handlePacketOuter__P3462_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handlePacketOuter__P3462, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  cmd___9332: undefined,
  isGet___9382: undefined,
  regCode___9386: undefined,
  constant___9389: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function constant_inline__P9395(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = if_code_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "code");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["code"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["code"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 552; s.pc = 1; return s.tmp_1; }
    }
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
constant_inline__P9395.info = {"start":18598,"length":27,"line":541,"column":24,"endLine":541,"endColumn":51,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["cst"]}

function constant_inline__P9395_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: constant_inline__P9395, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Server_handlePacket__P3463(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handlePacket__P3463.info = {"start":19125,"length":30,"line":560,"column":8,"endLine":560,"endColumn":38,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_Server_handlePacket__P3463_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handlePacket__P3463, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handleRegValue__P4950(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.getset___9421 = undefined;
    s.reg___9431 = undefined;
    s.v___9461 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 12);
    s.getset___9421 = (r0);
    r0 = (s.getset___9421 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.getset___9421 > 2);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.arg4;
    { step = 17; continue; }
  case 3:
  case 4:
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 4095);
    s.reg___9431 = (r0);
    r0 = (s.reg___9431 != s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg4;
    { step = 17; continue; }
  case 5:
  case 6:
    s.tmp_1 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 594; s.pc = 18; return s.tmp_1;
  case 18:
    r0 = s.retval;
    r0 = (s.getset___9421 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = (s.arg4 != undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_1;
    { step = 8; continue; }
  case 7:
    r0 = (s.arg4 != null);
  case 8:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.arg4);
    s.tmp_4 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_5 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    r0 = s.arg1.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 14);
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = s.arg3;
    s.tmp_5.arg2 = s.tmp_3;
    s.callLocIdx = 596; s.pc = 20; return s.tmp_5;
  case 20:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 597; s.pc = 19; return s.tmp_4;
  case 19:
    r0 = s.retval;
  case 9:
  case 10:
    { step = 16; continue; }
  case 11:
    r0 = (s.arg2 >> 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = s.arg4;
    { step = 17; continue; }
  case 12:
  case 13:
    s.tmp_2 = jacdac_JDPacket_jdunpack__P2914_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg3;
    s.callLocIdx = 598; s.pc = 21; return s.tmp_2;
  case 21:
    r0 = s.retval;
    s.v___9461 = (r0);
    r0 = pxsim_Array__getAt(s.v___9461, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.arg4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.arg0).fields["stateUpdated"] = (true);
    r0 = pxsim_Array__getAt(s.v___9461, 0);
    s.arg4 = (r0);
  case 14:
  case 15:
  case 16:
    r0 = s.arg4;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleRegValue__P4950.info = {"start":22966,"length":991,"line":681,"column":8,"endLine":707,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleRegValue","argumentNames":["this","pkt","register","fmt","current"]}

function jacdac_Server_handleRegValue__P4950_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleRegValue__P4950, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  getset___9421: undefined,
  reg___9431: undefined,
  v___9461: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function jacdac_JDPacket_jdunpack__P2914(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___9477 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg1;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_1;
    { step = 4; continue; }
  case 3:
    s.tmp_2 = jacdac_jdunpack__P2933_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 212; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.p___9477 = (s.tmp_3);
    s.tmp_0 = r0 = s.p___9477;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = pxsim_Array__mk();
  case 6:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_jdunpack__P2914.info = {"start":6942,"length":159,"line":220,"column":8,"endLine":223,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"jdunpack","argumentNames":["this","fmt"]}

function jacdac_JDPacket_jdunpack__P2914_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_jdunpack__P2914, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  p___9477: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_jdunpack__P2933(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___9502 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__mk();
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtcore.beginTry(5);
    r0 = pxsim_pxtcore.endTry();
    s.tmp_0 = jacdac_jdunpackCore__P4927_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 272; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    { step = 7; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 6; continue; }
  case 5:
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___9502 = (r0);
    s.tmp_0 = console_error__P2380_mk(s);
    s.tmp_0.arg0 = s.e___9502;
    s.callLocIdx = 273; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdunpack__P2933.info = {"start":7060,"length":439,"line":217,"column":4,"endLine":230,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"jdunpack","argumentNames":["buf","fmt"]}

function jacdac_jdunpack__P2933_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdunpack__P2933, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  e___9502: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_jdunpackCore__P4927(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.repeatRes___9509 = undefined;
    s.res___9514 = undefined;
    s.off___9516 = undefined;
    s.fp0___9517 = undefined;
    s.parser___9518 = undefined;
    s.sz___9553 = undefined;
    s.c0___9556 = undefined;
    s.endoff___9562 = undefined;
    s.fmt1___9591 = undefined;
    s.v___9598 = undefined;
    s.subbuf___9635 = undefined;
    s.zerop___9650 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    { step = 2; continue; }
  case 1:
    r0 = null;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.repeatRes___9509 = (s.tmp_0);
    r0 = pxsim_Array__mk();
    s.res___9514 = (r0);
    s.off___9516 = (0);
    s.fp0___9517 = (0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_TokenParser__C4924_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_TokenParser_constructor__P4926_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 262; s.pc = 58; return s.tmp_1;
  case 58:
    r0 = s.retval;
    s.parser___9518 = (s.tmp_0);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__mk();
    { step = 57; continue; }
  case 5:
  case 6:
  case 7:
    s.tmp_4 = jacdac_TokenParser_parse__P4925_mk(s);
    s.tmp_4.arg0 = s.parser___9518;
    s.callLocIdx = 263; s.pc = 59; return s.tmp_4;
  case 59:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 52; continue; }
    r0 = s.parser___9518.fields["isArray"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_5;
    { step = 9; continue; }
  case 8:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
  case 9:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 10; continue; }
    s.tmp_8 = r0 = s.res___9514;
    s.tmp_10 = jacdac_jdunpackCore__P4927_mk(s);
    s.tmp_11 = r0 = s.arg0;
    s.tmp_12 = r0 = s.off___9516;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_13 = r0;
    r0 = (s.tmp_13 - s.tmp_12);
    s.tmp_14 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_11, s.tmp_12, s.tmp_14);
    s.tmp_10.arg0 = r0;
    s.tmp_15 = helpers_stringSlice__P2010_mk(s);
    s.tmp_15.arg0 = s.arg1;
    s.tmp_15.arg1 = s.fp0___9517;
    s.tmp_15.arg2 = undefined;
    s.callLocIdx = 265; s.pc = 61; return s.tmp_15;
  case 61:
    r0 = s.retval;
    s.tmp_10.arg1 = r0;
    s.tmp_10.arg2 = 1;
    s.callLocIdx = 266; s.pc = 60; return s.tmp_10;
  case 60:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_Array__push(s.tmp_8, s.tmp_9);
    r0 = s.res___9514;
    { step = 57; continue; }
  case 10:
  case 11:
    r0 = s.parser___9518.fields["fp"];
    s.fp0___9517 = (r0);
    r0 = s.parser___9518.fields["size"];
    s.sz___9553 = (r0);
    r0 = s.parser___9518.fields["c0"];
    s.c0___9556 = (r0);
    r0 = (s.c0___9556 == 122);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    s.endoff___9562 = (s.off___9516);
  case 12:
    s.tmp_1 = r0 = s.endoff___9562;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = s.tmp_0;
    { step = 14; continue; }
  case 13:
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.endoff___9562);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != 0);
  case 14:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 15; continue; }
    r0 = (s.endoff___9562 + 1);
    s.endoff___9562 = (r0);
    { step = 12; continue; }
  case 15:
    r0 = (s.endoff___9562 - s.off___9516);
    s.sz___9553 = (r0);
    { step = 19; continue; }
  case 16:
    r0 = (s.sz___9553 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.off___9516);
    s.sz___9553 = (r0);
  case 17:
  case 18:
  case 19:
    r0 = s.parser___9518.fields["nfmt"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 26; continue; }
    r0 = s.parser___9518.fields["nfmt2"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 20; continue; }
    r0 = 11;
    { step = 21; continue; }
  case 20:
    r0 = s.parser___9518.fields["nfmt"];
  case 21:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.fmt1___9591 = (s.tmp_3);
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt1___9591, s.off___9516);
    s.v___9598 = (r0);
    r0 = s.parser___9518.fields["nfmt2"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_1 = r0 = s.v___9598;
    s.tmp_4 = r0 = s.arg0;
    r0 = s.parser___9518.fields["nfmt"];
    s.tmp_5 = r0;
    r0 = (s.off___9516 + 4);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, s.tmp_5, s.tmp_6);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 4294967296);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.v___9598 = (r0);
  case 22:
  case 23:
    r0 = s.parser___9518.fields["div"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 24; continue; }
    r0 = s.parser___9518.fields["div"];
    s.tmp_2 = r0;
    r0 = (s.v___9598 / s.tmp_2);
    s.v___9598 = (r0);
  case 24:
  case 25:
    r0 = pxsim_Array__push(s.res___9514, s.v___9598);
    r0 = s.parser___9518.fields["size"];
    s.tmp_0 = r0;
    r0 = (s.off___9516 + s.tmp_0);
    s.off___9516 = (r0);
    { step = 43; continue; }
  case 26:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.off___9516;
    r0 = (s.off___9516 + s.sz___9553);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.tmp_1);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, s.tmp_1, s.tmp_3);
    s.subbuf___9635 = (r0);
    r0 = (s.c0___9556 == 122);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 27; continue; }
    r0 = s.tmp_0;
    { step = 28; continue; }
  case 27:
    r0 = (s.c0___9556 == 115);
  case 28:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 33; continue; }
    s.zerop___9650 = (0);
  case 29:
    s.tmp_1 = r0 = s.zerop___9650;
    r0 = pxsim.BufferMethods.length(s.subbuf___9635);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 30; continue; }
    r0 = s.tmp_0;
    { step = 31; continue; }
  case 30:
    r0 = pxsim.BufferMethods.getByte(s.subbuf___9635, s.zerop___9650);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != 0);
  case 31:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 32; continue; }
    r0 = (s.zerop___9650 + 1);
    s.zerop___9650 = (r0);
    { step = 29; continue; }
  case 32:
    s.tmp_0 = r0 = s.res___9514;
    s.tmp_3 = r0 = s.subbuf___9635;
    r0 = (s.zerop___9650 - 0);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 0, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    { step = 40; continue; }
  case 33:
    r0 = (s.c0___9556 == 98);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 34; continue; }
    r0 = pxsim_Array__push(s.res___9514, s.subbuf___9635);
    { step = 39; continue; }
  case 34:
    r0 = (s.c0___9556 == 120);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 35; continue; }
    { step = 38; continue; }
  case 35:
    r0 = (s.c0___9556 == 114);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 36; continue; }
    s.tmp_2 = r0 = s.res___9514;
    s.tmp_4 = jacdac_jdunpackCore__P4927_mk(s);
    s.tmp_4.arg0 = s.subbuf___9635;
    s.tmp_5 = helpers_stringSlice__P2010_mk(s);
    s.tmp_5.arg0 = s.arg1;
    s.tmp_5.arg1 = s.fp0___9517;
    s.tmp_5.arg2 = undefined;
    s.callLocIdx = 270; s.pc = 63; return s.tmp_5;
  case 63:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.tmp_4.arg2 = 2;
    s.callLocIdx = 271; s.pc = 62; return s.tmp_4;
  case 62:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    { step = 52; continue; }
    { step = 37; continue; }
  case 36:
    r0 = pxsim_pxtcore.throwValue("whoops");
  case 37:
  case 38:
  case 39:
  case 40:
    s.tmp_0 = r0 = s.off___9516;
    r0 = pxsim.BufferMethods.length(s.subbuf___9635);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.off___9516 = (r0);
    r0 = (s.c0___9556 == 122);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 41; continue; }
    r0 = (s.off___9516 + 1);
    s.off___9516 = (r0);
  case 41:
  case 42:
  case 43:
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 44; continue; }
    r0 = s.tmp_0;
    { step = 45; continue; }
  case 44:
    r0 = s.parser___9518.fields["fp"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
  case 45:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 50; continue; }
    r0 = (s.parser___9518).fields["fp"] = (0);
    r0 = (s.arg2 == 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 46; continue; }
    r0 = pxsim_Array__push(s.repeatRes___9509, s.res___9514);
    r0 = pxsim_Array__mk();
    s.res___9514 = (r0);
  case 46:
  case 47:
    s.tmp_1 = r0 = s.off___9516;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 48; continue; }
    { step = 52; continue; }
  case 48:
  case 49:
  case 50:
  case 51:
    { step = 7; continue; }
  case 52:
    r0 = (s.arg2 == 2);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 55; continue; }
    r0 = pxsim_Array__length(s.res___9514);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 53; continue; }
    r0 = pxsim_Array__push(s.repeatRes___9509, s.res___9514);
  case 53:
  case 54:
    r0 = s.repeatRes___9509;
    { step = 57; continue; }
    { step = 56; continue; }
  case 55:
    r0 = s.res___9514;
    { step = 57; continue; }
  case 56:
    r0 = undefined;
  case 57:
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdunpackCore__P4927.info = {"start":4469,"length":2585,"line":141,"column":4,"endLine":215,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"jdunpackCore","argumentNames":["buf","fmt","repeat"]}

function jacdac_jdunpackCore__P4927_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdunpackCore__P4927, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  repeatRes___9509: undefined,
  res___9514: undefined,
  off___9516: undefined,
  fp0___9517: undefined,
  parser___9518: undefined,
  sz___9553: undefined,
  c0___9556: undefined,
  endoff___9562: undefined,
  fmt1___9591: undefined,
  v___9598: undefined,
  subbuf___9635: undefined,
  zerop___9650: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_bufferToString__P4921(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.toString(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_bufferToString__P4921.info = {"start":1270,"length":74,"line":43,"column":4,"endLine":45,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"bufferToString","argumentNames":["buf"]}

function jacdac_bufferToString__P4921_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_bufferToString__P4921, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Server_sendReport__P4941(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_2.arg0 = s.arg1;
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 557; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendReport__P2924_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_1 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_1.arg0 = globals.bus___3430;
    s.callLocIdx = 558; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 559; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_sendReport__P4941.info = {"start":19232,"length":190,"line":566,"column":8,"endLine":570,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendReport","argumentNames":["this","pkt"]}

function jacdac_Server_sendReport__P4941_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_sendReport__P4941, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_markHandled__P2889(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_handled"] = (true);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_markHandled__P2889.info = {"start":3246,"length":58,"line":92,"column":8,"endLine":94,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"markHandled","argumentNames":["this"]}

function jacdac_JDPacket_markHandled__P2889_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_markHandled__P2889, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Server_handleCalibrateCommand__P4947(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["_statusCode"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["calibrate"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = jacdac_Server_setStatusCode__P3460_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 2;
    s.callLocIdx = 577; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, jacdac_Server_handleCalibrateCommand_inline__P9765);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_runInBackground__P2296_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 579; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 580; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleCalibrateCommand__P4947.info = {"start":21376,"length":362,"line":636,"column":8,"endLine":643,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleCalibrateCommand","argumentNames":["this","pkt"]}

function jacdac_Server_handleCalibrateCommand__P4947_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleCalibrateCommand__P4947, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handleCalibrateCommand_inline__P9765(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_Server_doCalibrate__P4948_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 578; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleCalibrateCommand_inline__P9765.info = {"start":21655,"length":24,"line":641,"column":40,"endLine":641,"endColumn":64,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_Server_handleCalibrateCommand_inline__P9765_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleCalibrateCommand_inline__P9765, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_JDPacket_possiblyNotImplemented__P2890(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___9776 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_handled"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_6, 3);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 4);
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_8 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.callLocIdx = 188; s.pc = 6; return s.tmp_8;
  case 6:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, 4, 0);
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);
    s.tmp_5 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    s.tmp_5.arg0 = 3;
    s.tmp_5.arg1 = globals.CommandNotImplemented___3053;
    s.tmp_5.arg2 = s.tmp_0;
    s.callLocIdx = 191; s.pc = 7; return s.tmp_5;
  case 7:
    r0 = s.retval;
    s.p___9776 = (r0);
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.p___9776;
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 13);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 63);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 193; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendReport__P2924_mk(s);
    s.tmp_0.arg0 = s.p___9776;
    s.tmp_1 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_1.arg0 = globals.bus___3430;
    s.callLocIdx = 194; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 195; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_possiblyNotImplemented__P2890.info = {"start":3314,"length":540,"line":96,"column":8,"endLine":110,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"possiblyNotImplemented","argumentNames":["this"]}

function jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_possiblyNotImplemented__P2890, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  p___9776: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_handled__P2888(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_handled"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_handled__P2888.info = {"start":3176,"length":60,"line":88,"column":8,"endLine":90,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"handled","argumentNames":["this"]}
jacdac_JDPacket_handled__P2888.isGetter = true;

function jacdac_JDPacket_handled__P2888_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_handled__P2888, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_Server_doCalibrate__P4948(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___9802 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.beginTry(1);
    s.tmp_0 = if_calibrate_1_mk(s);
    s.tmp_0.arg0 = s.arg0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "calibrate"), 1);
      s.callLocIdx = 581; s.pc = 3; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["calibrate"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["calibrate"], 1); s.callLocIdx = 581; s.pc = 3; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 581; s.pc = 3; return s.tmp_0;; }
     else { s.callLocIdx = 581; s.pc = 3; return s.tmp_0; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_Server_setStatusCode__P3460_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 582; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore.endTry();
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___9802 = (r0);
    s.tmp_0 = jacdac_Server_setStatusCode__P3460_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 100;
    s.callLocIdx = 583; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_doCalibrate__P4948.info = {"start":21748,"length":270,"line":645,"column":8,"endLine":652,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"doCalibrate","argumentNames":["this"]}

function jacdac_Server_doCalibrate__P4948_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_doCalibrate__P4948, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  e___9802: undefined,
  arg0: undefined,
} }





function jacdac_Server_setStatusCode__P3460(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cc___9807 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = (s.arg1 & 65535);
    s.cc___9807 = (r0);
    r0 = s.arg0.fields["_statusCode"];
    s.tmp_1 = r0;
    r0 = (s.cc___9807 !== s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_statusCode"] = (s.cc___9807);
    s.tmp_0 = jacdac_Server_sendChangeEvent__P3466_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 542; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_setStatusCode__P3460.info = {"start":16644,"length":210,"line":491,"column":8,"endLine":497,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"setStatusCode","argumentNames":["this","code"]}

function jacdac_Server_setStatusCode__P3460_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_setStatusCode__P3460, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  cc___9807: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_sendChangeEvent__P3466(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Server_sendEvent__P3465_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 3;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 565; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 566; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_sendChangeEvent__P3466.info = {"start":19837,"length":112,"line":584,"column":8,"endLine":587,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendChangeEvent","argumentNames":["this"]}

function jacdac_Server_sendChangeEvent__P3466_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_sendChangeEvent__P3466, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Server_sendEvent__P3465(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pkt___9833 = undefined;
    s.now___9845 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_2 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_2;
    { step = 4; continue; }
  case 3:
    r0 = pxsim.control.createBuffer(0);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_5 = jacdac_Bus_mkEventCmd__P3419_mk(s);
    s.tmp_5.arg0 = globals.bus___3430;
    s.tmp_5.arg1 = s.arg1;
    s.callLocIdx = 560; s.pc = 7; return s.tmp_5;
  case 7:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.tmp_3;
    s.callLocIdx = 561; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.pkt___9833 = (r0);
    s.tmp_0 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.pkt___9833;
    s.callLocIdx = 562; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    s.now___9845 = (r0);
    s.tmp_0 = jacdac_delayedSend__P2975_mk(s);
    s.tmp_0.arg0 = s.pkt___9833;
    r0 = (s.now___9845 + 20);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 563; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = jacdac_delayedSend__P2975_mk(s);
    s.tmp_0.arg0 = s.pkt___9833;
    r0 = (s.now___9845 + 100);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 564; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_sendEvent__P3465.info = {"start":19432,"length":395,"line":572,"column":8,"endLine":582,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendEvent","argumentNames":["this","eventCode","data"]}

function jacdac_Server_sendEvent__P3465_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_sendEvent__P3465, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  pkt___9833: undefined,
  now___9845: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_delayedSend__P2975(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dp___9866 = undefined;
    s.i___9871 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.delayedPackets___4969);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.delayedPackets___4969 = (r0);
    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = jacdac_processDelayedPackets__P4972;
    s.callLocIdx = 304; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_DelayedPacket__C4970_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_DelayedPacket_constructor__P4971_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg0;
    s.callLocIdx = 305; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.dp___9866 = (s.tmp_0);
    s.i___9871 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___9871;
    r0 = pxsim_Array__length(globals.delayedPackets___4969);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(globals.delayedPackets___4969, s.i___9871);
    r0 = r0.fields["timestamp"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 > s.arg1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array_.insertAt(globals.delayedPackets___4969, s.i___9871, s.dp___9866);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.i___9871 + 1);
    s.i___9871 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = pxsim_Array__push(globals.delayedPackets___4969, s.dp___9866);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_delayedSend__P2975.info = {"start":252,"length":495,"line":13,"column":4,"endLine":26,"endColumn":5,"fileName":"pxt_modules/jacdac/eventqueue.ts","functionName":"delayedSend","argumentNames":["pkt","timestamp"]}

function jacdac_delayedSend__P2975_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_delayedSend__P2975, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  dp___9866: undefined,
  i___9871: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_DelayedPacket_constructor__P4971(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DelayedPacket__C4970_VT)) failedCast(r0);
    r0 = (s.arg0).fields["timestamp"] = (s.arg1);
    r0 = (s.arg0).fields["pkt"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DelayedPacket_constructor__P4971.info = {"start":126,"length":114,"line":7,"column":8,"endLine":10,"endColumn":12,"fileName":"pxt_modules/jacdac/eventqueue.ts","functionName":"inline","argumentNames":["this","timestamp","pkt"]}

function jacdac_DelayedPacket_constructor__P4971_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DelayedPacket_constructor__P4971, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_processDelayedPackets__P4972(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___9900 = undefined;
    s.curr___9904 = undefined;
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 10; continue; }
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 10;
    s.callLocIdx = 306; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    s.now___9900 = (r0);
  case 2:
    r0 = pxsim_Array__getAt(globals.delayedPackets___4969, 0);
    s.curr___9904 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.curr___9904);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = s.curr___9904.fields["timestamp"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > s.now___9900);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    { step = 7; continue; }
  case 5:
  case 6:
    r0 = pxsim_Array_.removeAt(globals.delayedPackets___4969, 0);
    s.tmp_0 = jacdac_JDPacket__sendCore__P2923_mk(s);
    r0 = s.curr___9904.fields["pkt"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 308; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    { step = 2; continue; }
  case 7:
    r0 = pxsim_Array__length(globals.delayedPackets___4969);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    globals.delayedPackets___4969 = (null);
    { step = 11; continue; }
  case 8:
  case 9:
    { step = 1; continue; }
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_processDelayedPackets__P4972.info = {"start":753,"length":470,"line":28,"column":4,"endLine":43,"endColumn":5,"fileName":"pxt_modules/jacdac/eventqueue.ts","functionName":"processDelayedPackets","argumentNames":[]}

function jacdac_processDelayedPackets__P4972_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_processDelayedPackets__P4972, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  now___9900: undefined,
  curr___9904: undefined,
} }





function helpers_arrayShift__P1993(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array_.removeAt(s.arg0, 0);
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayShift__P1993.info = {"start":4045,"length":82,"line":153,"column":4,"endLine":155,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayShift","argumentNames":["arr"]}

function helpers_arrayShift__P1993_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayShift__P1993, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function pause__P2226(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 25; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg0 = (20);
  case 1:
  case 2:
    setupResume(s, 4);
    pxsim.basic.pause(s.arg0);
    checkResumeConsumed();
    return;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pause__P2226.info = {"start":737,"length":84,"line":23,"column":0,"endLine":26,"endColumn":1,"fileName":"pxt_modules/core/basic.ts","functionName":"pause","argumentNames":["ms"]}

function pause__P2226_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pause__P2226, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Bus_mkEventCmd__P3419(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["_eventCounter"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_eventCounter"] = (0);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_eventCounter"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 127);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_eventCounter"] = (s.tmp_1);
    r0 = (s.arg1 >> 8);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = jacdac_panic__P3432_mk(s);
    s.tmp_1.arg0 = "invalid evcode";
    s.callLocIdx = 439; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = s.arg0.fields["_eventCounter"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 << 8);
    s.tmp_1 = r0;
    r0 = (32768 | s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | s.arg1);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_mkEventCmd__P3419.info = {"start":3379,"length":405,"line":111,"column":8,"endLine":121,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"mkEventCmd","argumentNames":["this","evCode"]}

function jacdac_Bus_mkEventCmd__P3419_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_mkEventCmd__P3419, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_statusCode__P3452(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["_statusCode"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Server_statusCode__P3452.info = {"start":15368,"length":64,"line":441,"column":8,"endLine":443,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"statusCode","argumentNames":["this"]}
jacdac_Server_statusCode__P3452.isGetter = true;

function jacdac_Server_statusCode__P3452_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_statusCode__P3452, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Server_handleIntensity__P4946(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___9969 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 1;
    r0 = s.arg0.fields["intensityPackFormat"];
    s.tmp_0.arg3 = r0;
    r0 = s.arg0.fields["_intensity"];
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 574; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.v___9969 = (r0);
    s.tmp_0 = jacdac_Server_intensity__P3457_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.v___9969;
    s.callLocIdx = 575; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleIntensity__P4946.info = {"start":21076,"length":270,"line":625,"column":8,"endLine":633,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleIntensity","argumentNames":["this","pkt"]}

function jacdac_Server_handleIntensity__P4946_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleIntensity__P4946, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  v___9969: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_intensity__P3457(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["intensityPackFormat"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = jacdac_panic__P3432_mk(s);
    s.tmp_3.arg0 = "invalid intensity register";
    s.callLocIdx = 538; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["_intensity"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["_intensity"] = (s.arg1);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 539; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_intensity__P3457.info = {"start":16076,"length":252,"line":471,"column":8,"endLine":477,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"intensity","argumentNames":["this","value"]}

function jacdac_Server_intensity__P3457_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_intensity__P3457, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_intensity__P3456(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["_intensity"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Server_intensity__P3456.info = {"start":16004,"length":62,"line":467,"column":8,"endLine":469,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"intensity","argumentNames":["this"]}
jacdac_Server_intensity__P3456.isGetter = true;

function jacdac_Server_intensity__P3456_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_intensity__P3456, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Server_handleValue__P4945(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___10002 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 2;
    r0 = s.arg0.fields["valuePackFormat"];
    s.tmp_0.arg3 = r0;
    r0 = s.arg0.fields["_value"];
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 572; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.v___10002 = (r0);
    s.tmp_0 = jacdac_Server_value__P3459_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.v___10002;
    s.callLocIdx = 573; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleValue__P4945.info = {"start":20809,"length":257,"line":615,"column":8,"endLine":623,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleValue","argumentNames":["this","pkt"]}

function jacdac_Server_handleValue__P4945_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleValue__P4945, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  v___10002: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_value__P3459(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["valuePackFormat"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = jacdac_panic__P3432_mk(s);
    s.tmp_3.arg0 = "invalid value register";
    s.callLocIdx = 540; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["_value"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["_value"] = (s.arg1);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 541; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_value__P3459.info = {"start":16402,"length":232,"line":483,"column":8,"endLine":489,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"value","argumentNames":["this","value"]}

function jacdac_Server_value__P3459_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_value__P3459, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_value__P3458(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["_value"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Server_value__P3458.info = {"start":16338,"length":54,"line":479,"column":8,"endLine":481,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"value","argumentNames":["this"]}
jacdac_Server_value__P3458.isGetter = true;

function jacdac_Server_value__P3458_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_value__P3458, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Server_handleVariant__P4944(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["variant"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    s.tmp_2.arg2 = 263;
    s.tmp_2.arg3 = "u8";
    r0 = s.arg0.fields["variant"];
    s.tmp_2.arg4 = r0;
    s.callLocIdx = 570; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 571; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleVariant__P4944.info = {"start":20582,"length":217,"line":609,"column":8,"endLine":613,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleVariant","argumentNames":["this","pkt"]}

function jacdac_Server_handleVariant__P4944_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleVariant__P4944, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handleInstanceName__P4943(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["instanceName"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = 265;
    s.tmp_1.arg3 = globals.InstanceName___3040;
    r0 = s.arg0.fields["instanceName"];
    s.tmp_1.arg4 = r0;
    s.callLocIdx = 568; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 569; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleInstanceName__P4943.info = {"start":20228,"length":344,"line":598,"column":8,"endLine":607,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleInstanceName","argumentNames":["this","pkt"]}

function jacdac_Server_handleInstanceName__P4943_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleInstanceName__P4943, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handleStatusCode__P4942(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_statusCode"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = s.arg0.fields["_statusVendorCode"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_3 = jacdac_Server_handleRegFormat__P4949_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    s.tmp_3.arg2 = 259;
    s.tmp_3.arg3 = globals.StatusCode___3039;
    s.tmp_3.arg4 = s.tmp_0;
    s.callLocIdx = 567; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleStatusCode__P4942.info = {"start":19959,"length":259,"line":589,"column":8,"endLine":596,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleStatusCode","argumentNames":["this","pkt"]}

function jacdac_Server_handleStatusCode__P4942_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleStatusCode__P4942, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_handleRegFormat__P4949(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.getset___10078 = undefined;
    s.reg___10088 = undefined;
    s.v___10110 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 12);
    s.getset___10078 = (r0);
    r0 = (s.getset___10078 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.getset___10078 > 2);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.arg4;
    { step = 13; continue; }
  case 3:
  case 4:
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 4095);
    s.reg___10088 = (r0);
    r0 = (s.reg___10088 != s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg4;
    { step = 13; continue; }
  case 5:
  case 6:
    s.tmp_1 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 586; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = (s.getset___10078 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.arg3;
    s.tmp_2.arg2 = s.arg4;
    s.callLocIdx = 588; s.pc = 16; return s.tmp_2;
  case 16:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 589; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    { step = 12; continue; }
  case 7:
    r0 = (s.arg2 >> 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = s.arg4;
    { step = 13; continue; }
  case 8:
  case 9:
    s.tmp_2 = jacdac_JDPacket_jdunpack__P2914_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg3;
    s.callLocIdx = 590; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.v___10110 = (r0);
    s.tmp_3 = jacdac_jdpackEqual__P2935_mk(s);
    s.tmp_3.arg0 = s.arg3;
    s.tmp_3.arg1 = s.v___10110;
    s.tmp_3.arg2 = s.arg4;
    s.callLocIdx = 591; s.pc = 18; return s.tmp_3;
  case 18:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = (s.arg0).fields["stateUpdated"] = (true);
    s.arg4 = (s.v___10110);
  case 10:
  case 11:
  case 12:
    r0 = s.arg4;
  case 13:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleRegFormat__P4949.info = {"start":22028,"length":896,"line":654,"column":8,"endLine":678,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleRegFormat","argumentNames":["this","pkt","register","fmt","current"]}

function jacdac_Server_handleRegFormat__P4949_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleRegFormat__P4949, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  getset___10078: undefined,
  reg___10088: undefined,
  v___10110: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function jacdac_jdpackEqual__P2935(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.leftBuffer___10136 = undefined;
    s.rightBuffer___10141 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 !== s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 3; continue; }
    r0 = true;
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_7 = jacdac_jdpack__P2934_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.arg1;
    s.callLocIdx = 286; s.pc = 6; return s.tmp_7;
  case 6:
    r0 = s.retval;
    s.leftBuffer___10136 = (r0);
    s.tmp_0 = jacdac_jdpack__P2934_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 287; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.rightBuffer___10141 = (r0);
    s.tmp_0 = helpers_bufferEquals__P2619_mk(s);
    s.tmp_0.arg0 = s.leftBuffer___10136;
    s.tmp_0.arg1 = s.rightBuffer___10141;
    s.callLocIdx = 288; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdpackEqual__P2935.info = {"start":12870,"length":333,"line":387,"column":4,"endLine":398,"endColumn":5,"fileName":"pxt_modules/jacdac/pack.ts","functionName":"jdpackEqual","argumentNames":["fmt","left","right"]}

function jacdac_jdpackEqual__P2935_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdpackEqual__P2935, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  leftBuffer___10136: undefined,
  rightBuffer___10141: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDPacket_isCommand__P2919(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, 3);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_isCommand__P2919.info = {"start":8454,"length":91,"line":263,"column":8,"endLine":265,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"isCommand","argumentNames":["this"]}
jacdac_JDPacket_isCommand__P2919.isGetter = true;

function jacdac_JDPacket_isCommand__P2919_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_isCommand__P2919, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket__sendReport__P2924(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_deviceIdentifier__P2892_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 232; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCore__P2923_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 233; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendReport__P2924.info = {"start":9696,"length":143,"line":299,"column":8,"endLine":303,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_sendReport","argumentNames":["this","dev"]}

function jacdac_JDPacket__sendReport__P2924_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendReport__P2924, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_onlyHeader__P2884(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 182; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_onlyHeader__P2884.info = {"start":2294,"length":120,"line":64,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"onlyHeader","argumentNames":["serviceCommand"]}

function jacdac_JDPacket_onlyHeader__P2884_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_onlyHeader__P2884, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_crc__P2900(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_crc__P2900.info = {"start":5139,"length":97,"line":152,"column":8,"endLine":154,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"crc","argumentNames":["this"]}
jacdac_JDPacket_crc__P2900.isGetter = true;

function jacdac_JDPacket_crc__P2900_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_crc__P2900, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Bus_selfDevice__P3418(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["_myDevice"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Device__C3525_VT);
    s.tmp_3 = r0;
    s.tmp_4 = jacdac_Device_constructor__P3529_mk(s);
    s.tmp_4.arg0 = s.tmp_3;
    r0 = pxsim.control.deviceLongSerialNumber();
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_5);
    s.tmp_4.arg1 = r0;
    r0 = pxsim.control.createBuffer(4);
    s.tmp_4.arg2 = r0;
    s.callLocIdx = 438; s.pc = 3; return s.tmp_4;
  case 3:
    r0 = s.retval;
    r0 = (s.arg0).fields["_myDevice"] = (s.tmp_3);
  case 1:
  case 2:
    r0 = s.arg0.fields["_myDevice"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Bus_selfDevice__P3418.info = {"start":3096,"length":273,"line":101,"column":8,"endLine":109,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"selfDevice","argumentNames":["this"]}
jacdac_Bus_selfDevice__P3418.isGetter = true;

function jacdac_Bus_selfDevice__P3418_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_selfDevice__P3418, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_requiresAck__P2897(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = jacdac_JDPacket_requiresAck__P2896_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 199; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 3);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 ^ 2);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_4, 3, s.tmp_5);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_requiresAck__P2897.info = {"start":4646,"length":145,"line":138,"column":8,"endLine":141,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"requiresAck","argumentNames":["this","ack"]}

function jacdac_JDPacket_requiresAck__P2897_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_requiresAck__P2897, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_requiresAck__P2896(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 2; continue; }
  case 1:
    r0 = false;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_requiresAck__P2896.info = {"start":4518,"length":119,"line":135,"column":8,"endLine":137,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"requiresAck","argumentNames":["this"]}
jacdac_JDPacket_requiresAck__P2896.isGetter = true;

function jacdac_JDPacket_requiresAck__P2896_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_requiresAck__P2896, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_multicommandClass__P2894(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 11, 4);
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = undefined;
  case 3:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_multicommandClass__P2894.info = {"start":4218,"length":214,"line":125,"column":8,"endLine":129,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"multicommandClass","argumentNames":["this"]}
jacdac_JDPacket_multicommandClass__P2894.isGetter = true;

function jacdac_JDPacket_multicommandClass__P2894_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_multicommandClass__P2894, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac___physSendPacket__P2815(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.payload___10219 = undefined;
    s.tailend___10223 = undefined;
    s.crc___10243 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = helpers_bufferConcat__P2618_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 159; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.payload___10219 = (r0);
    r0 = pxsim.BufferMethods.length(s.payload___10219);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 3);
    s.tailend___10223 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tailend___10223);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_bufferConcat__P2618_mk(s);
    s.tmp_0.arg0 = s.payload___10219;
    r0 = (4 - s.tailend___10223);
    s.tmp_1 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 160; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.payload___10219 = (r0);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.payload___10219;
    r0 = pxsim.BufferMethods.length(s.payload___10219);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 12);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 2, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.arg0, 2, s.tmp_1);
    s.tmp_0 = jacdac_jdCrc16__P4861_mk(s);
    r0 = pxsim.BufferMethods.slice(s.payload___10219, 2, -1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 161; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.crc___10243 = (r0);
    s.tmp_0 = r0 = s.payload___10219;
    r0 = (s.crc___10243 >> 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 255);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.arg0, 0, s.tmp_1);
    s.tmp_0 = r0 = s.payload___10219;
    r0 = (s.crc___10243 >> 8);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 255);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 1, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.arg0, 1, s.tmp_1);
    r0 = pxsim_pxtcore.sendMessage("jacdac", s.payload___10219, undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physSendPacket__P2815.info = {"start":625,"length":540,"line":27,"column":4,"endLine":37,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physSendPacket","argumentNames":["header","data"]}

function jacdac___physSendPacket__P2815_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physSendPacket__P2815, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  payload___10219: undefined,
  tailend___10223: undefined,
  crc___10243: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_jdCrc16__P4861(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.crc___10272 = undefined;
    s.i___10273 = undefined;
    s.data___10279 = undefined;
    s.x___10283 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.crc___10272 = (65535);
    s.i___10273 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___10273;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.i___10273);
    s.data___10279 = (r0);
    r0 = (s.crc___10272 >> 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 ^ s.data___10279);
    s.x___10283 = (r0);
    s.tmp_0 = r0 = s.x___10283;
    r0 = (s.x___10283 >> 4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 ^ s.tmp_1);
    s.x___10283 = (r0);
    r0 = (s.crc___10272 << 8);
    s.tmp_2 = r0;
    r0 = (s.x___10283 << 12);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 ^ s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.x___10283 << 5);
    s.tmp_4 = r0;
    r0 = (s.tmp_1 ^ s.tmp_4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 ^ s.x___10283);
    s.crc___10272 = (r0);
    r0 = (s.crc___10272 & 65535);
    s.crc___10272 = (r0);
    r0 = (s.i___10273 + 1);
    s.i___10273 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.crc___10272;
    return leave(s, r0)
  default: oops()
} } }
jacdac_jdCrc16__P4861.info = {"start":204,"length":308,"line":11,"column":4,"endLine":21,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"jdCrc16","argumentNames":["p"]}

function jacdac_jdCrc16__P4861_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_jdCrc16__P4861, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  crc___10272: undefined,
  i___10273: undefined,
  data___10279: undefined,
  x___10283: undefined,
  arg0: undefined,
} }





function jacdac_panic__P3432(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_error__P2380_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 525; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore.throwValue(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_panic__P3432.info = {"start":13159,"length":99,"line":372,"column":4,"endLine":375,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"panic","argumentNames":["message"]}

function jacdac_panic__P3432_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_panic__P3432, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_deviceIdentifier__P2892(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.idb___10319 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_0 = Buffer_fromHex__P2638_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 196; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.idb___10319 = (r0);
    r0 = pxsim.BufferMethods.length(s.idb___10319);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 8);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_2, 4, s.idb___10319);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_deviceIdentifier__P2892.info = {"start":3987,"length":147,"line":116,"column":8,"endLine":119,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"deviceIdentifier","argumentNames":["this","id"]}

function jacdac_JDPacket_deviceIdentifier__P2892_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_deviceIdentifier__P2892, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  idb___10319: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_deviceIdentifier__P2891(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_deviceIdentifier__P2891.info = {"start":3864,"length":114,"line":112,"column":8,"endLine":115,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"deviceIdentifier","argumentNames":["this"]}
jacdac_JDPacket_deviceIdentifier__P2891.isGetter = true;

function jacdac_JDPacket_deviceIdentifier__P2891_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_deviceIdentifier__P2891, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_serviceIndex__P2899(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = (s.arg1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_panic__P3432_mk(s);
    s.tmp_1.arg0 = "serviceIndex not set";
    s.callLocIdx = 200; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 13);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 192);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 13, s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_serviceIndex__P2899.info = {"start":4908,"length":221,"line":146,"column":8,"endLine":150,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"serviceIndex","argumentNames":["this","serviceIdx"]}

function jacdac_JDPacket_serviceIndex__P2899_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_serviceIndex__P2899, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_serviceIndex__P2898(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_1, 13);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 63);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_serviceIndex__P2898.info = {"start":4801,"length":98,"line":143,"column":8,"endLine":145,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"serviceIndex","argumentNames":["this"]}
jacdac_JDPacket_serviceIndex__P2898.isGetter = true;

function jacdac_JDPacket_serviceIndex__P2898_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_serviceIndex__P2898, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Client_start__P3521(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["started"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["started"] = (true);
    s.tmp_0 = jacdac_start__P3559_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 697; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_Bus_startClient__P3425_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 698; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_start__P3521.info = {"start":41336,"length":156,"line":1249,"column":8,"endLine":1254,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"start","argumentNames":["this"]}

function jacdac_Client_start__P3521_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_start__P3521, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Bus_startClient__P3425(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    r0 = s.arg0.fields["allClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_0 = jacdac_Bus_clearAttachCache__P3420_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 454; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_startClient__P3425.info = {"start":6078,"length":164,"line":183,"column":8,"endLine":187,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"startClient","argumentNames":["this","client"]}

function jacdac_Bus_startClient__P3425_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_startClient__P3425, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_HidKeyboardClient_constructor__P4094(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_HidKeyboardClient__C4093_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 414210922;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 948; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_HidKeyboardClient_constructor__P4094.info = {"start":7289,"length":86,"line":278,"column":8,"endLine":280,"endColumn":9,"fileName":"pxt_modules/jacdac-hid-keyboard/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_HidKeyboardClient_constructor__P4094_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_HidKeyboardClient_constructor__P4094, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_constructor__P3502(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 645; s.pc = 3; return s.tmp_4;
  case 3:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_panic__P3432_mk(s);
    s.tmp_2.arg0 = "no role";
    s.callLocIdx = 646; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = control_allocateEventSource__P2341_mk(s);
    s.callLocIdx = 647; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["eventSource"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ClientPacketQueue__C5041_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ClientPacketQueue_constructor__P5046_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 648; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = (s.arg0).fields["config"] = (s.tmp_0);
    r0 = (s.arg0).fields["_role"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_constructor__P3502.info = {"start":33699,"length":281,"line":1026,"column":8,"endLine":1033,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","serviceClass","role"]}

function jacdac_Client_constructor__P3502_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_constructor__P3502, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_ClientPacketQueue_constructor__P5046(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C5041_VT)) failedCast(r0);
    r0 = (s.arg0).fields["parent"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pkts"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_constructor__P5046.info = {"start":27121,"length":46,"line":818,"column":8,"endLine":818,"endColumn":54,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","parent"]}

function jacdac_ClientPacketQueue_constructor__P5046_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_constructor__P5046, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_allocateEventSource__P2341(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals._evSource___4724 + 1);
    s.tmp_0 = r0;
    globals._evSource___4724 = (r0);
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
control_allocateEventSource__P2341.info = {"start":2984,"length":72,"line":111,"column":4,"endLine":113,"endColumn":5,"fileName":"pxt_modules/core/control.ts","functionName":"allocateEventSource","argumentNames":[]}

function control_allocateEventSource__P2341_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_allocateEventSource__P2341, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function pins_map__P2581(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - s.arg1);
    s.tmp_2 = r0;
    r0 = (s.arg4 - s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 * s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.arg2 - s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_1 / s.tmp_4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.arg3);
    return leave(s, r0)
  default: oops()
} } }
pins_map__P2581.info = {"start":906,"length":202,"line":17,"column":4,"endLine":19,"endColumn":5,"fileName":"pxt_modules/core/pins.ts","functionName":"map","argumentNames":["value","fromLow","fromHigh","toLow","toHigh"]}

function pins_map__P2581_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_map__P2581, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function Math_abs__P2019(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (0 - s.arg0);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
Math_abs__P2019.info = {"start":16095,"length":77,"line":538,"column":4,"endLine":540,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"abs","argumentNames":["x"]}

function Math_abs__P2019_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_abs__P2019, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function modules_VibrationMotorClient_vibrate__P4551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pattern___10454 = undefined;
    s.i___10456 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_VibrationMotorClient__C4549_VT)) failedCast(r0);
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg3;
    s.callLocIdx = 1066; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg3;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.arg3 = (s.tmp_2);
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg4;
    s.callLocIdx = 1067; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg4;
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.arg4 = (s.tmp_2);
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg5;
    s.callLocIdx = 1068; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = 1;
    { step = 6; continue; }
  case 5:
    r0 = s.arg5;
  case 6:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.arg5 = (s.tmp_2);
    r0 = pxsim_Array__mk();
    s.pattern___10454 = (r0);
    s.i___10456 = (0);
  case 7:
    r0 = (s.i___10456 < s.arg5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = (s.arg1 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__push(s.pattern___10454, s.arg1);
    r0 = pxsim_Array__push(s.pattern___10454, s.arg2);
  case 8:
  case 9:
    r0 = (s.arg3 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_Array__push(s.pattern___10454, s.arg3);
    r0 = pxsim_Array__push(s.pattern___10454, s.arg4);
  case 10:
  case 11:
    r0 = (s.i___10456 + 1);
    s.i___10456 = (r0);
    { step = 7; continue; }
  case 12:
    s.tmp_0 = modules_VibrationMotorClient_vibrateMulti__P4552_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.pattern___10454;
    s.callLocIdx = 1069; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_VibrationMotorClient_vibrate__P4551.info = {"start":939,"length":763,"line":32,"column":8,"endLine":54,"endColumn":9,"fileName":"pxt_modules/jacdac-vibration-motor/client.ts","functionName":"vibrate","argumentNames":["this","millis","intensity","millis2","intensity2","repeat"]}

function modules_VibrationMotorClient_vibrate__P4551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_VibrationMotorClient_vibrate__P4551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  pattern___10454: undefined,
  i___10456: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function modules_VibrationMotorClient_vibrateMulti__P4552(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.payload___10490 = undefined;
    s.i___10492 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_VibrationMotorClient__C4549_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.payload___10490 = (r0);
    s.i___10492 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___10492;
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.arg1, s.i___10492);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 3);
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_4);
    s.tmp_8 = r0 = s.arg1;
    r0 = (s.i___10492 + 1);
    s.tmp_9 = r0;
    r0 = pxsim_Array__getAt(s.tmp_8, s.tmp_9);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 / 100);
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_6);
    r0 = pxsim_Array__push(s.payload___10490, s.tmp_3);
    r0 = (s.i___10492 + 2);
    s.i___10492 = (r0);
    { step = 3; continue; }
  case 4:
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1070; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.payload___10490);
    s.tmp_1 = jacdac_Client_sendCommand__P3517_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    s.tmp_2.arg0 = 128;
    s.tmp_2.arg1 = globals.Vibrate___4547;
    s.tmp_2.arg2 = s.tmp_0;
    s.callLocIdx = 1071; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1072; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_VibrationMotorClient_vibrateMulti__P4552.info = {"start":1903,"length":534,"line":61,"column":8,"endLine":77,"endColumn":9,"fileName":"pxt_modules/jacdac-vibration-motor/client.ts","functionName":"vibrateMulti","argumentNames":["this","pattern"]}

function modules_VibrationMotorClient_vibrateMulti__P4552_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_VibrationMotorClient_vibrateMulti__P4552, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  payload___10490: undefined,
  i___10492: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_VibrationMotorClient_constructor__P4550(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_VibrationMotorClient__C4549_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 406832290;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 1065; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_VibrationMotorClient_constructor__P4550.info = {"start":236,"length":89,"line":8,"column":8,"endLine":10,"endColumn":9,"fileName":"pxt_modules/jacdac-vibration-motor/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_VibrationMotorClient_constructor__P4550_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_VibrationMotorClient_constructor__P4550, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_DistanceClient_distance__P3743(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_DistanceClient__C3741_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 935; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_DistanceClient_distance__P3743.info = {"start":1987,"length":64,"line":49,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/jacdac-distance/client.g.ts","functionName":"distance","argumentNames":["this"]}

function modules_DistanceClient_distance__P3743_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_DistanceClient_distance__P3743, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_SimpleSensorClient_reading__P3231(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___10534 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SimpleSensorClient__C3229_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SensorClient_setStreaming__P3227_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 339; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_reading"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 340; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___10534 = (r0);
    r0 = pxsim_Array__getAt(s.values___10534, 0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_SimpleSensorClient_reading__P3231.info = {"start":3504,"length":163,"line":101,"column":8,"endLine":105,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"reading","argumentNames":["this"]}

function jacdac_SimpleSensorClient_reading__P3231_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SimpleSensorClient_reading__P3231, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___10534: undefined,
  arg0: undefined,
} }





function jacdac_RegisterClient_pauseUntilValues__P3482(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.device___10556 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = s.arg0.fields["code"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== 257);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 1:
    s.tmp_5 = jacdac_RegisterClient_isConst__P3480_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 617; s.pc = 13; return s.tmp_5;
  case 13:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = s.arg0.fields["_data"];
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
  case 3:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = s.tmp_12;
  case 4:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 7; continue; }
    r0 = s.arg0.fields["service"];
    s.tmp_14 = r0;
    r0 = s.tmp_14.fields["_device"];
    s.device___10556 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.device___10556);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = jacdac_Device_query__P3541_mk(s);
    s.tmp_0.arg0 = s.device___10556;
    r0 = s.arg0.fields["code"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = 250;
    r0 = s.arg0.fields["service"];
    r0 = r0.fields["serviceIndex"];
    s.tmp_0.arg3 = r0;
    s.callLocIdx = 620; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = s.arg0.fields["_data"];
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtcore_mkAction(1, jacdac_RegisterClient_pauseUntilValues_inline__P10573);
    s.tmp_7 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_7, 0, s.arg0);
    s.tmp_8 = r0 = s.arg1;
    r0 = pxsim_numops_toBool(s.tmp_8);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_8;
    { step = 10; continue; }
  case 9:
    r0 = 100;
  case 10:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    s.tmp_10 = pauseUntil__P2654_mk(s);
    s.tmp_10.arg0 = s.tmp_7;
    s.tmp_10.arg1 = s.tmp_9;
    s.callLocIdx = 623; s.pc = 15; return s.tmp_10;
  case 15:
    r0 = s.retval;
  case 11:
  case 12:
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 624; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_pauseUntilValues__P3482.info = {"start":29793,"length":652,"line":910,"column":8,"endLine":926,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"pauseUntilValues","argumentNames":["this","timeOut"]}

function jacdac_RegisterClient_pauseUntilValues__P3482_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_pauseUntilValues__P3482, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  device___10556: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_RegisterClient_pauseUntilValues_inline__P10573(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["_data"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_pauseUntilValues_inline__P10573.info = {"start":30365,"length":22,"line":924,"column":27,"endLine":924,"endColumn":49,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_RegisterClient_pauseUntilValues_inline__P10573_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_pauseUntilValues_inline__P10573, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function jacdac_RegisterClient_values__P3483(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    r0 = s.arg0.fields["service"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 625; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_jdunpack__P2933_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["packFormat"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 626; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_values__P3483.info = {"start":30455,"length":134,"line":928,"column":8,"endLine":931,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"values","argumentNames":["this"]}
jacdac_RegisterClient_values__P3483.isGetter = true;

function jacdac_RegisterClient_values__P3483_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_values__P3483, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function pauseUntil__P2654(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.arg0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 84; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.arg1 = (0);
  case 5:
  case 6:
    s.tmp_0 = control___queuePollEvent__P2653_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 85; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pauseUntil__P2654.info = {"start":2224,"length":227,"line":73,"column":0,"endLine":77,"endColumn":1,"fileName":"pxt_modules/core/poll.ts","functionName":"pauseUntil","argumentNames":["condition","timeOut"]}

function pauseUntil__P2654_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pauseUntil__P2654, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control___queuePollEvent__P2653(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ev___10604 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(control_PollEvent__C4805_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_PollEvent_constructor__P4806_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 1023;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1.arg2 = r0;
    r0 = pxsim.control.millis();
    s.tmp_1.arg3 = r0;
    s.tmp_1.arg4 = s.arg0;
    s.tmp_1.arg5 = s.arg1;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1.arg6 = r0;
    s.callLocIdx = 82; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.ev___10604 = (s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(globals._pollEventQueue___4808);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.ev___10604);
    globals._pollEventQueue___4808 = (s.tmp_2);
    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = control_pollEvents__P4809;
    s.callLocIdx = 83; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__push(globals._pollEventQueue___4808, s.ev___10604);
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 3; continue; }
    r0 = s.ev___10604.fields["eid"];
    s.tmp_0 = r0;
    r0 = s.ev___10604.fields["vid"];
    s.tmp_1 = r0;
    r0 = pxsim.control.onEvent(s.tmp_0, s.tmp_1, s.arg2, 0);
    { step = 4; continue; }
  case 3:
    r0 = s.ev___10604.fields["eid"];
    s.tmp_0 = r0;
    r0 = s.ev___10604.fields["vid"];
    s.tmp_1 = r0;
    setupResume(s, 7);
    pxsim.control.waitForEvent(s.tmp_0, s.tmp_1);
    checkResumeConsumed();
    return;
  case 7:
    r0 = s.retval;
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control___queuePollEvent__P2653.info = {"start":1262,"length":758,"line":39,"column":4,"endLine":64,"endColumn":5,"fileName":"pxt_modules/core/poll.ts","functionName":"__queuePollEvent","argumentNames":["timeOut","condition","handler"]}

function control___queuePollEvent__P2653_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control___queuePollEvent__P2653, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  ev___10604: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_pollEvents__P4809(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___10648 = undefined;
    s.i___10651 = undefined;
    s.ev___10657 = undefined;
  case 1:
    r0 = pxsim_Array__length(globals._pollEventQueue___4808);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = pxsim.control.millis();
    s.now___10648 = (r0);
    s.i___10651 = (0);
  case 2:
    s.tmp_1 = r0 = s.i___10651;
    r0 = pxsim_Array__length(globals._pollEventQueue___4808);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array__getAt(globals._pollEventQueue___4808, s.i___10651);
    s.ev___10657 = (r0);
    s.tmp_1 = if_condition_1_mk(s);
    s.tmp_1.arg0 = s.ev___10657;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "condition"), 1);
      s.callLocIdx = 79; s.pc = 13; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["condition"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["condition"], 1); s.callLocIdx = 79; s.pc = 13; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 79; s.pc = 13; return s.tmp_1;; }
     else { s.callLocIdx = 79; s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 3:
    r0 = s.ev___10657.fields["timeOut"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.ev___10657.fields["start"];
    s.tmp_5 = r0;
    r0 = (s.now___10648 - s.tmp_5);
    s.tmp_4 = r0;
    r0 = s.ev___10657.fields["timeOut"];
    s.tmp_6 = r0;
    r0 = (s.tmp_4 > s.tmp_6);
  case 5:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 9; continue; }
    r0 = s.ev___10657.fields["eid"];
    s.tmp_9 = r0;
    r0 = s.ev___10657.fields["vid"];
    s.tmp_10 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_9, s.tmp_10, 1);
    r0 = s.ev___10657.fields["once"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = helpers_arraySplice__P1991_mk(s);
    s.tmp_1.arg0 = globals._pollEventQueue___4808;
    s.tmp_1.arg1 = s.i___10651;
    s.tmp_1.arg2 = 1;
    s.callLocIdx = 80; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = (s.i___10651 - 1);
    s.i___10651 = (r0);
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = (s.i___10651 + 1);
    s.i___10651 = (r0);
    { step = 2; continue; }
  case 11:
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 50;
    s.callLocIdx = 81; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    { step = 1; continue; }
  case 12:
    globals._pollEventQueue___4808 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_pollEvents__P4809.info = {"start":618,"length":638,"line":20,"column":4,"endLine":37,"endColumn":5,"fileName":"pxt_modules/core/poll.ts","functionName":"pollEvents","argumentNames":[]}

function control_pollEvents__P4809_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_pollEvents__P4809, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  now___10648: undefined,
  i___10651: undefined,
  ev___10657: undefined,
} }





function helpers_arraySplice__P1991(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___10706 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.i___10706 = (0);
  case 3:
    r0 = (s.i___10706 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array_.removeAt(s.arg0, s.arg1);
    r0 = (s.i___10706 + 1);
    s.i___10706 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySplice__P1991.info = {"start":3642,"length":213,"line":137,"column":4,"endLine":144,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arraySplice","argumentNames":["arr","start","len"]}

function helpers_arraySplice__P1991_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySplice__P1991, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  i___10706: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_PollEvent_constructor__P4806(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_PollEvent__C4805_VT)) failedCast(r0);
    r0 = (s.arg0).fields["eid"] = (s.arg1);
    r0 = (s.arg0).fields["vid"] = (s.arg2);
    r0 = (s.arg0).fields["start"] = (s.arg3);
    r0 = (s.arg0).fields["timeOut"] = (s.arg4);
    r0 = (s.arg0).fields["condition"] = (s.arg5);
    r0 = (s.arg0).fields["once"] = (s.arg6);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_PollEvent_constructor__P4806.info = {"start":239,"length":316,"line":8,"column":8,"endLine":15,"endColumn":9,"fileName":"pxt_modules/core/poll.ts","functionName":"inline","argumentNames":["this","eid","vid","start","timeOut","condition","once"]}

function control_PollEvent_constructor__P4806_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_PollEvent_constructor__P4806, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
} }





function jacdac_Device_query__P3541(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.q___10747 = undefined;
    s.now___10765 = undefined;
    s.pkt___10797 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C3525_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_lookupQuery__P5055_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 719; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.q___10747 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.q___10747);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_RegQuery__C5052_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_RegQuery_constructor__P5053_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.arg1;
    s.tmp_3.arg2 = s.arg3;
    s.callLocIdx = 720; s.pc = 17; return s.tmp_3;
  case 17:
    r0 = s.retval;
    s.q___10747 = (s.tmp_2);
    r0 = s.arg0.fields["queries"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_2);
  case 1:
  case 2:
    r0 = s.q___10747.fields["notImplemented"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = undefined;
    { step = 15; continue; }
  case 3:
  case 4:
    r0 = pxsim.control.millis();
    s.now___10765 = (r0);
    r0 = s.q___10747.fields["lastQuery"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 5:
    r0 = s.q___10747.fields["value"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 === undefined);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_3;
    { step = 7; continue; }
  case 6:
    r0 = s.q___10747.fields["lastQuery"];
    s.tmp_6 = r0;
    r0 = (s.now___10765 - s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 > 500);
  case 7:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 8:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBool(s.tmp_8);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_8;
    { step = 12; continue; }
  case 9:
    r0 = (s.arg2 != null);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBool(s.tmp_9);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_9;
    { step = 11; continue; }
  case 10:
    r0 = s.q___10747.fields["lastQuery"];
    s.tmp_11 = r0;
    r0 = (s.now___10765 - s.tmp_11);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 > s.arg2);
  case 11:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = s.tmp_12;
  case 12:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 13; continue; }
    r0 = (s.q___10747).fields["lastQuery"] = (s.now___10765);
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P2884_mk(s);
    r0 = (4096 | s.arg1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 721; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.pkt___10797 = (r0);
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.pkt___10797;
    s.tmp_0.arg1 = s.arg3;
    s.callLocIdx = 722; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmd__P2925_mk(s);
    s.tmp_0.arg0 = s.pkt___10797;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 723; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
  case 13:
  case 14:
    r0 = s.q___10747.fields["value"];
  case 15:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_query__P3541.info = {"start":47276,"length":868,"line":1436,"column":8,"endLine":1457,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"query","argumentNames":["this","reg","refreshRate","servIdx"]}

function jacdac_Device_query__P3541_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_query__P3541, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  q___10747: undefined,
  now___10765: undefined,
  pkt___10797: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_RegQuery_constructor__P5053(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegQuery__C5052_VT)) failedCast(r0);
    r0 = (s.arg0).fields["reg"] = (s.arg1);
    r0 = (s.arg0).fields["serviceIdx"] = (s.arg2);
    r0 = (s.arg0).fields["lastQuery"] = (0);
    r0 = (s.arg0).fields["lastReport"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegQuery_constructor__P5053.info = {"start":42956,"length":61,"line":1295,"column":8,"endLine":1295,"endColumn":69,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","reg","serviceIdx"]}

function jacdac_RegQuery_constructor__P5053_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegQuery_constructor__P5053, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_RegisterClient_hasValues__P3479(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_hasValues__P3479.info = {"start":29501,"length":64,"line":898,"column":8,"endLine":900,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"hasValues","argumentNames":["this"]}

function jacdac_RegisterClient_hasValues__P3479_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_hasValues__P3479, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_RegisterClient_isConst__P3480(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 2);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_isConst__P3480.info = {"start":29575,"length":96,"line":902,"column":8,"endLine":904,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"isConst","argumentNames":["this"]}
jacdac_RegisterClient_isConst__P3480.isGetter = true;

function jacdac_RegisterClient_isConst__P3480_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_isConst__P3480, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function jacdac_SensorClient_setStreaming__P3227(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.wasStreaming___10828 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 333; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = s.arg0.fields["isStreaming"];
    s.wasStreaming___10828 = (r0);
    r0 = (s.arg0).fields["isStreaming"] = (s.arg1);
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.wasStreaming___10828);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = jacdac_SensorClient_checkSamples__P4996_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 334; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = (s.arg2 != undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.arg2);
    s.tmp_2 = jacdac_Client_setReg__P3519_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 4;
    s.tmp_2.arg2 = globals.StreamingInterval___3027;
    s.tmp_2.arg3 = s.tmp_1;
    s.callLocIdx = 335; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_setStreaming__P3227.info = {"start":2643,"length":471,"line":76,"column":8,"endLine":87,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"setStreaming","argumentNames":["this","on","interval_ms"]}

function jacdac_SensorClient_setStreaming__P3227_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_setStreaming__P3227, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  wasStreaming___10828: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Client_setReg__P3519(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.payload___10853 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 690; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    r0 = (8192 | s.arg1);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg2;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 691; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.payload___10853 = (r0);
    s.tmp_0 = jacdac_ClientPacketQueue_send__P5044_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.payload___10853;
    s.callLocIdx = 692; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_setReg__P3519.info = {"start":39859,"length":215,"line":1208,"column":8,"endLine":1212,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"setReg","argumentNames":["this","reg","format","values"]}

function jacdac_Client_setReg__P3519_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_setReg__P3519, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  payload___10853: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_ClientPacketQueue_send__P5044(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C5041_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isRegSet__P2906_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 609; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["serviceIndex"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == null);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = jacdac_ClientPacketQueue_updateQueue__P5042_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.callLocIdx = 610; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = jacdac_Client_sendCommand__P3517_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 611; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_send__P5044.info = {"start":27638,"length":176,"line":835,"column":8,"endLine":839,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"send","argumentNames":["this","pkt"]}

function jacdac_ClientPacketQueue_send__P5044_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_send__P5044, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ClientPacketQueue_updateQueue__P5042(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cmd___10883 = undefined;
    s.i___10886 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C5041_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.cmd___10883 = (r0);
    s.i___10886 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___10886;
    r0 = s.arg0.fields["pkts"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["pkts"];
    s.tmp_7 = r0;
    r0 = pxsim_Array__getAt(s.tmp_7, s.i___10886);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == s.cmd___10883);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 2; continue; }
    r0 = s.arg0.fields["pkts"];
    s.tmp_8 = r0;
    s.tmp_9 = r0 = s.i___10886;
    s.tmp_11 = jacdac_JDPacket_withFrameStripped__P2916_mk(s);
    s.tmp_11.arg0 = s.arg1;
    s.callLocIdx = 607; s.pc = 6; return s.tmp_11;
  case 6:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_8, s.tmp_9, s.tmp_10);
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___10886 + 1);
    s.i___10886 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.arg0.fields["pkts"];
    s.tmp_0 = r0;
    s.tmp_2 = jacdac_JDPacket_withFrameStripped__P2916_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 608; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_updateQueue__P5042.info = {"start":27177,"length":395,"line":820,"column":8,"endLine":829,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"updateQueue","argumentNames":["this","pkt"]}

function jacdac_ClientPacketQueue_updateQueue__P5042_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_updateQueue__P5042, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  cmd___10883: undefined,
  i___10886: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_withFrameStripped__P2916(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_0 = helpers_bufferConcat__P2618_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 12, 4);
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 213; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_withFrameStripped__P2916.info = {"start":8134,"length":95,"line":251,"column":8,"endLine":253,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"withFrameStripped","argumentNames":["this"]}

function jacdac_JDPacket_withFrameStripped__P2916_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_withFrameStripped__P2916, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_isRegSet__P2906(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 12);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_isRegSet__P2906.info = {"start":6061,"length":92,"line":184,"column":8,"endLine":186,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"isRegSet","argumentNames":["this"]}
jacdac_JDPacket_isRegSet__P2906.isGetter = true;

function jacdac_JDPacket_isRegSet__P2906_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_isRegSet__P2906, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_SensorClient_checkSamples__P4996(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___10935 = undefined;
    s.interval___10938 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    r0 = s.arg0.fields["isStreaming"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    r0 = pxsim.control.millis();
    s.now___10935 = (r0);
    s.tmp_2 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_streamingInterval"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 328; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = 100;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = Math_max__P2021_mk(s);
    s.tmp_4.arg0 = 20;
    s.tmp_4.arg1 = s.tmp_3;
    s.callLocIdx = 329; s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
    s.interval___10938 = (r0);
    r0 = s.arg0.fields["samples"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["lastSample"];
    s.tmp_3 = r0;
    r0 = (s.now___10935 - s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.interval___10938 * 2);
    s.tmp_4 = r0;
    r0 = (s.tmp_2 > s.tmp_4);
  case 6:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_5;
    { step = 8; continue; }
  case 7:
    r0 = s.arg0.fields["samplesExpiration"];
    s.tmp_6 = r0;
    r0 = (s.now___10935 > s.tmp_6);
  case 8:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_8 = r0;
    r0 = pxsim_Array__push(s.tmp_8, 255);
    s.tmp_9 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_streamingSamples"];
    s.tmp_9.arg0 = r0;
    s.tmp_9.arg1 = s.tmp_8;
    s.callLocIdx = 330; s.pc = 14; return s.tmp_9;
  case 14:
    r0 = s.retval;
    r0 = (s.arg0).fields["samples"] = (255);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = r0 = s.now___10935;
    r0 = (s.interval___10938 * 127);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["samplesExpiration"] = (s.tmp_1);
    r0 = (s.arg0).fields["lastSample"] = (s.now___10935);
    s.tmp_0 = jacdac_RegisterClient_sendSet__P3485_mk(s);
    r0 = s.arg0.fields["_streamingSamples"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 331; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_checkSamples__P4996.info = {"start":1637,"length":795,"line":46,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"checkSamples","argumentNames":["this"]}

function jacdac_SensorClient_checkSamples__P4996_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_checkSamples__P4996, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  now___10935: undefined,
  interval___10938: undefined,
  arg0: undefined,
} }





function jacdac_RegisterClient_sendSet__P3485(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_Client_setRegBuffer__P3520_mk(s);
    r0 = s.arg0.fields["service"];
    s.tmp_1.arg0 = r0;
    r0 = s.arg0.fields["code"];
    s.tmp_1.arg1 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 632; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_sendSet__P3485.info = {"start":31036,"length":98,"line":945,"column":8,"endLine":947,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendSet","argumentNames":["this"]}

function jacdac_RegisterClient_sendSet__P3485_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_sendSet__P3485, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Client_setRegBuffer__P3520(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 693; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_ClientPacketQueue_send__P5044_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = (8192 | s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 694; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 695; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_setRegBuffer__P3520.info = {"start":40084,"length":147,"line":1214,"column":8,"endLine":1217,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"setRegBuffer","argumentNames":["this","reg","value"]}

function jacdac_Client_setRegBuffer__P3520_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_setRegBuffer__P3520, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_RegisterClient_values__P3484(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___11015 = undefined;
    s.changed___11021 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    r0 = s.arg0.fields["service"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 627; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = jacdac_jdpack__P2934_mk(s);
    r0 = s.arg0.fields["packFormat"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 628; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.d___11015 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.d___11015);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_1 != s.tmp_5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.d___11015);
    s.tmp_10 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_10);
  case 2:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBool(s.tmp_11);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_11;
    { step = 4; continue; }
  case 3:
    s.tmp_14 = helpers_bufferEquals__P2619_mk(s);
    s.tmp_14.arg0 = s.d___11015;
    r0 = s.arg0.fields["_data"];
    s.tmp_14.arg1 = r0;
    s.callLocIdx = 629; s.pc = 9; return s.tmp_14;
  case 9:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    s.tmp_12 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_12);
  case 4:
    // jmp value (already in r0)
    s.tmp_15 = r0;
    s.changed___11021 = (s.tmp_15);
    r0 = pxsim_numops_toBoolDecr(s.changed___11021);
    if (!r0) { step = 5; continue; }
    r0 = (s.arg0).fields["_data"] = (s.d___11015);
    s.tmp_0 = jacdac_Client_setRegBuffer__P3520_mk(s);
    r0 = s.arg0.fields["service"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["code"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 630; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 631; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_values__P3484.info = {"start":30599,"length":427,"line":933,"column":8,"endLine":943,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"values","argumentNames":["this","values"]}

function jacdac_RegisterClient_values__P3484_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_values__P3484, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  d___11015: undefined,
  changed___11021: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_clamp__P2018(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_min__P2022_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_1 = Math_max__P2021_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 21; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 22; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
Math_clamp__P2018.info = {"start":15643,"length":130,"line":528,"column":4,"endLine":530,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"clamp","argumentNames":["min","max","value"]}

function Math_clamp__P2018_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_clamp__P2018, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_min__P2022(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_min__P2022.info = {"start":16779,"length":105,"line":565,"column":4,"endLine":568,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"min","argumentNames":["a","b"]}

function Math_min__P2022_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_min__P2022, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_DistanceClient_onDistanceChangedBy__P3748(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_DistanceClient__C3741_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 938; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_DistanceClient_onDistanceChangedBy__P3748.info = {"start":3681,"length":133,"line":111,"column":8,"endLine":113,"endColumn":9,"fileName":"pxt_modules/jacdac-distance/client.g.ts","functionName":"onDistanceChangedBy","argumentNames":["this","threshold","handler"]}

function modules_DistanceClient_onDistanceChangedBy__P3748_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_DistanceClient_onDistanceChangedBy__P3748, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_SimpleSensorClient_onReadingChangedBy__P3232(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.last___11083 = undefined;
    s.running___11085 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SimpleSensorClient__C3229_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 < 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtrt.mklocRef();
    s.last___11083 = (r0);
    s.tmp_3 = r0 = s.last___11083;
    s.tmp_5 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 341; s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_3, s.tmp_4);
    r0 = pxsim_pxtrt.mklocRef();
    s.running___11085 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.running___11085, false);
    r0 = pxsim_pxtcore_mkAction(5, jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11087);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.running___11085);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.last___11083);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.arg2);
    s.tmp_1 = jacdac_SensorClient_onStateChanged__P3228_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 346; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SimpleSensorClient_onReadingChangedBy__P3232.info = {"start":3677,"length":1015,"line":107,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"onReadingChangedBy","argumentNames":["this","threshold","handler"]}

function jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SimpleSensorClient_onReadingChangedBy__P3232, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  last___11083: undefined,
  running___11085: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.current___11093 = undefined;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 9; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.caps[1].fields["_reading"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 342; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.current___11093 = (r0);
    r0 = (s.current___11093 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    { step = 9; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == null);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_1;
    { step = 6; continue; }
  case 5:
    s.tmp_4 = Math_abs__P2019_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - s.current___11093);
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 343; s.pc = 11; return s.tmp_4;
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >= s.caps[3]);
  case 6:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.caps[2], s.current___11093);
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], true);
    r0 = pxsim_pxtcore_mkAction(2, jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11112);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    s.tmp_1 = control_runInBackground__P2296_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 345; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
  case 7:
  case 8:
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11087.info = {"start":3949,"length":732,"line":113,"column":32,"endLine":132,"endColumn":13,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":[]}

function jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  current___11093: undefined,
} }





function jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11112(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtcore.beginTry(1);
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.caps[0];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 344; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore.endTry();
  case 1:
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], false);
    r0 = pxsim_pxtcore.endFinally();
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11112.info = {"start":4445,"length":203,"line":124,"column":44,"endLine":130,"endColumn":21,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":[]}

function jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11112_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SimpleSensorClient_onReadingChangedBy_inline__P11112, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function modules_DistanceClient_constructor__P3742(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_DistanceClient__C3741_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 337275786;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Distance___3735;
    s.callLocIdx = 930; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.DistanceError___3736;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 931; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_distanceError"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 260;
    s.tmp_2.arg2 = globals.MinRange___3737;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 932; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_minRange"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 261;
    s.tmp_2.arg2 = globals.MaxRange___3738;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 933; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxRange"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___3739;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 934; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_DistanceClient_constructor__P3742.info = {"start":559,"length":1177,"line":13,"column":8,"endLine":39,"endColumn":9,"fileName":"pxt_modules/jacdac-distance/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_DistanceClient_constructor__P3742_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_DistanceClient_constructor__P3742, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_addRegister__P4934(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.reg___11170 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, reg_inline__P11174);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayFind__P2002_mk(s);
    r0 = s.arg0.fields["registers"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 656; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.reg___11170 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.reg___11170);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_RegisterClient__C3474_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_RegisterClient_constructor__P3476_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.arg0;
    s.tmp_3.arg2 = s.arg1;
    s.tmp_3.arg3 = s.arg2;
    s.tmp_3.arg4 = s.arg3;
    s.tmp_3.arg5 = s.arg4;
    s.callLocIdx = 657; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.reg___11170 = (s.tmp_2);
    r0 = s.arg0.fields["registers"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.reg___11170);
  case 1:
  case 2:
    r0 = s.reg___11170;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_addRegister__P4934.info = {"start":34800,"length":647,"line":1064,"column":8,"endLine":1082,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"addRegister","argumentNames":["this","code","packFormat","flags","defaultValues"]}

function jacdac_Client_addRegister__P4934_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_addRegister__P4934, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  reg___11170: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function reg_inline__P11174(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["code"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
reg_inline__P11174.info = {"start":35069,"length":24,"line":1070,"column":42,"endLine":1070,"endColumn":66,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["reg"]}

function reg_inline__P11174_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: reg_inline__P11174, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_RegisterClient_constructor__P3476(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegisterClient__C3474_VT)) failedCast(r0);
    r0 = (s.arg0).fields["service"] = (s.arg1);
    r0 = (s.arg0).fields["code"] = (s.arg2);
    r0 = (s.arg0).fields["packFormat"] = (s.arg3);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    s.tmp_2 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 615; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg4;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["flags"] = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.arg5);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = jacdac_jdpack__P2934_mk(s);
    r0 = s.arg0.fields["packFormat"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg5;
    s.callLocIdx = 616; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    r0 = undefined;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["_data"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_localTime"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegisterClient_constructor__P3476.info = {"start":28786,"length":493,"line":874,"column":8,"endLine":887,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","service","code","packFormat","flags","defaultValue"]}

function jacdac_RegisterClient_constructor__P3476_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegisterClient_constructor__P3476, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function jacdac_SimpleSensorClient_constructor__P3230(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SimpleSensorClient__C3229_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SensorClient_constructor__P3225_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.tmp_4.arg2 = s.arg2;
    s.tmp_4.arg3 = s.arg3;
    s.tmp_4.arg4 = 100;
    s.callLocIdx = 338; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SimpleSensorClient_constructor__P3230.info = {"start":3365,"length":129,"line":97,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":["this","deviceClass","role","stateFormat"]}

function jacdac_SimpleSensorClient_constructor__P3230_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SimpleSensorClient_constructor__P3230, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_SensorClient_constructor__P3225(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.tmp_4.arg2 = s.arg2;
    s.callLocIdx = 320; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 257;
    s.tmp_2.arg2 = s.arg3;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 321; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_reading"] = (s.tmp_1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 0);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 3;
    s.tmp_3.arg2 = globals.StreamingSamples___3026;
    s.tmp_3.arg3 = 0;
    s.tmp_3.arg4 = s.tmp_0;
    s.callLocIdx = 322; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_streamingSamples"] = (s.tmp_2);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg4);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 4;
    s.tmp_3.arg2 = globals.StreamingInterval___3027;
    s.tmp_3.arg3 = 1;
    s.tmp_3.arg4 = s.tmp_0;
    s.callLocIdx = 323; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_streamingInterval"] = (s.tmp_2);
    r0 = pxsim_pxtcore_mkAction(1, jacdac_SensorClient_inline__P11259);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    r0 = s.arg0.fields["_reading"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = globals.REPORT_RECEIVE___3399;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 324; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, jacdac_SensorClient_inline__P11271);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    r0 = s.arg0.fields["_streamingSamples"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = globals.REPORT_UPDATE___3400;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 326; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_constructor__P3225.info = {"start":460,"length":1057,"line":12,"column":8,"endLine":40,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":["this","deviceClass","role","stateFormat","streamingInterval"]}

function jacdac_SensorClient_constructor__P3225_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_constructor__P3225, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function jacdac_SensorClient_inline__P11259(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = r0 = s.caps[0];
    r0 = s.tmp_0.fields["samples"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["samples"] = (s.tmp_1);
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSample"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_inline__P11259.info = {"start":1322,"length":103,"line":35,"column":45,"endLine":38,"endColumn":13,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":[]}

function jacdac_SensorClient_inline__P11259_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_inline__P11259, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function jacdac_SensorClient_inline__P11271(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_SensorClient_updateSamples__P4995_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 325; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_inline__P11271.info = {"start":1480,"length":26,"line":39,"column":53,"endLine":39,"endColumn":79,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"inline","argumentNames":[]}

function jacdac_SensorClient_inline__P11271_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_inline__P11271, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_SensorClient_updateSamples__P4995(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    s.tmp_2 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_streamingSamples"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 327; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = (s.arg0).fields["samples"] = (s.tmp_3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_updateSamples__P4995.info = {"start":1527,"length":100,"line":42,"column":8,"endLine":44,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"updateSamples","argumentNames":["this"]}

function jacdac_SensorClient_updateSamples__P4995_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_updateSamples__P4995, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function modules_TemperatureClient_temperature__P4535(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_TemperatureClient__C4533_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1061; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_TemperatureClient_temperature__P4535.info = {"start":2000,"length":67,"line":51,"column":8,"endLine":53,"endColumn":9,"fileName":"pxt_modules/jacdac-temperature/client.g.ts","functionName":"temperature","argumentNames":["this"]}

function modules_TemperatureClient_temperature__P4535_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_TemperatureClient_temperature__P4535, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_TemperatureClient_onTemperatureChangedBy__P4540(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_TemperatureClient__C4533_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1064; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_TemperatureClient_onTemperatureChangedBy__P4540.info = {"start":3827,"length":136,"line":112,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/jacdac-temperature/client.g.ts","functionName":"onTemperatureChangedBy","argumentNames":["this","threshold","handler"]}

function modules_TemperatureClient_onTemperatureChangedBy__P4540_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_TemperatureClient_onTemperatureChangedBy__P4540, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_TemperatureClient_constructor__P4534(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_TemperatureClient__C4533_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 337754823;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Temperature___4527;
    s.callLocIdx = 1056; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 260;
    s.tmp_2.arg2 = globals.MinTemperature___4528;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1057; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_minTemperature"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 261;
    s.tmp_2.arg2 = globals.MaxTemperature___4529;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1058; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxTemperature"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.TemperatureError___4530;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1059; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_temperatureError"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4531;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1060; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_TemperatureClient_constructor__P4534.info = {"start":545,"length":1204,"line":13,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/jacdac-temperature/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_TemperatureClient_constructor__P4534_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_TemperatureClient_constructor__P4534, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_SwitchClient_onOff__P4511(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_SwitchClient__C4505_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1055; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_SwitchClient_onOff__P4511.info = {"start":2116,"length":108,"line":69,"column":8,"endLine":71,"endColumn":9,"fileName":"pxt_modules/jacdac-switch/client.g.ts","functionName":"onOff","argumentNames":["this","handler"]}

function modules_SwitchClient_onOff__P4511_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_SwitchClient_onOff__P4511, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_registerEvent__P4937(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 696; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = s.arg0.fields["_registeredEvents"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_registeredEvents"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = s.arg0.fields["_registeredEvents"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_2, s.arg1, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["_registeredEvents"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.arg1);
  case 3:
  case 4:
    r0 = s.arg0.fields["eventSource"];
    s.tmp_0 = r0;
    r0 = (61440 + s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim.control.onEvent(s.tmp_0, s.tmp_1, s.arg2, 0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_registerEvent__P4937.info = {"start":40427,"length":498,"line":1226,"column":8,"endLine":1237,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"registerEvent","argumentNames":["this","value","handler"]}

function jacdac_Client_registerEvent__P4937_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_registerEvent__P4937, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_SwitchClient_constructor__P4506(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_SwitchClient__C4505_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SensorClient_constructor__P3225_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 450008066;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Active___4499;
    s.tmp_4.arg4 = 100;
    s.callLocIdx = 1051; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4500;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1052; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_SwitchClient_constructor__P4506.info = {"start":264,"length":389,"line":8,"column":8,"endLine":17,"endColumn":9,"fileName":"pxt_modules/jacdac-switch/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_SwitchClient_constructor__P4506_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_SwitchClient_constructor__P4506, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ServoClient_maxAngle__P4476(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11391 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ServoClient__C4465_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1049; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_maxAngle"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1050; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___11391 = (r0);
    r0 = pxsim_Array__getAt(s.values___11391, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_ServoClient_maxAngle__P4476.info = {"start":6699,"length":154,"line":196,"column":8,"endLine":200,"endColumn":9,"fileName":"pxt_modules/jacdac-servo/client.g.ts","functionName":"maxAngle","argumentNames":["this"]}

function modules_ServoClient_maxAngle__P4476_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ServoClient_maxAngle__P4476, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11391: undefined,
  arg0: undefined,
} }





function modules_ServoClient_setAngle__P4468(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11404 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ServoClient__C4465_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1040; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = modules_ServoClient_setEnabled__P4470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 1041; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_angle"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1042; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.values___11404 = (r0);
    r0 = pxsim_Array_.setAt(s.values___11404, 0, s.arg1);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_angle"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___11404;
    s.callLocIdx = 1043; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ServoClient_setAngle__P4468.info = {"start":3698,"length":231,"line":91,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/jacdac-servo/client.g.ts","functionName":"setAngle","argumentNames":["this","value"]}

function modules_ServoClient_setAngle__P4468_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ServoClient_setAngle__P4468, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11404: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ServoClient_setEnabled__P4470(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11420 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ServoClient__C4465_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1044; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_enabled"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1045; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.values___11420 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.values___11420, 0, s.tmp_0);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_enabled"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___11420;
    s.callLocIdx = 1046; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ServoClient_setEnabled__P4470.info = {"start":4548,"length":213,"line":120,"column":8,"endLine":125,"endColumn":9,"fileName":"pxt_modules/jacdac-servo/client.g.ts","functionName":"setEnabled","argumentNames":["this","value"]}

function modules_ServoClient_setEnabled__P4470_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ServoClient_setEnabled__P4470, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11420: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ServoClient_minAngle__P4473(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11435 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ServoClient__C4465_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1047; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_minAngle"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1048; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___11435 = (r0);
    r0 = pxsim_Array__getAt(s.values___11435, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_ServoClient_minAngle__P4473.info = {"start":5624,"length":154,"line":157,"column":8,"endLine":161,"endColumn":9,"fileName":"pxt_modules/jacdac-servo/client.g.ts","functionName":"minAngle","argumentNames":["this"]}

function modules_ServoClient_minAngle__P4473_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ServoClient_minAngle__P4473, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11435: undefined,
  arg0: undefined,
} }





function machine_MicrobitMachine_onControlEvent__P5378(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.key___11449 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_MicrobitMachine__C5375_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    if ((s.arg2) && (s.arg2).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg2) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, ":");
    s.tmp_0 = r0;
    if ((s.arg3) && (s.arg3).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg3) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_4);
    s.key___11449 = (r0);
    s.tmp_2 = jacdac_EventSource_listenerCount__P3580_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.key___11449;
    s.callLocIdx = 1080; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(2, machine_MicrobitMachine_onControlEvent_inline__P11469);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 1, s.key___11449);
    r0 = pxsim.control.onEvent(s.arg2, s.arg3, s.tmp_3, 0);
  case 1:
  case 2:
    s.tmp_0 = machine_MicrobitMachine_onClient__P5377_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.key___11449;
    s.tmp_0.arg3 = s.arg4;
    s.callLocIdx = 1082; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_onControlEvent__P5378.info = {"start":1574,"length":374,"line":50,"column":8,"endLine":61,"endColumn":9,"fileName":"runtime.ts","functionName":"onControlEvent","argumentNames":["this","client","src","value","handler"]}

function machine_MicrobitMachine_onControlEvent__P5378_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_onControlEvent__P5378, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  key___11449: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function machine_MicrobitMachine_onControlEvent_inline__P11469(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1081; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_onControlEvent_inline__P11469.info = {"start":1855,"length":20,"line":58,"column":44,"endLine":58,"endColumn":64,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_MicrobitMachine_onControlEvent_inline__P11469_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_onControlEvent_inline__P11469, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_EventSource_listenerCount__P3580(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.k___11481 = undefined;
    s.listener___11483 = undefined;
    s.unnamed110___U2 = undefined;
    s.unnamed111___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 7; continue; }
  case 1:
  case 2:
    s.k___11481 = (0);
    s.listener___11483 = (undefined);
    r0 = s.arg0.fields["listeners"];
    s.unnamed110___U2 = (r0);
    s.unnamed111___U3 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed111___U3;
    r0 = pxsim_Array__length(s.unnamed110___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed110___U2, s.unnamed111___U3);
    s.listener___11483 = (r0);
    r0 = s.listener___11483.fields["key"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 === s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = (s.k___11481 + 1);
    s.k___11481 = (r0);
  case 4:
  case 5:
    r0 = (s.unnamed111___U3 + 1);
    s.unnamed111___U3 = (r0);
    { step = 3; continue; }
  case 6:
    s.unnamed110___U2 = (undefined);
    r0 = s.k___11481;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_listenerCount__P3580.info = {"start":3341,"length":291,"line":111,"column":8,"endLine":120,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"listenerCount","argumentNames":["this","eventName"]}

function jacdac_EventSource_listenerCount__P3580_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_listenerCount__P3580, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  k___11481: undefined,
  listener___11483: undefined,
  unnamed110___U2: undefined,
  unnamed111___U3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ServoClient_constructor__P4466(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ServoClient__C4465_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 318542083;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.ActualAngle___4463;
    s.callLocIdx = 1030; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 2;
    s.tmp_2.arg2 = globals.Angle___4454;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1031; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_angle"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 1;
    s.tmp_2.arg2 = globals.Enabled___4455;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1032; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_enabled"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 129;
    s.tmp_2.arg2 = globals.Offset___4456;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1033; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_offset"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 272;
    s.tmp_2.arg2 = globals.MinAngle___4457;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1034; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_minAngle"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 131;
    s.tmp_2.arg2 = globals.MinPulse___4458;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1035; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_minPulse"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 273;
    s.tmp_2.arg2 = globals.MaxAngle___4459;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1036; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxAngle"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 133;
    s.tmp_2.arg2 = globals.MaxPulse___4460;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1037; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxPulse"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.StallTorque___4461;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1038; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_stallTorque"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 385;
    s.tmp_2.arg2 = globals.ResponseSpeed___4462;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1039; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_responseSpeed"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ServoClient_constructor__P4466.info = {"start":1060,"length":1964,"line":19,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/jacdac-servo/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_ServoClient_constructor__P4466_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ServoClient_constructor__P4466, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_RotaryEncoderClient_clicksPerTurn__P4436(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11584 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RotaryEncoderClient__C4433_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1027; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_clicksPerTurn"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1028; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___11584 = (r0);
    r0 = pxsim_Array__getAt(s.values___11584, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_RotaryEncoderClient_clicksPerTurn__P4436.info = {"start":1777,"length":164,"line":48,"column":8,"endLine":52,"endColumn":9,"fileName":"pxt_modules/jacdac-rotary-encoder/client.ts","functionName":"clicksPerTurn","argumentNames":["this"]}

function modules_RotaryEncoderClient_clicksPerTurn__P4436_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RotaryEncoderClient_clicksPerTurn__P4436, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11584: undefined,
  arg0: undefined,
} }





function modules_RotaryEncoderClient_onPositionChanged__P4438(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RotaryEncoderClient__C4433_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1029; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_RotaryEncoderClient_onPositionChanged__P4438.info = {"start":2630,"length":104,"line":74,"column":8,"endLine":76,"endColumn":9,"fileName":"pxt_modules/jacdac-rotary-encoder/client.ts","functionName":"onPositionChanged","argumentNames":["this","handler"]}

function modules_RotaryEncoderClient_onPositionChanged__P4438_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RotaryEncoderClient_onPositionChanged__P4438, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_RotaryEncoderClient_position__P4435(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RotaryEncoderClient__C4433_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1026; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_RotaryEncoderClient_position__P4435.info = {"start":1481,"length":64,"line":38,"column":8,"endLine":40,"endColumn":9,"fileName":"pxt_modules/jacdac-rotary-encoder/client.ts","functionName":"position","argumentNames":["this"]}

function modules_RotaryEncoderClient_position__P4435_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RotaryEncoderClient_position__P4435, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_RotaryEncoderClient_constructor__P4434(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RotaryEncoderClient__C4433_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 284830153;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Position___4429;
    s.callLocIdx = 1023; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.ClicksPerTurn___4430;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1024; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_clicksPerTurn"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 385;
    s.tmp_2.arg2 = globals.Clicker___4431;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1025; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_clicker"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_RotaryEncoderClient_constructor__P4434.info = {"start":387,"length":708,"line":9,"column":8,"endLine":27,"endColumn":9,"fileName":"pxt_modules/jacdac-rotary-encoder/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_RotaryEncoderClient_constructor__P4434_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RotaryEncoderClient_constructor__P4434, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function music_stopAllSounds__P2552(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = music_rest__P2539_mk(s);
    s.tmp_0.arg0 = 0;
    s.callLocIdx = 58; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = music_stopMelody__P2551_mk(s);
    s.tmp_0.arg0 = 5;
    s.callLocIdx = 59; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.music.__stopSoundExpressions();
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_stopAllSounds__P2552.info = {"start":16272,"length":139,"line":471,"column":4,"endLine":475,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"stopAllSounds","argumentNames":[]}

function music_stopAllSounds__P2552_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_stopAllSounds__P2552, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function music_stopMelody__P2551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = music_startMelody__P2548_mk(s);
    r0 = pxsim_Array__mk();
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 4;
    s.callLocIdx = 56; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = (s.arg0 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = music_startMelody__P2548_mk(s);
    r0 = pxsim_Array__mk();
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 1;
    s.callLocIdx = 57; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_stopMelody__P2551.info = {"start":15781,"length":276,"line":457,"column":4,"endLine":462,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"stopMelody","argumentNames":["options"]}

function music_stopMelody__P2551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_stopMelody__P2551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function music_startMelody__P2548(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.isBackground___11646 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_init__P4774_mk(s);
    s.callLocIdx = 50; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.arg1 & 12);
    s.isBackground___11646 = (r0);
    r0 = (globals.currentMelody___4775 != undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(s.isBackground___11646);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_1;
    { step = 2; continue; }
  case 1:
    r0 = globals.currentMelody___4775.fields["background"];
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    globals.currentBackgroundMelody___4776 = (globals.currentMelody___4775);
    globals.currentMelody___4775 = (null);
    r0 = pxsim.control.raiseEvent(2000, 245, 1);
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(globals.currentMelody___4775);
    if (!r0) { step = 5; continue; }
    r0 = globals.currentMelody___4775.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 3);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
  case 5:
  case 6:
    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C4778_VT);
    s.tmp_0 = r0;
    s.tmp_1 = music_Melody_constructor__P4781_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.callLocIdx = 51; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    globals.currentMelody___4775 = (s.tmp_0);
    r0 = globals.currentMelody___4775.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 2);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
    { step = 8; continue; }
  case 7:
    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C4778_VT);
    s.tmp_0 = r0;
    s.tmp_1 = music_Melody_constructor__P4781_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.callLocIdx = 52; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    globals.currentMelody___4775 = (s.tmp_0);
    r0 = globals.currentMelody___4775.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 2);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
    r0 = pxsim.control.inBackground(music_startMelody_inline__P11707);
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_startMelody__P2548.info = {"start":11475,"length":2066,"line":358,"column":4,"endLine":393,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"startMelody","argumentNames":["melodyArray","options"]}

function music_startMelody__P2548_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_startMelody__P2548, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  isBackground___11646: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function music_startMelody_inline__P11707(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

  case 1:
    s.tmp_1 = music_Melody_hasNextNote__P4779_mk(s);
    s.tmp_1.arg0 = globals.currentMelody___4775;
    s.callLocIdx = 53; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_2 = music_playNextNote__P4777_mk(s);
    s.tmp_2.arg0 = globals.currentMelody___4775;
    s.callLocIdx = 54; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_3 = music_Melody_hasNextNote__P4779_mk(s);
    s.tmp_3.arg0 = globals.currentMelody___4775;
    s.callLocIdx = 55; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = globals.currentBackgroundMelody___4776;
  case 3:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 4; continue; }
    globals.currentMelody___4775 = (globals.currentBackgroundMelody___4776);
    globals.currentBackgroundMelody___4776 = (null);
    r0 = pxsim.control.raiseEvent(2000, 3, 1);
    r0 = pxsim.control.raiseEvent(2000, 246, 1);
    r0 = pxsim.control.raiseEvent(2000, 5, 1);
  case 4:
  case 5:
    { step = 1; continue; }
  case 6:
    r0 = globals.currentMelody___4775.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 3);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
    r0 = globals.currentMelody___4775.fields["background"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = pxsim.control.raiseEvent(2000, 5, 1);
  case 7:
  case 8:
    globals.currentMelody___4775 = (null);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_startMelody_inline__P11707.info = {"start":12547,"length":977,"line":375,"column":33,"endLine":391,"endColumn":13,"fileName":"pxt_modules/core/music.ts","functionName":"inline","argumentNames":[]}

function music_startMelody_inline__P11707_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_startMelody_inline__P11707, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function music_playNextNote__P4777(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currNote___11757 = undefined;
    s.currentPos___11760 = undefined;
    s.currentDuration___11764 = undefined;
    s.currentOctave___11768 = undefined;
    s.note___11772 = undefined;
    s.isrest___11773 = undefined;
    s.beatPos___11774 = undefined;
    s.parsingOctave___11775 = undefined;
    s.prevNote___11776 = undefined;
    s.pos___11777 = undefined;
    s.noteChar___11783 = undefined;
    s.beat___11840 = undefined;
    s.repeating___11863 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_Melody_nextNote__P4780_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 60; s.pc = 37; return s.tmp_0;
  case 37:
    r0 = s.retval;
    s.currNote___11757 = (r0);
    r0 = s.arg0.fields["currentPos"];
    s.currentPos___11760 = (r0);
    r0 = s.arg0.fields["currentDuration"];
    s.currentDuration___11764 = (r0);
    r0 = s.arg0.fields["currentOctave"];
    s.currentOctave___11768 = (r0);
    s.isrest___11773 = (false);
    s.parsingOctave___11775 = (true);
    s.prevNote___11776 = (false);
    s.pos___11777 = (0);
  case 1:
    s.tmp_1 = r0 = s.pos___11777;
    r0 = pxsim_String_.length(s.currNote___11757);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 26; continue; }
    r0 = pxsim_String_.charAt(s.currNote___11757, s.pos___11777);
    s.noteChar___11783 = (r0);
    s.tmp_0 = r0 = s.noteChar___11783;
    r0 = pxsim_pxtcore.switch_eq("c", s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("C", s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("d", s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq("D", s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("e", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("E", s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq("f", s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq("F", s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq("g", s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq("G", s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq("a", s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq("A", s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq("B", s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq("r", s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq("R", s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = pxsim_pxtcore.switch_eq("#", s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq("b", s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = pxsim_pxtcore.switch_eq(":", s.tmp_0);
    if (r0) { step = 21; continue; }
    r0 = s.tmp_0;
    { step = 22; continue; }
  case 2:
  case 3:
    s.note___11772 = (1);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 4:
  case 5:
    s.note___11772 = (3);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 6:
  case 7:
    s.note___11772 = (5);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 8:
  case 9:
    s.note___11772 = (6);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 10:
  case 11:
    s.note___11772 = (8);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 12:
  case 13:
    s.note___11772 = (10);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 14:
    s.note___11772 = (12);
    s.prevNote___11776 = (true);
    { step = 25; continue; }
  case 15:
  case 16:
    s.isrest___11773 = (true);
    s.prevNote___11776 = (false);
    { step = 25; continue; }
  case 17:
    r0 = (s.note___11772 + 1);
    s.note___11772 = (r0);
    s.prevNote___11776 = (false);
    { step = 25; continue; }
  case 18:
    r0 = pxsim_numops_toBoolDecr(s.prevNote___11776);
    if (!r0) { step = 19; continue; }
    r0 = (s.note___11772 - 1);
    s.note___11772 = (r0);
    { step = 20; continue; }
  case 19:
    s.note___11772 = (12);
    s.prevNote___11776 = (true);
  case 20:
    { step = 25; continue; }
  case 21:
    s.parsingOctave___11775 = (false);
    s.beatPos___11774 = (s.pos___11777);
    s.prevNote___11776 = (false);
    { step = 25; continue; }
  case 22:
    s.prevNote___11776 = (false);
    r0 = pxsim_numops_toBoolDecr(s.parsingOctave___11775);
    if (!r0) { step = 23; continue; }
    s.tmp_0 = parseInt__P1988_mk(s);
    s.tmp_0.arg0 = s.noteChar___11783;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 61; s.pc = 38; return s.tmp_0;
  case 38:
    r0 = s.retval;
    s.currentOctave___11768 = (r0);
  case 23:
  case 24:
  case 25:
    r0 = (s.pos___11777 + 1);
    s.pos___11777 = (r0);
    { step = 1; continue; }
  case 26:
    r0 = pxsim_numops_toBoolDecr(s.parsingOctave___11775);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    s.tmp_2 = parseInt__P1988_mk(s);
    s.tmp_3 = helpers_stringSubstr__P2009_mk(s);
    s.tmp_3.arg0 = s.currNote___11757;
    r0 = (s.beatPos___11774 + 1);
    s.tmp_3.arg1 = r0;
    r0 = pxsim_String_.length(s.currNote___11757);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.beatPos___11774);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 62; s.pc = 40; return s.tmp_3;
  case 40:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = undefined;
    s.callLocIdx = 63; s.pc = 39; return s.tmp_2;
  case 39:
    r0 = s.retval;
    s.currentDuration___11764 = (r0);
  case 27:
  case 28:
    r0 = pxsim.Math_.idiv(60000, globals.beatsPerMinute___4768);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 2);
    s.beat___11840 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.isrest___11773);
    if (!r0) { step = 29; continue; }
    s.tmp_0 = music_rest__P2539_mk(s);
    r0 = (s.currentDuration___11764 * s.beat___11840);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 64; s.pc = 41; return s.tmp_0;
  case 41:
    r0 = s.retval;
    { step = 30; continue; }
  case 29:
    s.tmp_0 = music_playTone__P2537_mk(s);
    s.tmp_1 = music_getFrequencyForNote__P2554_mk(s);
    s.tmp_1.arg0 = s.currentOctave___11768;
    s.tmp_1.arg1 = s.note___11772;
    s.callLocIdx = 65; s.pc = 43; return s.tmp_1;
  case 43:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    r0 = (s.currentDuration___11764 * s.beat___11840);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 66; s.pc = 42; return s.tmp_0;
  case 42:
    r0 = s.retval;
  case 30:
    r0 = (s.arg0).fields["currentDuration"] = (s.currentDuration___11764);
    r0 = (s.arg0).fields["currentOctave"] = (s.currentOctave___11768);
    r0 = s.arg0.fields["repeating"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 31; continue; }
    r0 = s.tmp_0;
    { step = 32; continue; }
  case 31:
    s.tmp_1 = r0 = s.currentPos___11760;
    r0 = s.arg0.fields["melodyArray"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__length(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
  case 32:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.repeating___11863 = (s.tmp_5);
    r0 = pxsim_numops_toBoolDecr(s.repeating___11863);
    if (!r0) { step = 33; continue; }
    r0 = 0;
    { step = 34; continue; }
  case 33:
    r0 = (s.currentPos___11760 + 1);
  case 34:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["currentPos"] = (s.tmp_0);
    r0 = s.arg0.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 1);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
    r0 = pxsim_numops_toBoolDecr(s.repeating___11863);
    if (!r0) { step = 35; continue; }
    r0 = s.arg0.fields["background"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 4);
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2000, s.tmp_0, 1);
  case 35:
  case 36:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_playNextNote__P4777.info = {"start":17178,"length":2354,"line":500,"column":4,"endLine":547,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"playNextNote","argumentNames":["melody"]}

function music_playNextNote__P4777_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_playNextNote__P4777, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  currNote___11757: undefined,
  currentPos___11760: undefined,
  currentDuration___11764: undefined,
  currentOctave___11768: undefined,
  note___11772: undefined,
  isrest___11773: undefined,
  beatPos___11774: undefined,
  parsingOctave___11775: undefined,
  prevNote___11776: undefined,
  pos___11777: undefined,
  noteChar___11783: undefined,
  beat___11840: undefined,
  repeating___11863: undefined,
  arg0: undefined,
} }





function music_getFrequencyForNote__P2554(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = r0 = globals.freqs___4770;
    s.tmp_4 = r0 = s.arg1;
    r0 = (s.arg0 - 1);
    s.tmp_6 = r0;
    r0 = (12 * s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 2);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
    return leave(s, r0)
  default: oops()
} } }
music_getFrequencyForNote__P2554.info = {"start":17005,"length":167,"line":496,"column":4,"endLine":498,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"getFrequencyForNote","argumentNames":["octave","note"]}

function music_getFrequencyForNote__P2554_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_getFrequencyForNote__P2554, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function music_playTone__P2537(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._playTone___4771);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = lambda_3_mk(s);
    s.tmp_0.argL = globals._playTone___4771;
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 45; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    setupResume(s, 4);
    pxsim.pins.analogPitch(s.arg0, s.arg1);
    checkResumeConsumed();
    return;
  case 4:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_playTone__P2537.info = {"start":6330,"length":164,"line":200,"column":4,"endLine":203,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"playTone","argumentNames":["frequency","ms"]}

function music_playTone__P2537_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_playTone__P2537, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function music_Melody_nextNote__P4780(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currentNote___11927 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_Melody__C4778_VT)) failedCast(r0);
    r0 = s.arg0.fields["melodyArray"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currentPos"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.currentNote___11927 = (r0);
    r0 = s.currentNote___11927;
    return leave(s, r0)
  default: oops()
} } }
music_Melody_nextNote__P4780.info = {"start":20498,"length":129,"line":572,"column":8,"endLine":575,"endColumn":9,"fileName":"pxt_modules/core/music.ts","functionName":"nextNote","argumentNames":["this"]}

function music_Melody_nextNote__P4780_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_Melody_nextNote__P4780, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  currentNote___11927: undefined,
  arg0: undefined,
} }





function music_Melody_hasNextNote__P4779(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_Melody__C4778_VT)) failedCast(r0);
    r0 = s.arg0.fields["repeating"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["currentPos"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["melodyArray"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    return leave(s, r0)
  default: oops()
} } }
music_Melody_hasNextNote__P4779.info = {"start":20383,"length":105,"line":568,"column":8,"endLine":570,"endColumn":9,"fileName":"pxt_modules/core/music.ts","functionName":"hasNextNote","argumentNames":["this"]}

function music_Melody_hasNextNote__P4779_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_Melody_hasNextNote__P4779, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function music_Melody_constructor__P4781(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_Melody__C4778_VT)) failedCast(r0);
    r0 = (s.arg0).fields["melodyArray"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg2 & 10);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["repeating"] = (s.tmp_1);
    r0 = (s.arg2 & 12);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 240;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["background"] = (s.tmp_1);
    r0 = (s.arg0).fields["currentDuration"] = (4);
    r0 = (s.arg0).fields["currentOctave"] = (4);
    r0 = (s.arg0).fields["currentPos"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_Melody_constructor__P4781.info = {"start":19879,"length":494,"line":559,"column":8,"endLine":566,"endColumn":9,"fileName":"pxt_modules/core/music.ts","functionName":"inline","argumentNames":["this","melodyArray","options"]}

function music_Melody_constructor__P4781_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_Melody_constructor__P4781, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function music_init__P4774(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.beatsPerMinute___4768 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    globals.beatsPerMinute___4768 = (120);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_init__P4774.info = {"start":7752,"length":78,"line":247,"column":4,"endLine":249,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"init","argumentNames":[]}

function music_init__P4774_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_init__P4774, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function music_rest__P2539(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_playTone__P2537_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 46; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_rest__P2539.info = {"start":7200,"length":71,"line":226,"column":4,"endLine":228,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"rest","argumentNames":["ms"]}

function music_rest__P2539_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_rest__P2539, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function control_runInBackground__P2296(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.inBackground(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_runInBackground__P2296.info = {"start":316,"length":87,"line":15,"column":4,"endLine":17,"endColumn":5,"fileName":"pxt_modules/core/control.ts","functionName":"runInBackground","argumentNames":["a"]}

function control_runInBackground__P2296_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_runInBackground__P2296, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function modules_RelayClient_setActive__P4418(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___11986 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RelayClient__C4415_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1018; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_active"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1019; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.values___11986 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.values___11986, 0, s.tmp_0);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_active"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___11986;
    s.callLocIdx = 1020; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_RelayClient_setActive__P4418.info = {"start":2273,"length":210,"line":58,"column":8,"endLine":63,"endColumn":9,"fileName":"pxt_modules/jacdac-relay/client.g.ts","functionName":"setActive","argumentNames":["this","value"]}

function modules_RelayClient_setActive__P4418_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RelayClient_setActive__P4418, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___11986: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_RelayClient_active__P4417(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___12001 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RelayClient__C4415_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1016; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_active"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1017; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___12001 = (r0);
    r0 = pxsim_Array__getAt(s.values___12001, 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
modules_RelayClient_active__P4417.info = {"start":1866,"length":153,"line":45,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/jacdac-relay/client.g.ts","functionName":"active","argumentNames":["this"]}

function modules_RelayClient_active__P4417_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RelayClient_active__P4417, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  values___12001: undefined,
  arg0: undefined,
} }





function modules_RelayClient_constructor__P4416(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RelayClient__C4415_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 406840918;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 1012; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 1;
    s.tmp_2.arg2 = globals.Active___4411;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1013; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_active"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4412;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1014; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.MaxSwitchingCurrent___4413;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1015; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxSwitchingCurrent"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_RelayClient_constructor__P4416.info = {"start":790,"length":808,"line":16,"column":8,"endLine":35,"endColumn":9,"fileName":"pxt_modules/jacdac-relay/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_RelayClient_constructor__P4416_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RelayClient_constructor__P4416, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_LightLevelClient_lightLevel__P4343(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LightLevelClient__C4341_VT)) failedCast(r0);
    s.tmp_1 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 996; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 100);
    return leave(s, r0)
  default: oops()
} } }
modules_LightLevelClient_lightLevel__P4343.info = {"start":1350,"length":72,"line":39,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/jacdac-light-level/client.g.ts","functionName":"lightLevel","argumentNames":["this"]}

function modules_LightLevelClient_lightLevel__P4343_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LightLevelClient_lightLevel__P4343, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function modules_LightLevelClient_onLightLevelChangedBy__P4346(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LightLevelClient__C4341_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 / 100);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 999; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LightLevelClient_onLightLevelChangedBy__P4346.info = {"start":2482,"length":141,"line":77,"column":8,"endLine":79,"endColumn":9,"fileName":"pxt_modules/jacdac-light-level/client.g.ts","functionName":"onLightLevelChangedBy","argumentNames":["this","threshold","handler"]}

function modules_LightLevelClient_onLightLevelChangedBy__P4346_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LightLevelClient_onLightLevelChangedBy__P4346, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_LightLevelClient_constructor__P4342(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LightLevelClient__C4341_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 400333340;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.LightLevel___4337;
    s.callLocIdx = 993; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.LightLevelError___4338;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 994; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_lightLevelError"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4339;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 995; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LightLevelClient_constructor__P4342.info = {"start":380,"length":718,"line":11,"column":8,"endLine":29,"endColumn":9,"fileName":"pxt_modules/jacdac-light-level/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_LightLevelClient_constructor__P4342_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LightLevelClient_constructor__P4342, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_MagneticFieldLevelClient_strength__P4372(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_MagneticFieldLevelClient__C4370_VT)) failedCast(r0);
    s.tmp_1 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1002; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 100);
    return leave(s, r0)
  default: oops()
} } }
modules_MagneticFieldLevelClient_strength__P4372.info = {"start":1535,"length":70,"line":41,"column":8,"endLine":43,"endColumn":9,"fileName":"pxt_modules/jacdac-magnetic-field-level/client.g.ts","functionName":"strength","argumentNames":["this"]}

function modules_MagneticFieldLevelClient_strength__P4372_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_MagneticFieldLevelClient_strength__P4372, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_MagneticFieldLevelClient__C4370_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 / 100);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1005; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375.info = {"start":2853,"length":139,"line":80,"column":8,"endLine":82,"endColumn":9,"fileName":"pxt_modules/jacdac-magnetic-field-level/client.g.ts","functionName":"onStrengthChangedBy","argumentNames":["this","threshold","handler"]}

function modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_MagneticFieldLevelClient_constructor__P4371(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_MagneticFieldLevelClient__C4370_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 318642191;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Strength___4363;
    s.callLocIdx = 1000; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4365;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1001; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_MagneticFieldLevelClient_constructor__P4371.info = {"start":344,"length":545,"line":10,"column":8,"endLine":25,"endColumn":9,"fileName":"pxt_modules/jacdac-magnetic-field-level/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_MagneticFieldLevelClient_constructor__P4371_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_MagneticFieldLevelClient_constructor__P4371, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_EventSource_emit__P3578(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.useTry___12119 = undefined;
    s.listener___12121 = undefined;
    s.unnamed104___U2 = undefined;
    s.unnamed105___U3 = undefined;
    s.listener___12131 = undefined;
    s.unnamed106___U5 = undefined;
    s.unnamed107___U6 = undefined;
    s.handler___12138 = undefined;
    s.e___12146 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 15; continue; }
  case 1:
  case 2:
    s.useTry___12119 = (false);
    s.listener___12121 = (undefined);
    r0 = s.arg0.fields["listeners"];
    s.unnamed104___U2 = (r0);
    s.unnamed105___U3 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed105___U3;
    r0 = pxsim_Array__length(s.unnamed104___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed104___U2, s.unnamed105___U3);
    s.listener___12121 = (r0);
    r0 = s.listener___12121.fields["key"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == globals.ERROR___3573);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    s.useTry___12119 = (true);
  case 4:
  case 5:
    r0 = (s.unnamed105___U3 + 1);
    s.unnamed105___U3 = (r0);
    { step = 3; continue; }
  case 6:
    s.unnamed104___U2 = (undefined);
    s.listener___12131 = (undefined);
    r0 = s.arg0.fields["listeners"];
    s.unnamed106___U5 = (r0);
    s.unnamed107___U6 = (0);
  case 7:
    s.tmp_0 = r0 = s.unnamed107___U6;
    r0 = pxsim_Array__length(s.unnamed106___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 14; continue; }
    r0 = pxsim_Array__getAt(s.unnamed106___U5, s.unnamed107___U6);
    s.listener___12131 = (r0);
    r0 = s.listener___12131.fields["key"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 === s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 12; continue; }
    r0 = s.listener___12131.fields["handler"];
    s.handler___12138 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.useTry___12119);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.beginTry(8);
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.handler___12138;
    s.tmp_0.arg0 = s.arg2;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 879; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    r0 = pxsim_pxtcore.endTry();
    { step = 9; continue; }
  case 8:
    s.e___12146 = (undefined);
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___12146 = (r0);
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.ERROR___3573;
    s.tmp_0.arg2 = s.e___12146;
    s.callLocIdx = 880; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
  case 9:
    { step = 11; continue; }
  case 10:
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.handler___12138;
    s.tmp_0.arg0 = s.arg2;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 881; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
  case 11:
  case 12:
  case 13:
    r0 = (s.unnamed107___U6 + 1);
    s.unnamed107___U6 = (r0);
    { step = 7; continue; }
  case 14:
    s.unnamed106___U5 = (undefined);
    r0 = true;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_emit__P3578.info = {"start":2289,"length":748,"line":75,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"emit","argumentNames":["this","eventName","arg"]}

function jacdac_EventSource_emit__P3578_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_emit__P3578, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  useTry___12119: undefined,
  listener___12121: undefined,
  unnamed104___U2: undefined,
  unnamed105___U3: undefined,
  listener___12131: undefined,
  unnamed106___U5: undefined,
  unnamed107___U6: undefined,
  handler___12138: undefined,
  e___12146: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function machine_plot__P4651(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = led_plotBarGraph__P2453_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1097; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = machine_sonify__P5386_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1098; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_plot__P4651.info = {"start":4047,"length":153,"line":134,"column":4,"endLine":137,"endColumn":5,"fileName":"runtime.ts","functionName":"plot","argumentNames":["value","max","options"]}

function machine_plot__P4651_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_plot__P4651, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function machine_sonify__P5386(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.f___12169 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_map__P10_mk(s);
    s.tmp_1 = Math_abs__P2019_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1093; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 200;
    s.tmp_0.arg4 = 10000;
    s.callLocIdx = 1094; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.f___12169 = (r0);
    s.tmp_0 = machine_scheduleTone__P4648_mk(s);
    s.tmp_2 = Math_sign__P2020_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 1095; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * s.f___12169);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 1096; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_sonify__P5386.info = {"start":3798,"length":243,"line":127,"column":4,"endLine":132,"endColumn":5,"fileName":"runtime.ts","functionName":"sonify","argumentNames":["value","max","options"]}

function machine_sonify__P5386_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_sonify__P5386, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  f___12169: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_sign__P2020(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = (s.arg0 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = 1;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = -1;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
Math_sign__P2020.info = {"start":16330,"length":125,"line":546,"column":4,"endLine":550,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"sign","argumentNames":["x"]}

function Math_sign__P2020_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_sign__P2020, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Math_map__P10(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - s.arg1);
    s.tmp_2 = r0;
    r0 = (s.arg4 - s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 * s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.arg2 - s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_1 / s.tmp_4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.arg3);
    return leave(s, r0)
  default: oops()
} } }
Math_map__P10.info = {"start":1093,"length":202,"line":22,"column":4,"endLine":24,"endColumn":5,"fileName":"pxt_modules/core/math.ts","functionName":"map","argumentNames":["value","fromLow","fromHigh","toLow","toHigh"]}

function Math_map__P10_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_map__P10, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function led_plotBarGraph__P2453(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___12213 = undefined;
    s.v___12248 = undefined;
    s.k___12256 = undefined;
    s.y___12257 = undefined;
    s.x___12261 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.millis();
    s.now___12213 = (r0);
    r0 = pxsim_numops_toBoolDecr(globals.barGraphToConsole___2452);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = console_logValue__P2382_mk(s);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 42; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 43; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.basic.clearScreen();
    { step = 19; continue; }
  case 3:
  case 4:
    s.tmp_0 = Math_abs__P2019_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 44; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    s.arg0 = (r0);
    r0 = (s.arg1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    globals.barGraphHigh___4761 = (s.arg1);
    { step = 10; continue; }
  case 5:
    r0 = (s.arg0 > globals.barGraphHigh___4761);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.now___12213 - globals.barGraphHighLast___4763);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 10000);
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 8; continue; }
    globals.barGraphHigh___4761 = (s.arg0);
    globals.barGraphHighLast___4763 = (s.now___12213);
  case 8:
  case 9:
  case 10:
    r0 = (globals.barGraphHigh___4761 < 3.552713678800501e-15);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    globals.barGraphHigh___4761 = (1);
  case 11:
  case 12:
    r0 = (s.arg0 / globals.barGraphHigh___4761);
    s.v___12248 = (r0);
    s.k___12256 = (0);
    s.y___12257 = (4);
  case 13:
    r0 = (s.y___12257 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.x___12261 = (0);
  case 14:
    r0 = (s.x___12261 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    r0 = (s.k___12256 > s.v___12248);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 15; continue; }
    r0 = (2 - s.x___12261);
    s.tmp_2 = r0;
    r0 = pxsim.led.unplot(s.tmp_2, s.y___12257);
    r0 = (2 + s.x___12261);
    s.tmp_0 = r0;
    r0 = pxsim.led.unplot(s.tmp_0, s.y___12257);
    { step = 16; continue; }
  case 15:
    r0 = (2 - s.x___12261);
    s.tmp_0 = r0;
    r0 = pxsim.led.plot(s.tmp_0, s.y___12257);
    r0 = (2 + s.x___12261);
    s.tmp_0 = r0;
    r0 = pxsim.led.plot(s.tmp_0, s.y___12257);
  case 16:
    r0 = (s.k___12256 + 0.0625);
    s.k___12256 = (r0);
    r0 = (s.x___12261 + 1);
    s.x___12261 = (r0);
    { step = 14; continue; }
  case 17:
    r0 = (s.y___12257 - 1);
    s.y___12257 = (r0);
    { step = 13; continue; }
  case 18:
  case 19:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
led_plotBarGraph__P2453.info = {"start":1373,"length":1159,"line":38,"column":4,"endLine":76,"endColumn":5,"fileName":"pxt_modules/core/led.ts","functionName":"plotBarGraph","argumentNames":["value","high"]}

function led_plotBarGraph__P2453_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: led_plotBarGraph__P2453, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  now___12213: undefined,
  v___12248: undefined,
  k___12256: undefined,
  y___12257: undefined,
  x___12261: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_logValue__P2382(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    s.tmp_5 = console_inspect__P2383_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = 20;
    s.callLocIdx = 32; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, ": ");
    s.tmp_0 = r0;
    s.tmp_8 = console_inspect__P2383_mk(s);
    s.tmp_8.arg0 = s.arg1;
    s.tmp_8.arg1 = 20;
    s.callLocIdx = 33; s.pc = 5; return s.tmp_8;
  case 5:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_6);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_9 = r0;
    s.tmp_12 = console_inspect__P2383_mk(s);
    s.tmp_12.arg0 = s.arg1;
    s.tmp_12.arg1 = 20;
    s.callLocIdx = 34; s.pc = 7; return s.tmp_12;
  case 7:
    r0 = s.retval;
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);
  case 2:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    s.tmp_14 = console_log__P2381_mk(s);
    s.tmp_14.arg0 = s.tmp_13;
    s.callLocIdx = 35; s.pc = 9; return s.tmp_14;
  case 9:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_logValue__P2382.info = {"start":1636,"length":141,"line":66,"column":4,"endLine":68,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"logValue","argumentNames":["name","value"]}

function console_logValue__P2382_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_logValue__P2382, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_log__P2381(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = 1;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 31; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_log__P2381.info = {"start":1314,"length":86,"line":55,"column":4,"endLine":57,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"log","argumentNames":["value"]}

function console_log__P2381_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_log__P2381, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function input_runningTime__P2292(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.control.millis();
    return leave(s, r0)
  default: oops()
} } }
input_runningTime__P2292.info = {"start":1778,"length":70,"line":66,"column":4,"endLine":68,"endColumn":5,"fileName":"pxt_modules/core/input.ts","functionName":"runningTime","argumentNames":[]}

function input_runningTime__P2292_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: input_runningTime__P2292, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function modules_PotentiometerClient_position__P4395(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_PotentiometerClient__C4393_VT)) failedCast(r0);
    s.tmp_1 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1008; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 100);
    return leave(s, r0)
  default: oops()
} } }
modules_PotentiometerClient_position__P4395.info = {"start":1057,"length":70,"line":33,"column":8,"endLine":35,"endColumn":9,"fileName":"pxt_modules/jacdac-potentiometer/client.g.ts","functionName":"position","argumentNames":["this"]}

function modules_PotentiometerClient_position__P4395_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_PotentiometerClient_position__P4395, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function modules_PotentiometerClient_onPositionChangedBy__P4397(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_PotentiometerClient__C4393_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 / 100);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1011; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_PotentiometerClient_onPositionChangedBy__P4397.info = {"start":1854,"length":139,"line":59,"column":8,"endLine":61,"endColumn":9,"fileName":"pxt_modules/jacdac-potentiometer/client.g.ts","functionName":"onPositionChangedBy","argumentNames":["this","threshold","handler"]}

function modules_PotentiometerClient_onPositionChangedBy__P4397_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_PotentiometerClient_onPositionChangedBy__P4397, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_PotentiometerClient_constructor__P4394(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_PotentiometerClient__C4393_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 522667846;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Position___4390;
    s.callLocIdx = 1006; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4391;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 1007; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_PotentiometerClient_constructor__P4394.info = {"start":304,"length":488,"line":10,"column":8,"endLine":23,"endColumn":9,"fileName":"pxt_modules/jacdac-potentiometer/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_PotentiometerClient_constructor__P4394_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_PotentiometerClient_constructor__P4394, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_LedClient_setPixelColor__P4245(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pixels___12363 = undefined;
    s.r___12380 = undefined;
    s.g___12385 = undefined;
    s.b___12390 = undefined;
    s.k___12393 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = (s.arg1 | 0);
    s.arg1 = (r0);
    r0 = s.arg0.fields["_localPixels"];
    s.pixels___12363 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.pixels___12363);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 13; continue; }
  case 1:
  case 2:
    r0 = (s.arg1 >= 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_2;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg1 + 1);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 3);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.pixels___12363);
    s.tmp_5 = r0;
    r0 = (s.tmp_3 <= s.tmp_5);
  case 4:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 11; continue; }
    r0 = (s.arg2 >> 16);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 & 255);
    s.r___12380 = (r0);
    r0 = (s.arg2 >> 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 255);
    s.g___12385 = (r0);
    r0 = (s.arg2 & 255);
    s.b___12390 = (r0);
    r0 = (s.arg1 * 3);
    s.k___12393 = (r0);
    r0 = pxsim.BufferMethods.getByte(s.pixels___12363, s.k___12393);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != s.r___12380);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    s.tmp_3 = r0 = s.pixels___12363;
    r0 = (s.k___12393 + 1);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != s.g___12385);
  case 6:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_5;
    { step = 8; continue; }
  case 7:
    s.tmp_7 = r0 = s.pixels___12363;
    r0 = (s.k___12393 + 2);
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_7, s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 != s.b___12390);
  case 8:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 9; continue; }
    r0 = pxsim.BufferMethods.setByte(s.pixels___12363, s.k___12393, s.r___12380);
    s.tmp_0 = r0 = s.pixels___12363;
    r0 = (s.k___12393 + 1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, s.tmp_1, s.g___12385);
    s.tmp_0 = r0 = s.pixels___12363;
    r0 = (s.k___12393 + 2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, s.tmp_1, s.b___12390);
    s.tmp_0 = modules_LedClient_setDirty__P5144_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 991; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_setPixelColor__P4245.info = {"start":11202,"length":726,"line":325,"column":8,"endLine":345,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"setPixelColor","argumentNames":["this","index","rgb"]}

function modules_LedClient_setPixelColor__P4245_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_setPixelColor__P4245, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  pixels___12363: undefined,
  r___12380: undefined,
  g___12385: undefined,
  b___12390: undefined,
  k___12393: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_LedClient_setDirty__P5144(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = s.arg0.fields["_dirty"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["_dirty"] = (true);
    r0 = s.arg0.fields["_autoShowUnsub"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = modules_LedClient_startAutoShow__P5142_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 984; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_setDirty__P5144.info = {"start":9707,"length":174,"line":282,"column":8,"endLine":287,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"setDirty","argumentNames":["this"]}

function modules_LedClient_setDirty__P5144_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_setDirty__P5144, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function modules_LedClient_startAutoShow__P5142(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = s.arg0.fields["_autoShowUnsub"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(1, modules_LedClient_startAutoShow_inline__P12453);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = r0 = s.arg0;
    s.tmp_4 = jacdac_Bus_subscribeRefresh__P3429_mk(s);
    s.tmp_4.arg0 = globals.bus___3430;
    s.tmp_4.arg1 = s.tmp_1;
    s.callLocIdx = 979; s.pc = 4; return s.tmp_4;
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["_autoShowUnsub"] = (s.tmp_3);
    r0 = pxsim_pxtcore_mkAction(1, modules_LedClient_startAutoShow_inline__P12457);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = globals.DISCONNECT___3392;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 981; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = modules_LedClient_show__P4244_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 982; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_startAutoShow__P5142.info = {"start":9252,"length":282,"line":269,"column":8,"endLine":276,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"startAutoShow","argumentNames":["this"]}

function modules_LedClient_startAutoShow__P5142_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_startAutoShow__P5142, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function modules_LedClient_startAutoShow_inline__P12453(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_LedClient_refresh__P5145_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 978; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_startAutoShow_inline__P12453.info = {"start":9384,"length":36,"line":271,"column":62,"endLine":272,"endColumn":30,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"inline","argumentNames":[]}

function modules_LedClient_startAutoShow_inline__P12453_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_startAutoShow_inline__P12453, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function modules_LedClient_startAutoShow_inline__P12457(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_LedClient_stopAutoShow__P5143_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 980; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_startAutoShow_inline__P12457.info = {"start":9474,"length":25,"line":274,"column":39,"endLine":274,"endColumn":64,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"inline","argumentNames":[]}

function modules_LedClient_startAutoShow_inline__P12457_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_startAutoShow_inline__P12457, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function modules_LedClient_show__P4244(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numPixels___12462 = undefined;
    s.newBuf___12479 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 986; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = modules_LedClient_numPixels__P4233_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 987; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.numPixels___12462 = (r0);
    s.tmp_3 = isNaN__P1984_mk(s);
    s.tmp_3.arg0 = s.numPixels___12462;
    s.callLocIdx = 988; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.numPixels___12462 > 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_4;
    { step = 4; continue; }
  case 3:
    r0 = (s.numPixels___12462 * 3);
    s.tmp_5 = r0;
    r0 = s.arg0.fields["_localPixels"];
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_7);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 !== s.tmp_6);
  case 4:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 5; continue; }
    r0 = (s.numPixels___12462 * 3);
    s.tmp_9 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_9);
    s.newBuf___12479 = (r0);
    r0 = s.arg0.fields["_localPixels"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.write(s.newBuf___12479, 0, s.tmp_0);
    r0 = (s.arg0).fields["_localPixels"] = (s.newBuf___12479);
  case 5:
  case 6:
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_localPixels"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_2 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_pixels"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 989; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = isNaN__P1984_mk(s);
    s.tmp_2.arg0 = s.numPixels___12462;
    s.callLocIdx = 990; s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_dirty"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_show__P4244.info = {"start":10204,"length":604,"line":300,"column":8,"endLine":315,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"show","argumentNames":["this"]}

function modules_LedClient_show__P4244_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_show__P4244, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  numPixels___12462: undefined,
  newBuf___12479: undefined,
  arg0: undefined,
} }





function modules_LedClient_stopAutoShow__P5143(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.unsub___12504 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = s.arg0.fields["_autoShowUnsub"];
    s.unsub___12504 = (r0);
    r0 = (s.arg0).fields["_autoShowUnsub"] = (undefined);
    r0 = pxsim_numops_toBoolDecr(s.unsub___12504);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.unsub___12504;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 983; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_stopAutoShow__P5143.info = {"start":9543,"length":155,"line":277,"column":8,"endLine":281,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"stopAutoShow","argumentNames":["this"]}

function modules_LedClient_stopAutoShow__P5143_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_stopAutoShow__P5143, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  unsub___12504: undefined,
  arg0: undefined,
} }





function modules_LedClient_refresh__P5145(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = s.arg0.fields["_dirty"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = modules_LedClient_show__P4244_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 985; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_refresh__P5145.info = {"start":9890,"length":102,"line":288,"column":8,"endLine":292,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"refresh","argumentNames":["this"]}

function modules_LedClient_refresh__P5145_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_refresh__P5145, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Bus_subscribeRefresh__P3429(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.unsub___12518 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.tmp_0 = jacdac_EventSource_subscribe__P3581_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.REFRESH___3406;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 522; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.unsub___12518 = (r0);
    s.tmp_0 = jacdac_Bus_startRefresh__P5035_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 523; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = s.unsub___12518;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_subscribeRefresh__P3429.info = {"start":12787,"length":172,"line":357,"column":8,"endLine":361,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"subscribeRefresh","argumentNames":["this","handler"]}

function jacdac_Bus_subscribeRefresh__P3429_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_subscribeRefresh__P3429, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  unsub___12518: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Bus_startRefresh__P5035(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["_refreshing"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["_refreshing"] = (true);
    r0 = pxsim_pxtcore_mkAction(1, jacdac_Bus_startRefresh_inline__P12533);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_runInBackground__P2296_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 518; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_startRefresh__P5035.info = {"start":12310,"length":174,"line":339,"column":8,"endLine":344,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"startRefresh","argumentNames":["this"]}

function jacdac_Bus_startRefresh__P5035_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_startRefresh__P5035, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Bus_startRefresh_inline__P12533(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_Bus_refreshLoop__P5036_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 517; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_startRefresh_inline__P12533.info = {"start":12449,"length":24,"line":343,"column":36,"endLine":343,"endColumn":60,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_Bus_startRefresh_inline__P12533_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_startRefresh_inline__P12533, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_Bus_refreshLoop__P5036(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.beginTry(3);
  case 1:
    s.tmp_1 = jacdac_EventSource_hasListener__P3579_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = globals.REFRESH___3406;
    s.callLocIdx = 519; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_2 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = globals.REFRESH___3406;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 520; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 50;
    s.callLocIdx = 521; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = pxsim_pxtcore.endTry();
  case 3:
    r0 = (s.arg0).fields["_refreshing"] = (false);
    r0 = pxsim_pxtcore.endFinally();
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_refreshLoop__P5036.info = {"start":12494,"length":283,"line":346,"column":8,"endLine":355,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"refreshLoop","argumentNames":["this"]}

function jacdac_Bus_refreshLoop__P5036_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_refreshLoop__P5036, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_EventSource_hasListener__P3579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.listener___12551 = undefined;
    s.unnamed108___U1 = undefined;
    s.unnamed109___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 7; continue; }
  case 1:
  case 2:
    s.listener___12551 = (undefined);
    r0 = s.arg0.fields["listeners"];
    s.unnamed108___U1 = (r0);
    s.unnamed109___U2 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed109___U2;
    r0 = pxsim_Array__length(s.unnamed108___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed108___U1, s.unnamed109___U2);
    s.listener___12551 = (r0);
    r0 = s.listener___12551.fields["key"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 === s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = true;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.unnamed109___U2 + 1);
    s.unnamed109___U2 = (r0);
    { step = 3; continue; }
  case 6:
    s.unnamed108___U1 = (undefined);
    r0 = false;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_hasListener__P3579.info = {"start":3047,"length":284,"line":101,"column":8,"endLine":109,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"hasListener","argumentNames":["this","eventName"]}

function jacdac_EventSource_hasListener__P3579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_hasListener__P3579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  listener___12551: undefined,
  unnamed108___U1: undefined,
  unnamed109___U2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_EventSource_subscribe__P3581(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.unsubscribe___12564 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    s.tmp_0 = jacdac_EventSource_addListenerInternal__P4932_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 882; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(3, unsubscribe_inline__P12565);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg2);
    s.unsubscribe___12564 = (s.tmp_0);
    r0 = s.unsubscribe___12564;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_subscribe__P3581.info = {"start":3790,"length":265,"line":127,"column":8,"endLine":132,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"subscribe","argumentNames":["this","eventName","next"]}

function jacdac_EventSource_subscribe__P3581_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_subscribe__P3581, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  unsubscribe___12564: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function unsubscribe_inline__P12565(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_removeListenerInternal__P4933_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    s.tmp_0.arg2 = s.caps[2];
    s.callLocIdx = 883; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
unsubscribe_inline__P12565.info = {"start":3948,"length":66,"line":129,"column":32,"endLine":130,"endColumn":60,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"inline","argumentNames":[]}

function unsubscribe_inline__P12565_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: unsubscribe_inline__P12565, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_EventSource_removeListenerInternal__P4933(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.listeners___12578 = undefined;
    s.n___12581 = undefined;
    s.i___12584 = undefined;
    s.listener___12589 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 11; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["listeners"];
    s.listeners___12578 = (r0);
    r0 = pxsim_Array__length(s.listeners___12578);
    s.n___12581 = (r0);
    s.i___12584 = (0);
  case 5:
    r0 = (s.i___12584 < s.n___12581);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_Array__getAt(s.listeners___12578, s.i___12584);
    s.listener___12589 = (r0);
    r0 = s.listener___12589.fields["key"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = s.listener___12589.fields["handler"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === s.arg2);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 8; continue; }
    s.tmp_4 = helpers_arraySplice__P1991_mk(s);
    r0 = s.arg0.fields["listeners"];
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.i___12584;
    s.tmp_4.arg2 = 1;
    s.callLocIdx = 878; s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    { step = 11; continue; }
  case 8:
  case 9:
    r0 = (s.i___12584 + 1);
    s.i___12584 = (r0);
    { step = 5; continue; }
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_removeListenerInternal__P4933.info = {"start":1413,"length":591,"line":49,"column":8,"endLine":67,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"removeListenerInternal","argumentNames":["this","eventName","handler"]}

function jacdac_EventSource_removeListenerInternal__P4933_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_removeListenerInternal__P4933, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  listeners___12578: undefined,
  n___12581: undefined,
  i___12584: undefined,
  listener___12589: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_EventSource_addListenerInternal__P4932(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.previous___12617 = undefined;
    s.listener___12634 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkAction(2, previous_inline__P12619);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_4, 0, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_4, 1, s.arg2);
    s.tmp_5 = helpers_arrayFind__P2002_mk(s);
    r0 = s.arg0.fields["listeners"];
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = s.tmp_4;
    s.callLocIdx = 876; s.pc = 8; return s.tmp_5;
  case 8:
    r0 = s.retval;
    s.previous___12617 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.previous___12617);
    if (!r0) { step = 5; continue; }
    { step = 7; continue; }
  case 5:
  case 6:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_EventListener__C3571_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_EventListener_constructor__P3572_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.callLocIdx = 877; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.listener___12634 = (s.tmp_0);
    r0 = s.arg0.fields["listeners"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.listener___12634);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_addListenerInternal__P4932.info = {"start":874,"length":529,"line":31,"column":8,"endLine":47,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"addListenerInternal","argumentNames":["this","eventName","handler"]}

function jacdac_EventSource_addListenerInternal__P4932_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_addListenerInternal__P4932, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  previous___12617: undefined,
  listener___12634: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function previous_inline__P12619(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["key"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["handler"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === s.caps[1]);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
previous_inline__P12619.info = {"start":1125,"length":49,"line":38,"column":16,"endLine":38,"endColumn":65,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"inline","argumentNames":["l"]}

function previous_inline__P12619_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: previous_inline__P12619, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_EventListener_constructor__P3572(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventListener__C3571_VT)) failedCast(r0);
    r0 = (s.arg0).fields["key"] = (s.arg1);
    r0 = (s.arg0).fields["handler"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventListener_constructor__P3572.info = {"start":178,"length":161,"line":5,"column":8,"endLine":9,"endColumn":12,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"inline","argumentNames":["this","key","handler"]}

function jacdac_EventListener_constructor__P3572_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventListener_constructor__P3572, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_LedClient_numPixels__P4233(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___12647 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 974; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_numPixels"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 975; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___12647 = (r0);
    r0 = pxsim_Array__getAt(s.values___12647, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_numPixels__P4233.info = {"start":5469,"length":156,"line":140,"column":8,"endLine":144,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"numPixels","argumentNames":["this"]}

function modules_LedClient_numPixels__P4233_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_numPixels__P4233, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___12647: undefined,
  arg0: undefined,
} }





function modules_LedClient_setBrightness__P4231(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___12659 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 971; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_brightness"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 972; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___12659 = (r0);
    s.tmp_0 = r0 = s.values___12659;
    r0 = (s.arg1 / 100);
    s.tmp_1 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, 0, s.tmp_1);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_brightness"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___12659;
    s.callLocIdx = 973; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_setBrightness__P4231.info = {"start":4468,"length":218,"line":111,"column":8,"endLine":116,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"setBrightness","argumentNames":["this","value"]}

function modules_LedClient_setBrightness__P4231_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_setBrightness__P4231, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  values___12659: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_LedClient_rotate__P4249(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pixels___12682 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    r0 = (s.arg1 >> 0);
    s.arg1 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_localPixels"];
    s.pixels___12682 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.pixels___12682);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_2 = r0 = s.pixels___12682;
    r0 = (0 - s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 3);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.rotate(s.tmp_2, s.tmp_3, 0, -1);
    s.tmp_0 = modules_LedClient_setDirty__P5144_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 992; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_rotate__P4249.info = {"start":15621,"length":279,"line":450,"column":8,"endLine":458,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"rotate","argumentNames":["this","offset"]}

function modules_LedClient_rotate__P4249_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_rotate__P4249, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  pixels___12682: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_LedClient_constructor__P4229(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["_dirty"] = (false);
    r0 = (s.arg0).fields["_autoShow"] = (true);
    r0 = (s.arg0).fields["_barGraphHigh"] = (0);
    r0 = (s.arg0).fields["_barGraphHighLast"] = (0);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 369743088;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 958; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 2;
    s.tmp_2.arg2 = globals.Pixels___4217;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 959; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_pixels"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 1;
    s.tmp_2.arg2 = globals.Brightness___4218;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 960; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_brightness"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.ActualBrightness___4219;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 961; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_actualBrightness"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 386;
    s.tmp_2.arg2 = globals.NumPixels___4220;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 962; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_numPixels"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 387;
    s.tmp_2.arg2 = globals.NumColumns___4221;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 963; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_numColumns"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 7;
    s.tmp_2.arg2 = globals.MaxPower___4222;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 964; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxPower"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 388;
    s.tmp_2.arg2 = globals.LedsPerPixel___4223;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 965; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_ledsPerPixel"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 389;
    s.tmp_2.arg2 = globals.WaveLength___4224;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 966; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_waveLength"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 390;
    s.tmp_2.arg2 = globals.LuminousIntensity___4225;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 967; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_luminousIntensity"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___4226;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 968; s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(1, modules_LedClient_inline__P12806);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    r0 = s.arg0.fields["_numPixels"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = globals.REPORT_UPDATE___3400;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 970; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.createBuffer(192);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_localPixels"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_constructor__P4229.info = {"start":983,"length":2654,"line":20,"column":8,"endLine":83,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_LedClient_constructor__P4229_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_constructor__P4229, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_LedClient_inline__P12806(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = modules_LedClient_show__P4244_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 969; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_inline__P12806.info = {"start":3431,"length":17,"line":77,"column":53,"endLine":77,"endColumn":70,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"inline","argumentNames":[]}

function modules_LedClient_inline__P12806_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_inline__P12806, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function modules_HumidityClient_humidity__P4140(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_HumidityClient__C4138_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 956; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_HumidityClient_humidity__P4140.info = {"start":1501,"length":64,"line":38,"column":8,"endLine":40,"endColumn":9,"fileName":"pxt_modules/jacdac-humidity/client.g.ts","functionName":"humidity","argumentNames":["this"]}

function modules_HumidityClient_humidity__P4140_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_HumidityClient_humidity__P4140, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_HumidityClient_onHumidityChangedBy__P4144(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_HumidityClient__C4138_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 957; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_HumidityClient_onHumidityChangedBy__P4144.info = {"start":2940,"length":133,"line":87,"column":8,"endLine":89,"endColumn":9,"fileName":"pxt_modules/jacdac-humidity/client.g.ts","functionName":"onHumidityChangedBy","argumentNames":["this","threshold","handler"]}

function modules_HumidityClient_onHumidityChangedBy__P4144_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_HumidityClient_onHumidityChangedBy__P4144, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_HumidityClient_constructor__P4139(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_HumidityClient__C4138_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 382210232;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Humidity___4133;
    s.callLocIdx = 952; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.HumidityError___4134;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 953; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_humidityError"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 260;
    s.tmp_2.arg2 = globals.MinHumidity___4135;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 954; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_minHumidity"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 261;
    s.tmp_2.arg2 = globals.MaxHumidity___4136;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 955; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxHumidity"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_HumidityClient_constructor__P4139.info = {"start":422,"length":794,"line":10,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/jacdac-humidity/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_HumidityClient_constructor__P4139_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_HumidityClient_constructor__P4139, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_GamepadClient_y__P3802(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___12860 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_GamepadClient__C3798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SensorClient_setStreaming__P3227_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 944; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_reading"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 945; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___12860 = (r0);
    r0 = pxsim_Array__getAt(s.values___12860, 2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 100);
    return leave(s, r0)
  default: oops()
} } }
modules_GamepadClient_y__P3802.info = {"start":2957,"length":163,"line":72,"column":8,"endLine":76,"endColumn":9,"fileName":"pxt_modules/jacdac-gamepad/client.ts","functionName":"y","argumentNames":["this"]}

function modules_GamepadClient_y__P3802_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_GamepadClient_y__P3802, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___12860: undefined,
  arg0: undefined,
} }





function modules_GamepadClient_x__P3801(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___12873 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_GamepadClient__C3798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SensorClient_setStreaming__P3227_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 942; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_reading"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 943; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___12873 = (r0);
    r0 = pxsim_Array__getAt(s.values___12873, 1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 100);
    return leave(s, r0)
  default: oops()
} } }
modules_GamepadClient_x__P3801.info = {"start":2238,"length":163,"line":55,"column":8,"endLine":59,"endColumn":9,"fileName":"pxt_modules/jacdac-gamepad/client.ts","functionName":"x","argumentNames":["this"]}

function modules_GamepadClient_x__P3801_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_GamepadClient_x__P3801, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___12873: undefined,
  arg0: undefined,
} }





function plot__P4662(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dispX___12887 = undefined;
    s.dispY___12888 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.basic.clearScreen();
    s.dispX___12887 = (2);
    s.dispY___12888 = (2);
    r0 = (s.arg0 < -30);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.dispX___12887 - 1);
    s.dispX___12887 = (r0);
  case 1:
  case 2:
    r0 = (s.arg0 < -60);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.dispX___12887 - 1);
    s.dispX___12887 = (r0);
  case 3:
  case 4:
    r0 = (s.arg0 > 30);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.dispX___12887 + 1);
    s.dispX___12887 = (r0);
  case 5:
  case 6:
    r0 = (s.arg0 > 60);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = (s.dispX___12887 + 1);
    s.dispX___12887 = (r0);
  case 7:
  case 8:
    r0 = (s.arg1 < -30);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = (s.dispY___12888 - 1);
    s.dispY___12888 = (r0);
  case 9:
  case 10:
    r0 = (s.arg1 < -60);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = (s.dispY___12888 - 1);
    s.dispY___12888 = (r0);
  case 11:
  case 12:
    r0 = (s.arg1 > 30);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = (s.dispY___12888 + 1);
    s.dispY___12888 = (r0);
  case 13:
  case 14:
    r0 = (s.arg1 > 60);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = (s.dispY___12888 + 1);
    s.dispY___12888 = (r0);
  case 15:
  case 16:
    r0 = pxsim.led.plot(s.dispX___12887, s.dispY___12888);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
plot__P4662.info = {"start":0,"length":354,"line":0,"column":0,"endLine":14,"endColumn":1,"fileName":"gamepad.ts","functionName":"plot","argumentNames":["x","y"]}

function plot__P4662_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: plot__P4662, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  dispX___12887: undefined,
  dispY___12888: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_SensorClient_onStateChanged__P3228(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    r0 = s.arg0.fields["_reading"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = globals.REPORT_UPDATE___3400;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 336; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_SensorClient_setStreaming__P3227_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 337; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_onStateChanged__P3228.info = {"start":3124,"length":143,"line":89,"column":8,"endLine":92,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"onStateChanged","argumentNames":["this","handler"]}

function jacdac_SensorClient_onStateChanged__P3228_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_onStateChanged__P3228, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_GamepadClient_constructor__P3799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_GamepadClient__C3798_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SensorClient_constructor__P3225_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 277836886;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = "u32 i1.15 i1.15";
    s.tmp_4.arg4 = 100;
    s.callLocIdx = 939; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 263;
    s.tmp_2.arg2 = globals.Variant___3791;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 940; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_variant"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.ButtonsAvailable___3792;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 941; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buttonsAvailable"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_GamepadClient_constructor__P3799.info = {"start":397,"length":634,"line":13,"column":8,"endLine":27,"endColumn":9,"fileName":"pxt_modules/jacdac-gamepad/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_GamepadClient_constructor__P3799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_GamepadClient_constructor__P3799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ButtonClient_onHold__P3701(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ButtonClient__C3691_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 129;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 924; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_onHold__P3701.info = {"start":4789,"length":110,"line":141,"column":8,"endLine":143,"endColumn":9,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"onHold","argumentNames":["this","handler"]}

function modules_ButtonClient_onHold__P3701_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_onHold__P3701, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_scheduleTone__P4648(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    globals.nextTone___5383 = (s.arg0);
    globals.nextToneOptions___5384 = (s.arg1);
    s.tmp_0 = machine_startTonePlayer__P5385_mk(s);
    s.callLocIdx = 1092; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_scheduleTone__P4648.info = {"start":3382,"length":152,"line":112,"column":4,"endLine":116,"endColumn":5,"fileName":"runtime.ts","functionName":"scheduleTone","argumentNames":["f","options"]}

function machine_scheduleTone__P4648_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_scheduleTone__P4648, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_startTonePlayer__P5385(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = music_stopAllSounds__P2552_mk(s);
    s.callLocIdx = 1085; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = control_runInBackground__P2296_mk(s);
    s.tmp_0.arg0 = machine_startTonePlayer_inline__P12981;
    s.callLocIdx = 1091; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_startTonePlayer__P5385.info = {"start":2317,"length":1060,"line":80,"column":4,"endLine":111,"endColumn":5,"fileName":"runtime.ts","functionName":"startTonePlayer","argumentNames":[]}

function machine_startTonePlayer__P5385_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_startTonePlayer__P5385, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_startTonePlayer_inline__P12981(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.t___12986 = undefined;
    s.options___12988 = undefined;
    s.duration___12997 = undefined;
    s.startf___13001 = undefined;
    s.endf___13006 = undefined;
    s.effect___13012 = undefined;
  case 1:
    s.tmp_0 = r0 = globals.nextTone___5383;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = globals.nextToneOptions___5384;
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    s.t___12986 = (globals.nextTone___5383);
    s.options___12988 = (globals.nextToneOptions___5384);
    globals.nextTone___5383 = (0);
    globals.nextToneOptions___5384 = (undefined);
    s.tmp_0 = machine_MicrobitMachine_playTone__P5379_mk(s);
    s.tmp_0.arg0 = globals.microbit___4646;
    s.tmp_1 = Math_abs__P2019_mk(s);
    s.tmp_1.arg0 = s.t___12986;
    s.callLocIdx = 1086; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1087; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = music_beat__P2541_mk(s);
    s.tmp_0.arg0 = 2;
    s.callLocIdx = 1088; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.duration___12997 = (r0);
    r0 = (s.t___12986 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.t___12986;
    { step = 5; continue; }
  case 4:
    r0 = 0;
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.startf___13001 = (s.tmp_1);
    r0 = (s.t___12986 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = (0 - s.t___12986);
    { step = 7; continue; }
  case 6:
    r0 = 0;
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.endf___13006 = (s.tmp_1);
    s.tmp_0 = music_createSoundEffect__P2786_mk(s);
    r0 = s.options___12988.fields["waveShape"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.startf___13001;
    s.tmp_0.arg2 = s.endf___13006;
    r0 = s.options___12988.fields["startVolume"];
    s.tmp_0.arg3 = r0;
    r0 = s.options___12988.fields["startVolume"];
    s.tmp_1 = r0;
    r0 = (255 - s.tmp_1);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = s.duration___12997;
    r0 = s.options___12988.fields["effect"];
    s.tmp_0.arg6 = r0;
    r0 = s.options___12988.fields["interpolation"];
    s.tmp_0.arg7 = r0;
    s.callLocIdx = 1089; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.effect___13012 = (r0);
    s.tmp_0 = music_playSoundEffect__P2785_mk(s);
    s.tmp_0.arg0 = s.effect___13012;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1090; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    setupResume(s, 14);
    pxsim.basic.pause(20);
    checkResumeConsumed();
    return;
  case 14:
    r0 = s.retval;
    { step = 1; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_startTonePlayer_inline__P12981.info = {"start":2408,"length":962,"line":82,"column":32,"endLine":110,"endColumn":9,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_startTonePlayer_inline__P12981_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_startTonePlayer_inline__P12981, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  t___12986: undefined,
  options___12988: undefined,
  duration___12997: undefined,
  startf___13001: undefined,
  endf___13006: undefined,
  effect___13012: undefined,
} }





function music_playSoundEffect__P2785(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 === 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(SoundExpression__C2692_VT);
    s.tmp_1 = r0;
    s.tmp_2 = SoundExpression_constructor__P2693_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    s.tmp_2.arg1 = s.arg0;
    s.callLocIdx = 121; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_3 = SoundExpression_play__P2694_mk(s);
    s.tmp_3.arg0 = s.tmp_1;
    s.callLocIdx = 122; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtcore_mkClassInstance(SoundExpression__C2692_VT);
    s.tmp_0 = r0;
    s.tmp_1 = SoundExpression_constructor__P2693_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 123; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_2 = SoundExpression_playUntilDone__P2695_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.callLocIdx = 124; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_playSoundEffect__P2785.info = {"start":8347,"length":284,"line":322,"column":4,"endLine":329,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"playSoundEffect","argumentNames":["sound","mode"]}

function music_playSoundEffect__P2785_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_playSoundEffect__P2785, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function SoundExpression_playUntilDone__P2695(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, SoundExpression__C2692_VT)) failedCast(r0);
    r0 = s.arg0.fields["notes"];
    s.tmp_0 = r0;
    setupResume(s, 1);
    pxsim.music.__playSoundExpression(s.tmp_0, true);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
SoundExpression_playUntilDone__P2695.info = {"start":746,"length":77,"line":34,"column":4,"endLine":36,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"playUntilDone","argumentNames":["this"]}

function SoundExpression_playUntilDone__P2695_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: SoundExpression_playUntilDone__P2695, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function SoundExpression_constructor__P2693(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, SoundExpression__C2692_VT)) failedCast(r0);
    r0 = (s.arg0).fields["notes"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
SoundExpression_constructor__P2693.info = {"start":130,"length":42,"line":7,"column":4,"endLine":8,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"inline","argumentNames":["this","notes"]}

function SoundExpression_constructor__P2693_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: SoundExpression_constructor__P2693, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function SoundExpression_play__P2694(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, SoundExpression__C2692_VT)) failedCast(r0);
    r0 = s.arg0.fields["notes"];
    s.tmp_0 = r0;
    setupResume(s, 1);
    pxsim.music.__playSoundExpression(s.tmp_0, false);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
SoundExpression_play__P2694.info = {"start":411,"length":69,"line":20,"column":4,"endLine":22,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"play","argumentNames":["this"]}

function SoundExpression_play__P2694_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: SoundExpression_play__P2694, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function music_createSoundEffect__P2786(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sound___13072 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.arg7 = (s.lambdaArgs[7]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(soundExpression_Sound__C2743_VT);
    s.tmp_0 = r0;
    s.tmp_1 = soundExpression_Sound_constructor__P2745_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 125; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.sound___13072 = (s.tmp_0);
    s.tmp_0 = soundExpression_Sound_wave__P2747_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 126; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_frequency__P2751_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 127; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_volume__P2749_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    r0 = (s.arg3 / 255);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 1023);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 128; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_endFrequency__P2757_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 129; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_endVolume__P2759_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    r0 = (s.arg4 / 255);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 1023);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 130; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_duration__P2753_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = s.arg5;
    s.callLocIdx = 131; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_fx__P2763_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = s.arg6;
    s.callLocIdx = 132; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg7;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 1:
    s.tmp_1 = soundExpression_Sound_shape__P2755_mk(s);
    s.tmp_1.arg0 = s.sound___13072;
    s.tmp_1.arg1 = 1;
    s.callLocIdx = 133; s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_steps__P2761_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 128;
    s.callLocIdx = 134; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    { step = 4; continue; }
  case 2:
    s.tmp_0 = soundExpression_Sound_shape__P2755_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 2;
    s.callLocIdx = 135; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_steps__P2761_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 90;
    s.callLocIdx = 136; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = soundExpression_Sound_shape__P2755_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 18;
    s.callLocIdx = 137; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_steps__P2761_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 90;
    s.callLocIdx = 138; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
  case 4:
    s.tmp_1 = soundExpression_Sound_fx__P2762_mk(s);
    s.tmp_1.arg0 = s.sound___13072;
    s.callLocIdx = 139; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 5:
    s.tmp_2 = soundExpression_Sound_fxnSteps__P2767_mk(s);
    s.tmp_2.arg0 = s.sound___13072;
    s.tmp_2.arg1 = 512;
    s.callLocIdx = 140; s.pc = 24; return s.tmp_2;
  case 24:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_fxParam__P2765_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 2;
    s.callLocIdx = 141; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    { step = 8; continue; }
  case 6:
    s.tmp_0 = soundExpression_Sound_fxnSteps__P2767_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 900;
    s.callLocIdx = 142; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_fxParam__P2765_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 3;
    s.callLocIdx = 143; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    { step = 8; continue; }
  case 7:
    s.tmp_0 = soundExpression_Sound_fxnSteps__P2767_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 700;
    s.callLocIdx = 144; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
    s.tmp_0 = soundExpression_Sound_fxParam__P2765_mk(s);
    s.tmp_0.arg0 = s.sound___13072;
    s.tmp_0.arg1 = 2;
    s.callLocIdx = 145; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
  case 8:
    r0 = s.sound___13072.fields["src"];
    return leave(s, r0)
  default: oops()
} } }
music_createSoundEffect__P2786.info = {"start":10359,"length":1661,"line":369,"column":4,"endLine":410,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"createSoundEffect","argumentNames":["waveShape","startFrequency","endFrequency","startVolume","endVolume","duration","effect","interpolation"]}

function music_createSoundEffect__P2786_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_createSoundEffect__P2786, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  sound___13072: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
  arg7: undefined,
} }





function soundExpression_Sound_fxParam__P2765(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 36;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 112; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_fxParam__P2765.info = {"start":5272,"length":79,"line":207,"column":8,"endLine":209,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fxParam","argumentNames":["this","value"]}

function soundExpression_Sound_fxParam__P2765_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fxParam__P2765, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_setValue__P4838(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = Math_constrain__P11_mk(s);
    r0 = (s.arg2 | 0);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 0;
    r0 = pxsim.Math_.pow(10, s.arg3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 115; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.arg2 = (r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_6 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["src"];
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = 0;
    s.tmp_6.arg2 = s.arg1;
    s.callLocIdx = 116; s.pc = 2; return s.tmp_6;
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    s.tmp_9 = soundExpression_formatNumber__P4840_mk(s);
    s.tmp_9.arg0 = s.arg2;
    s.tmp_9.arg1 = s.arg3;
    s.callLocIdx = 117; s.pc = 4; return s.tmp_9;
  case 4:
    r0 = s.retval;
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_7);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    s.tmp_12 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["src"];
    s.tmp_12.arg0 = r0;
    r0 = (s.arg1 + s.arg3);
    s.tmp_12.arg1 = r0;
    s.tmp_12.arg2 = undefined;
    s.callLocIdx = 118; s.pc = 7; return s.tmp_12;
  case 7:
    r0 = s.retval;
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_10);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["src"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_setValue__P4838.info = {"start":6982,"length":269,"line":281,"column":8,"endLine":284,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"setValue","argumentNames":["this","offset","value","length"]}

function soundExpression_Sound_setValue__P4838_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_setValue__P4838, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function soundExpression_formatNumber__P4840(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.result___13189 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.result___13189 = (r0);
  case 1:
    r0 = pxsim_String_.length(s.result___13189);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    if ((s.result___13189) && (s.result___13189).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.result___13189);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.result___13189) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("0", s.tmp_2);
    s.result___13189 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.result___13189;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_formatNumber__P4840.info = {"start":7397,"length":174,"line":291,"column":4,"endLine":295,"endColumn":5,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"formatNumber","argumentNames":["num","length"]}

function soundExpression_formatNumber__P4840_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_formatNumber__P4840, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  result___13189: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_constrain__P11(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg1;
    { step = 4; continue; }
  case 1:
    r0 = (s.arg0 > s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = s.arg2;
    { step = 3; continue; }
  case 2:
    r0 = s.arg0;
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
Math_constrain__P11.info = {"start":1679,"length":147,"line":34,"column":4,"endLine":36,"endColumn":5,"fileName":"pxt_modules/core/math.ts","functionName":"constrain","argumentNames":["value","low","high"]}

function Math_constrain__P11_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_constrain__P11, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function soundExpression_Sound_fxParam__P2764(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 36;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 111; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_fxParam__P2764.info = {"start":5196,"length":66,"line":203,"column":8,"endLine":205,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fxParam","argumentNames":["this"]}
soundExpression_Sound_fxParam__P2764.isGetter = true;

function soundExpression_Sound_fxParam__P2764_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fxParam__P2764, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_getValue__P4839(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = parseInt__P1988_mk(s);
    s.tmp_1 = helpers_stringSubstr__P2009_mk(s);
    r0 = s.arg0.fields["src"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.callLocIdx = 119; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 120; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_getValue__P4839.info = {"start":7261,"length":124,"line":286,"column":8,"endLine":288,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"getValue","argumentNames":["this","offset","length"]}

function soundExpression_Sound_getValue__P4839_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_getValue__P4839, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function soundExpression_Sound_fxnSteps__P2767(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 40;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 114; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_fxnSteps__P2767.info = {"start":5438,"length":80,"line":215,"column":8,"endLine":217,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fxnSteps","argumentNames":["this","value"]}

function soundExpression_Sound_fxnSteps__P2767_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fxnSteps__P2767, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_fxnSteps__P2766(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 40;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 113; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_fxnSteps__P2766.info = {"start":5361,"length":67,"line":211,"column":8,"endLine":213,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fxnSteps","argumentNames":["this"]}
soundExpression_Sound_fxnSteps__P2766.isGetter = true;

function soundExpression_Sound_fxnSteps__P2766_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fxnSteps__P2766, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_steps__P2761(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 30;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 107; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_steps__P2761.info = {"start":4894,"length":77,"line":191,"column":8,"endLine":193,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"steps","argumentNames":["this","value"]}

function soundExpression_Sound_steps__P2761_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_steps__P2761, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_steps__P2760(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 30;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 106; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_steps__P2760.info = {"start":4820,"length":64,"line":187,"column":8,"endLine":189,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"steps","argumentNames":["this"]}
soundExpression_Sound_steps__P2760.isGetter = true;

function soundExpression_Sound_steps__P2760_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_steps__P2760, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_shape__P2755(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 13;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 2;
    s.callLocIdx = 100; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_shape__P2755.info = {"start":4351,"length":90,"line":167,"column":8,"endLine":169,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"shape","argumentNames":["this","value"]}

function soundExpression_Sound_shape__P2755_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_shape__P2755, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_shape__P2754(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 13;
    s.tmp_0.arg2 = 2;
    s.callLocIdx = 99; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_shape__P2754.info = {"start":4256,"length":85,"line":163,"column":8,"endLine":165,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"shape","argumentNames":["this"]}
soundExpression_Sound_shape__P2754.isGetter = true;

function soundExpression_Sound_shape__P2754_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_shape__P2754, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_fx__P2763(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 34;
    s.tmp_1 = Math_constrain__P11_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = 3;
    s.callLocIdx = 109; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 2;
    s.callLocIdx = 110; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_fx__P2763.info = {"start":5075,"length":111,"line":199,"column":8,"endLine":201,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fx","argumentNames":["this","value"]}

function soundExpression_Sound_fx__P2763_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fx__P2763, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_fx__P2762(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 34;
    s.tmp_0.arg2 = 2;
    s.callLocIdx = 108; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_fx__P2762.info = {"start":4981,"length":84,"line":195,"column":8,"endLine":197,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"fx","argumentNames":["this"]}
soundExpression_Sound_fx__P2762.isGetter = true;

function soundExpression_Sound_fx__P2762_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_fx__P2762, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_duration__P2753(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 9;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 98; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_duration__P2753.info = {"start":4167,"length":79,"line":159,"column":8,"endLine":161,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"duration","argumentNames":["this","value"]}

function soundExpression_Sound_duration__P2753_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_duration__P2753, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_duration__P2752(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 9;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 97; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_duration__P2752.info = {"start":4091,"length":66,"line":155,"column":8,"endLine":157,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"duration","argumentNames":["this"]}
soundExpression_Sound_duration__P2752.isGetter = true;

function soundExpression_Sound_duration__P2752_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_duration__P2752, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_endVolume__P2759(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 26;
    s.tmp_1 = Math_constrain__P11_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = 1023;
    s.callLocIdx = 104; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 105; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_endVolume__P2759.info = {"start":4704,"length":106,"line":183,"column":8,"endLine":185,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"endVolume","argumentNames":["this","value"]}

function soundExpression_Sound_endVolume__P2759_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_endVolume__P2759, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_endVolume__P2758(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 26;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 103; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_endVolume__P2758.info = {"start":4626,"length":68,"line":179,"column":8,"endLine":181,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"endVolume","argumentNames":["this"]}
soundExpression_Sound_endVolume__P2758.isGetter = true;

function soundExpression_Sound_endVolume__P2758_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_endVolume__P2758, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_endFrequency__P2757(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 18;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 102; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_endFrequency__P2757.info = {"start":4532,"length":84,"line":175,"column":8,"endLine":177,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"endFrequency","argumentNames":["this","value"]}

function soundExpression_Sound_endFrequency__P2757_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_endFrequency__P2757, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_endFrequency__P2756(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 18;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 101; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_endFrequency__P2756.info = {"start":4451,"length":71,"line":171,"column":8,"endLine":173,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"endFrequency","argumentNames":["this"]}
soundExpression_Sound_endFrequency__P2756.isGetter = true;

function soundExpression_Sound_endFrequency__P2756_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_endFrequency__P2756, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_volume__P2749(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_1 = Math_constrain__P11_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = 1023;
    s.callLocIdx = 93; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 94; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_volume__P2749.info = {"start":3812,"length":102,"line":143,"column":8,"endLine":145,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"volume","argumentNames":["this","value"]}

function soundExpression_Sound_volume__P2749_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_volume__P2749, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_volume__P2748(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 92; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_volume__P2748.info = {"start":3738,"length":64,"line":139,"column":8,"endLine":141,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"volume","argumentNames":["this"]}
soundExpression_Sound_volume__P2748.isGetter = true;

function soundExpression_Sound_volume__P2748_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_volume__P2748, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_frequency__P2751(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 5;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = 4;
    s.callLocIdx = 96; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_frequency__P2751.info = {"start":4001,"length":80,"line":151,"column":8,"endLine":153,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"frequency","argumentNames":["this","value"]}

function soundExpression_Sound_frequency__P2751_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_frequency__P2751, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_frequency__P2750(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 5;
    s.tmp_0.arg2 = 4;
    s.callLocIdx = 95; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_frequency__P2750.info = {"start":3924,"length":67,"line":147,"column":8,"endLine":149,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"frequency","argumentNames":["this"]}
soundExpression_Sound_frequency__P2750.isGetter = true;

function soundExpression_Sound_frequency__P2750_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_frequency__P2750, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_wave__P2747(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_setValue__P4838_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.tmp_1 = Math_constrain__P11_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = 4;
    s.callLocIdx = 90; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.callLocIdx = 91; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_wave__P2747.info = {"start":3628,"length":100,"line":135,"column":8,"endLine":137,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"wave","argumentNames":["this","value"]}

function soundExpression_Sound_wave__P2747_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_wave__P2747, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function soundExpression_Sound_wave__P2746(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    s.tmp_0 = soundExpression_Sound_getValue__P4839_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 1;
    s.callLocIdx = 89; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
soundExpression_Sound_wave__P2746.info = {"start":3545,"length":73,"line":131,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"wave","argumentNames":["this"]}
soundExpression_Sound_wave__P2746.isGetter = true;

function soundExpression_Sound_wave__P2746_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_wave__P2746, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function soundExpression_Sound_constructor__P2745(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, soundExpression_Sound__C2743_VT)) failedCast(r0);
    r0 = (s.arg0).fields["src"] = ("000000000000000000000000000000000000000000000000000000000000000000000000");
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
soundExpression_Sound_constructor__P2745.info = {"start":3412,"length":123,"line":127,"column":8,"endLine":129,"endColumn":9,"fileName":"pxt_modules/core/soundexpressions.ts","functionName":"inline","argumentNames":["this"]}

function soundExpression_Sound_constructor__P2745_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: soundExpression_Sound_constructor__P2745, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function music_beat__P2541(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.beat___13305 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_init__P4774_mk(s);
    s.callLocIdx = 47; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = (s.arg0 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg0 = (1);
  case 1:
  case 2:
    r0 = pxsim.Math_.idiv(60000, globals.beatsPerMinute___4768);
    s.beat___13305 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(32, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(64, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 3:
    r0 = (s.beat___13305 >> 1);
    { step = 10; continue; }
  case 4:
    r0 = (s.beat___13305 >> 2);
    { step = 10; continue; }
  case 5:
    r0 = (s.beat___13305 >> 3);
    { step = 10; continue; }
  case 6:
    r0 = (s.beat___13305 >> 4);
    { step = 10; continue; }
  case 7:
    r0 = (s.beat___13305 << 1);
    { step = 10; continue; }
  case 8:
    r0 = (s.beat___13305 << 2);
    { step = 10; continue; }
  case 9:
    r0 = s.beat___13305;
    { step = 10; continue; }
    r0 = undefined;
  case 10:
    return leave(s, r0)
  default: oops()
} } }
music_beat__P2541.info = {"start":8033,"length":600,"line":258,"column":4,"endLine":271,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"beat","argumentNames":["fraction"]}

function music_beat__P2541_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_beat__P2541, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  beat___13305: undefined,
  arg0: undefined,
} }





function machine_MicrobitMachine_playTone__P5379(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_MicrobitMachine__C5375_VT)) failedCast(r0);
    r0 = (s.arg0).fields["tone"] = (s.arg1);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.EVENT_TONE___4644;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1083; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_playTone__P5379.info = {"start":2046,"length":107,"line":67,"column":8,"endLine":70,"endColumn":9,"fileName":"runtime.ts","functionName":"playTone","argumentNames":["this","tone"]}

function machine_MicrobitMachine_playTone__P5379_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_playTone__P5379, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ButtonClient_onDown__P3699(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ButtonClient__C3691_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 922; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_onDown__P3699.info = {"start":3998,"length":110,"line":122,"column":8,"endLine":124,"endColumn":9,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"onDown","argumentNames":["this","handler"]}

function modules_ButtonClient_onDown__P3699_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_onDown__P3699, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ButtonClient_onUp__P3700(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ButtonClient__C3691_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 923; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_onUp__P3700.info = {"start":4342,"length":106,"line":131,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"onUp","argumentNames":["this","handler"]}

function modules_ButtonClient_onUp__P3700_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_onUp__P3700, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ButtonClient_constructor__P3692(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ButtonClient__C3691_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    r0 = (s.arg0).fields["_pressed"] = (false);
    r0 = (s.arg0).fields["_holdDuration"] = (0);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 343122531;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = "u0.16";
    s.callLocIdx = 915; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384;
    s.tmp_2.arg2 = globals.Analog___3681;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 916; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_analog"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(1, modules_ButtonClient_inline__P13369);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = globals.EVENT___3403;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 918; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_constructor__P3692.info = {"start":381,"length":418,"line":10,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_ButtonClient_constructor__P3692_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_constructor__P3692, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_ButtonClient_inline__P13369(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = modules_ButtonClient_handleEvent__P5114_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 917; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_inline__P13369.info = {"start":760,"length":28,"line":20,"column":34,"endLine":20,"endColumn":62,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"inline","argumentNames":["pkt"]}

function modules_ButtonClient_inline__P13369_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_inline__P13369, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_ButtonClient_handleEvent__P5114(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.code___13375 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_ButtonClient__C3691_VT)) failedCast(r0);
    s.tmp_0 = jacdac_JDPacket_eventCode__P2904_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 919; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.code___13375 = (r0);
    s.tmp_0 = r0 = s.code___13375;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(129, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 1:
    r0 = (s.arg0).fields["_pressed"] = (false);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_intData__P2911_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 920; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_holdDuration"] = (s.tmp_1);
    { step = 4; continue; }
  case 2:
    r0 = (s.arg0).fields["_pressed"] = (true);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_intData__P2911_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 921; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_holdDuration"] = (s.tmp_1);
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0).fields["_pressed"] = (true);
    r0 = (s.arg0).fields["_holdDuration"] = (0);
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_ButtonClient_handleEvent__P5114.info = {"start":809,"length":621,"line":23,"column":8,"endLine":39,"endColumn":9,"fileName":"pxt_modules/jacdac-button/client.ts","functionName":"handleEvent","argumentNames":["this","pkt"]}

function modules_ButtonClient_handleEvent__P5114_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_ButtonClient_handleEvent__P5114, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  code___13375: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_intData__P2911(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    s.tmp_0 = jacdac_intOfBuffer__P2930_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 211; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_intData__P2911.info = {"start":6691,"length":68,"line":208,"column":8,"endLine":210,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"intData","argumentNames":["this"]}
jacdac_JDPacket_intData__P2911.isGetter = true;

function jacdac_JDPacket_intData__P2911_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_intData__P2911, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_intOfBuffer__P2930(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.fmt___13407 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_2);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_2);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_2);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 3:
  case 4:
    s.fmt___13407 = (1);
    { step = 8; continue; }
  case 5:
  case 6:
    s.fmt___13407 = (3);
    { step = 8; continue; }
  case 7:
    s.fmt___13407 = (5);
  case 8:
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___13407, 0);
  case 9:
    return leave(s, r0)
  default: oops()
} } }
jacdac_intOfBuffer__P2930.info = {"start":12997,"length":497,"line":403,"column":4,"endLine":420,"endColumn":5,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"intOfBuffer","argumentNames":["data"]}

function jacdac_intOfBuffer__P2930_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_intOfBuffer__P2930, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  fmt___13407: undefined,
  arg0: undefined,
} }





function modules_BuzzerClient_playTone__P3719(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BuzzerClient__C3717_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_sendCommand__P3517_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_1.arg0 = 128;
    s.tmp_2 = modules_tonePayload__P5118_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg2;
    r0 = (s.arg3 << 2);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 927; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 928; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 929; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BuzzerClient_playTone__P3719.info = {"start":946,"length":278,"line":27,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/jacdac-buzzer/client.ts","functionName":"playTone","argumentNames":["this","frequency","ms","volume"]}

function modules_BuzzerClient_playTone__P3719_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BuzzerClient_playTone__P3719, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function modules_tonePayload__P5118(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.period___13436 = undefined;
    s.duty___13440 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.idiv(1000000, s.arg0);
    s.period___13436 = (r0);
    r0 = (s.period___13436 * s.arg2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 11);
    s.duty___13440 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.period___13436);
    r0 = pxsim_Array__push(s.tmp_0, s.duty___13440);
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = jacdac_jdpack__P2934_mk(s);
    s.tmp_1.arg0 = "u16 u16 u16";
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 925; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_tonePayload__P5118.info = {"start":24,"length":310,"line":1,"column":4,"endLine":9,"endColumn":5,"fileName":"pxt_modules/jacdac-buzzer/client.ts","functionName":"tonePayload","argumentNames":["frequency","ms","volume"]}

function modules_tonePayload__P5118_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_tonePayload__P5118, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  period___13436: undefined,
  duty___13440: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_BuzzerClient_constructor__P3718(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BuzzerClient__C3717_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 458731991;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 926; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BuzzerClient_constructor__P3718.info = {"start":421,"length":80,"line":13,"column":8,"endLine":15,"endColumn":9,"fileName":"pxt_modules/jacdac-buzzer/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_BuzzerClient_constructor__P3718_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BuzzerClient_constructor__P3718, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_BrailleDisplayClient_showNumber__P3665(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BrailleDisplayClient__C3662_VT)) failedCast(r0);
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 906; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = "?";
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops.toString(s.arg1);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = modules_BrailleDisplayClient_showString__P3664_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.tmp_2;
    s.callLocIdx = 907; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BrailleDisplayClient_showNumber__P3665.info = {"start":2765,"length":104,"line":72,"column":8,"endLine":74,"endColumn":9,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"showNumber","argumentNames":["this","value"]}

function modules_BrailleDisplayClient_showNumber__P3665_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BrailleDisplayClient_showNumber__P3665, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_BrailleDisplayClient_showString__P3664(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.brailled___13466 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BrailleDisplayClient__C3662_VT)) failedCast(r0);
    s.tmp_0 = modules_brailify__P3661_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 903; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.brailled___13466 = (r0);
    s.tmp_0 = modules_BrailleDisplayClient_setPatterns__P3669_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.brailled___13466;
    s.callLocIdx = 904; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = modules_BrailleDisplayClient_setEnabled__P3667_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 905; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BrailleDisplayClient_showString__P3664.info = {"start":2340,"length":163,"line":59,"column":8,"endLine":63,"endColumn":9,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"showString","argumentNames":["this","text"]}

function modules_BrailleDisplayClient_showString__P3664_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BrailleDisplayClient_showString__P3664, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  brailled___13466: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_BrailleDisplayClient_setEnabled__P3667(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___13477 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BrailleDisplayClient__C3662_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 908; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_enabled"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 909; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.values___13477 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.values___13477, 0, s.tmp_0);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_enabled"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___13477;
    s.callLocIdx = 910; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BrailleDisplayClient_setEnabled__P3667.info = {"start":3546,"length":213,"line":97,"column":8,"endLine":102,"endColumn":9,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"setEnabled","argumentNames":["this","value"]}

function modules_BrailleDisplayClient_setEnabled__P3667_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BrailleDisplayClient_setEnabled__P3667, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___13477: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_BrailleDisplayClient_setPatterns__P3669(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___13494 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BrailleDisplayClient__C3662_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 911; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = modules_BrailleDisplayClient_setEnabled__P3667_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 912; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_values__P3483_mk(s);
    r0 = s.arg0.fields["_patterns"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 913; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.values___13494 = (r0);
    r0 = pxsim_Array_.setAt(s.values___13494, 0, s.arg1);
    s.tmp_0 = jacdac_RegisterClient_values__P3484_mk(s);
    r0 = s.arg0.fields["_patterns"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.values___13494;
    s.callLocIdx = 914; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BrailleDisplayClient_setPatterns__P3669.info = {"start":4298,"length":240,"line":121,"column":8,"endLine":127,"endColumn":9,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"setPatterns","argumentNames":["this","value"]}

function modules_BrailleDisplayClient_setPatterns__P3669_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BrailleDisplayClient_setPatterns__P3669, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___13494: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_brailify__P3661(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.braille_ascii___13510 = undefined;
    s.a0___13512 = undefined;
    s.an___13516 = undefined;
    s.r___13519 = undefined;
    s.su___13520 = undefined;
    s.i___13524 = undefined;
    s.c___13530 = undefined;
    s.ai___13535 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_String_.mkEmpty();
    { step = 11; continue; }
  case 1:
  case 2:
    s.braille_ascii___13510 = ("⠀⠮⠐⠼⠫⠩⠯⠄⠷⠾⠡⠬⠠⠤⠨⠌⠴⠂⠆⠒⠲⠢⠖⠶⠦⠔⠱⠰⠣⠿⠜⠹⠈⠁⠃⠉⠙⠑⠋⠛⠓⠊⠚⠅⠇⠍⠝⠕⠏⠟⠗⠎⠞⠥⠧⠺⠭⠽⠵⠪⠳⠻⠘⠸");
    r0 = pxsim_String_.charCodeAt(" ", 0);
    s.a0___13512 = (r0);
    r0 = pxsim_String_.length(s.braille_ascii___13510);
    s.an___13516 = (r0);
    r0 = pxsim_String_.mkEmpty();
    s.r___13519 = (r0);
    s.tmp_0 = helpers_stringToUpperCase__P2011_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 898; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.su___13520 = (r0);
    s.i___13524 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___13524;
    r0 = pxsim_String_.length(s.su___13520);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_String_.charCodeAt(s.su___13520, s.i___13524);
    s.c___13530 = (r0);
    r0 = (s.c___13530 - s.a0___13512);
    s.ai___13535 = (r0);
    r0 = (s.c___13530 >= 10240);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___13530 <= 10495);
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 6; continue; }
    if ((s.r___13519) && (s.r___13519).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.r___13519);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___13519) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String_.fromCharCode(s.c___13530);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.r___13519 = (r0);
    { step = 9; continue; }
  case 6:
    r0 = (s.ai___13535 < s.an___13516);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    if ((s.r___13519) && (s.r___13519).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___13519);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___13519) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String_.charAt(s.braille_ascii___13510, s.ai___13535);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);
    s.r___13519 = (r0);
    { step = 8; continue; }
  case 7:
    if ((s.r___13519) && (s.r___13519).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___13519);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___13519) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___13519 = (r0);
  case 8:
  case 9:
    r0 = (s.i___13524 + 1);
    s.i___13524 = (r0);
    { step = 3; continue; }
  case 10:
    r0 = s.r___13519;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
modules_brailify__P3661.info = {"start":122,"length":652,"line":4,"column":4,"endLine":22,"endColumn":5,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"brailify","argumentNames":["s"]}

function modules_brailify__P3661_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_brailify__P3661, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  braille_ascii___13510: undefined,
  a0___13512: undefined,
  an___13516: undefined,
  r___13519: undefined,
  su___13520: undefined,
  i___13524: undefined,
  c___13530: undefined,
  ai___13535: undefined,
  arg0: undefined,
} }





function helpers_stringToUpperCase__P2011(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___13575 = undefined;
    s.prev___13576 = undefined;
    s.i___13577 = undefined;
    s.c___13583 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.mkEmpty();
    s.r___13575 = (r0);
    s.prev___13576 = (0);
    s.i___13577 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___13577;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___13577);
    s.c___13583 = (r0);
    r0 = (97 <= s.c___13583);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___13583 <= 122);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    if ((s.r___13575) && (s.r___13575).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.r___13575);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___13575) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    s.tmp_7 = helpers_stringSlice__P2010_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.prev___13576;
    s.tmp_7.arg2 = s.i___13577;
    s.callLocIdx = 13; s.pc = 8; return s.tmp_7;
  case 8:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.c___13583 - 32);
    s.tmp_10 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.r___13575 = (r0);
    r0 = (s.i___13577 + 1);
    s.prev___13576 = (r0);
  case 4:
  case 5:
    r0 = (s.i___13577 + 1);
    s.i___13577 = (r0);
    { step = 1; continue; }
  case 6:
    if ((s.r___13575) && (s.r___13575).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.r___13575);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___13575) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = helpers_stringSlice__P2010_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.prev___13576;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 14; s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___13575 = (r0);
    r0 = s.r___13575;
    return leave(s, r0)
  default: oops()
} } }
helpers_stringToUpperCase__P2011.info = {"start":12038,"length":387,"line":405,"column":4,"endLine":417,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"stringToUpperCase","argumentNames":["s"]}

function helpers_stringToUpperCase__P2011_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringToUpperCase__P2011, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  r___13575: undefined,
  prev___13576: undefined,
  i___13577: undefined,
  c___13583: undefined,
  arg0: undefined,
} }





function machine_MicrobitMachine_onClient__P5377(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.unsub___13632 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_MicrobitMachine__C5375_VT)) failedCast(r0);
    s.tmp_0 = jacdac_EventSource_subscribe__P3581_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg2;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 1078; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.unsub___13632 = (r0);
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = globals.DISCONNECT___3392;
    s.tmp_0.arg2 = s.unsub___13632;
    s.callLocIdx = 1079; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_onClient__P5377.info = {"start":1194,"length":247,"line":38,"column":8,"endLine":45,"endColumn":9,"fileName":"runtime.ts","functionName":"onClient","argumentNames":["this","client","eventName","handler"]}

function machine_MicrobitMachine_onClient__P5377_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_onClient__P5377, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  unsub___13632: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function modules_BrailleDisplayClient_constructor__P3663(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_BrailleDisplayClient__C3662_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    s.tmp_4 = jacdac_Client_constructor__P3502_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 331331532;
    s.tmp_4.arg2 = s.arg1;
    s.callLocIdx = 899; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 1;
    s.tmp_2.arg2 = globals.Enabled___3657;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 900; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_enabled"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 2;
    s.tmp_2.arg2 = globals.Patterns___3658;
    s.tmp_2.arg3 = undefined;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 901; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_patterns"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 385;
    s.tmp_2.arg2 = globals.Length___3659;
    s.tmp_2.arg3 = 2;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 902; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_length"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_BrailleDisplayClient_constructor__P3663.info = {"start":1300,"length":660,"line":33,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/jacdac-braille-display/client.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_BrailleDisplayClient_constructor__P3663_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_BrailleDisplayClient_constructor__P3663, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_showNumber__P4653(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(globals.numbersToShow___5389);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = machine_flushNumbers__P5390_mk(s);
    s.callLocIdx = 1103; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(1, machine_showNumber_inline__P13680);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_4 = helpers_arrayFind__P2002_mk(s);
    s.tmp_4.arg0 = globals.numbersToShow___5389;
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 1104; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(machine_NumberToShow__C5387_VT);
    s.tmp_5 = r0;
    s.tmp_6 = machine_NumberToShow_constructor__P5388_mk(s);
    s.tmp_6.arg0 = s.tmp_5;
    s.tmp_6.arg1 = s.arg0;
    s.tmp_6.arg2 = s.arg1;
    s.callLocIdx = 1105; s.pc = 7; return s.tmp_6;
  case 7:
    r0 = s.retval;
    r0 = pxsim_Array__push(globals.numbersToShow___5389, s.tmp_5);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_showNumber__P4653.info = {"start":4907,"length":229,"line":164,"column":4,"endLine":168,"endColumn":5,"fileName":"runtime.ts","functionName":"showNumber","argumentNames":["icon","x"]}

function machine_showNumber__P4653_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_showNumber__P4653, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_showNumber_inline__P13680(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["icon"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
machine_showNumber_inline__P13680.info = {"start":5050,"length":20,"line":166,"column":32,"endLine":166,"endColumn":52,"fileName":"runtime.ts","functionName":"inline","argumentNames":["n"]}

function machine_showNumber_inline__P13680_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_showNumber_inline__P13680, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function machine_NumberToShow_constructor__P5388(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_NumberToShow__C5387_VT)) failedCast(r0);
    r0 = (s.arg0).fields["icon"] = (s.arg1);
    r0 = (s.arg0).fields["x"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_NumberToShow_constructor__P5388.info = {"start":4275,"length":56,"line":143,"column":8,"endLine":143,"endColumn":64,"fileName":"runtime.ts","functionName":"inline","argumentNames":["this","icon","x"]}

function machine_NumberToShow_constructor__P5388_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_NumberToShow_constructor__P5388, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function machine_flushNumbers__P5390(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = control_runInBackground__P2296_mk(s);
    s.tmp_0.arg0 = machine_flushNumbers_inline__P13699;
    s.callLocIdx = 1102; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_flushNumbers__P5390.info = {"start":4388,"length":513,"line":147,"column":4,"endLine":162,"endColumn":5,"fileName":"runtime.ts","functionName":"flushNumbers","argumentNames":[]}

function machine_flushNumbers__P5390_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_flushNumbers__P5390, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_flushNumbers_inline__P13699(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.n___13704 = undefined;
    s.icon___13708 = undefined;
    s.x___13711 = undefined;
  case 1:
    r0 = pxsim_Array__length(globals.numbersToShow___5389);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array_.pop(globals.numbersToShow___5389);
    s.n___13704 = (r0);
    r0 = s.n___13704.fields["icon"];
    s.icon___13708 = (r0);
    r0 = s.n___13704.fields["x"];
    s.x___13711 = (r0);
    r0 = pxsim.led.stopAnimation();
    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = s.icon___13708;
    s.tmp_0.arg1 = 700;
    s.callLocIdx = 1099; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = (s.x___13711 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.x___13711 > 99);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = basic_showNumber__P2225_mk(s);
    s.tmp_2.arg0 = s.x___13711;
    s.tmp_2.arg1 = 150;
    s.callLocIdx = 1100; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    { step = 5; continue; }
  case 4:
    s.tmp_0 = whaleysans_showNumber__P4639_mk(s);
    s.tmp_0.arg0 = s.x___13711;
    s.callLocIdx = 1101; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    setupResume(s, 10);
    pxsim.basic.pause(700);
    checkResumeConsumed();
    return;
  case 10:
    r0 = s.retval;
  case 5:
    { step = 1; continue; }
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_flushNumbers_inline__P13699.info = {"start":4446,"length":448,"line":148,"column":32,"endLine":161,"endColumn":9,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_flushNumbers_inline__P13699_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_flushNumbers_inline__P13699, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  n___13704: undefined,
  icon___13708: undefined,
  x___13711: undefined,
} }





function whaleysans_showNumber__P4639(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.a___13734 = undefined;
    s.b___13740 = undefined;
    s.i___13744 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg0 = (0);
  case 1:
  case 2:
    s.tmp_0 = r0 = globals.FONT___5362;
    r0 = pxsim.Math_.idiv(s.arg0, 10);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 % 10);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.a___13734 = (r0);
    s.tmp_0 = r0 = globals.FONT___5362;
    r0 = (s.arg0 % 10);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.b___13740 = (r0);
    s.i___13744 = (0);
  case 3:
    r0 = (s.i___13744 < 5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = r0 = globals.img___5364;
    s.tmp_2 = r0 = s.i___13744;
    s.tmp_5 = r0 = s.a___13734;
    r0 = (s.i___13744 * 2);
    s.tmp_6 = r0;
    r0 = pxsim_Array__getAt(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = (1 == s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_1, 0, s.tmp_2, s.tmp_3);
    s.tmp_0 = r0 = globals.img___5364;
    s.tmp_1 = r0 = s.i___13744;
    s.tmp_4 = r0 = s.a___13734;
    r0 = (s.i___13744 * 2);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = (1 == s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, 1, s.tmp_1, s.tmp_2);
    s.tmp_0 = r0 = globals.img___5364;
    s.tmp_1 = r0 = s.i___13744;
    s.tmp_4 = r0 = s.b___13740;
    r0 = (s.i___13744 * 2);
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = (1 == s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, 3, s.tmp_1, s.tmp_2);
    s.tmp_0 = r0 = globals.img___5364;
    s.tmp_1 = r0 = s.i___13744;
    s.tmp_4 = r0 = s.b___13740;
    r0 = (s.i___13744 * 2);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = (1 == s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, 4, s.tmp_1, s.tmp_2);
    r0 = (s.i___13744 + 1);
    s.i___13744 = (r0);
    { step = 3; continue; }
  case 4:
    setupResume(s, 5);
    pxsim_ImageMethods.showImage(globals.img___5364, 0, 10);
    checkResumeConsumed();
    return;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
whaleysans_showNumber__P4639.info = {"start":963,"length":441,"line":35,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/whaleysans/WhaleySansFont.ts","functionName":"showNumber","argumentNames":["dat"]}

function whaleysans_showNumber__P4639_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: whaleysans_showNumber__P4639, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  a___13734: undefined,
  b___13740: undefined,
  i___13744: undefined,
  arg0: undefined,
} }





function basic_showNumber__P2225(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = isNaN__P1984_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 23; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    setupResume(s, 4);
    pxsim.basic.showString("?", 150);
    checkResumeConsumed();
    return;
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = Math_roundWithPrecision__P2023_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 2;
    s.callLocIdx = 24; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops.toString(s.tmp_1);
    s.tmp_0 = r0;
    setupResume(s, 6);
    pxsim.basic.showString(s.tmp_0, s.arg1);
    checkResumeConsumed();
    return;
  case 6:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
basic_showNumber__P2225.info = {"start":396,"length":215,"line":11,"column":4,"endLine":16,"endColumn":5,"fileName":"pxt_modules/core/basic.ts","functionName":"showNumber","argumentNames":["value","interval"]}

function basic_showNumber__P2225_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: basic_showNumber__P2225, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_roundWithPrecision__P2023(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___13834 = undefined;
    s.d___13836 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 | 0);
    s.arg1 = (r0);
    r0 = (s.arg1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.Math_.round(s.arg0);
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = (s.arg0 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 9; continue; }
  case 3:
  case 4:
    s.r___13834 = (0);
  case 5:
    r0 = pxsim.Math_.pow(10, s.arg1);
    s.d___13836 = (r0);
    r0 = (s.arg0 * s.d___13836);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.round(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / s.d___13836);
    s.r___13834 = (r0);
    r0 = (s.arg1 + 1);
    s.arg1 = (r0);
    r0 = (s.r___13834 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.arg1 < 21);
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    { step = 5; continue; }
  case 8:
    r0 = s.r___13834;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
Math_roundWithPrecision__P2023.info = {"start":17070,"length":411,"line":576,"column":4,"endLine":588,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"roundWithPrecision","argumentNames":["x","digits"]}

function Math_roundWithPrecision__P2023_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_roundWithPrecision__P2023, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  r___13834: undefined,
  d___13836: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AirPressureClient_pressure__P3646(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AirPressureClient__C3644_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_reading__P3231_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 896; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
modules_AirPressureClient_pressure__P3646.info = {"start":957,"length":64,"line":30,"column":8,"endLine":32,"endColumn":9,"fileName":"pxt_modules/jacdac-air-pressure/client.g.ts","functionName":"pressure","argumentNames":["this"]}

function modules_AirPressureClient_pressure__P3646_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AirPressureClient_pressure__P3646, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_AirPressureClient_onPressureChangedBy__P3648(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AirPressureClient__C3644_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SimpleSensorClient_onReadingChangedBy__P3232_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 897; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AirPressureClient_onPressureChangedBy__P3648.info = {"start":1784,"length":133,"line":56,"column":8,"endLine":58,"endColumn":9,"fileName":"pxt_modules/jacdac-air-pressure/client.g.ts","functionName":"onPressureChangedBy","argumentNames":["this","threshold","handler"]}

function modules_AirPressureClient_onPressureChangedBy__P3648_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AirPressureClient_onPressureChangedBy__P3648, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function modules_AirPressureClient_constructor__P3645(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AirPressureClient__C3644_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SimpleSensorClient_constructor__P3230_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 504462570;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Pressure___3641;
    s.callLocIdx = 894; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.PressureError___3642;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 895; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_pressureError"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AirPressureClient_constructor__P3645.info = {"start":287,"length":423,"line":8,"column":8,"endLine":20,"endColumn":9,"fileName":"pxt_modules/jacdac-air-pressure/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_AirPressureClient_constructor__P3645_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AirPressureClient_constructor__P3645, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AccelerometerClient_onTiltDown__P3623(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 130;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 889; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onTiltDown__P3623.info = {"start":4912,"length":125,"line":151,"column":8,"endLine":153,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onTiltDown","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onTiltDown__P3623_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onTiltDown__P3623, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AccelerometerClient_onTiltUp__P3622(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 129;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 888; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onTiltUp__P3622.info = {"start":4635,"length":121,"line":143,"column":8,"endLine":145,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onTiltUp","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onTiltUp__P3622_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onTiltUp__P3622, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AccelerometerClient_onTiltRight__P3625(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 132;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 891; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onTiltRight__P3625.info = {"start":5474,"length":127,"line":167,"column":8,"endLine":169,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onTiltRight","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onTiltRight__P3625_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onTiltRight__P3625, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function basic_showArrow__P2280(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___13897 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = images_arrowImage__P2282_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 27; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.res___13897 = (r0);
    setupResume(s, 2);
    pxsim_ImageMethods.showImage(s.res___13897, 0, s.arg1);
    checkResumeConsumed();
    return;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
basic_showArrow__P2280.info = {"start":5463,"length":150,"line":200,"column":4,"endLine":203,"endColumn":5,"fileName":"pxt_modules/core/icons.ts","functionName":"showArrow","argumentNames":["direction","interval"]}

function basic_showArrow__P2280_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: basic_showArrow__P2280, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  res___13897: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function images_arrowImage__P2282(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 1:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,255,255,255,0,255,0,255,0,255,0,0,255,0,0,0,0,255,0,0,0]));
    { step = 10; continue; }
  case 2:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,255,255,0,0,0,255,255,0,0,255,0,255,0,255,0,0,0,255,0,0,0,0,0]));
    { step = 10; continue; }
  case 3:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,0,0,255,0,255,255,255,255,255,0,0,0,255,0,0,0,255,0,0,0]));
    { step = 10; continue; }
  case 4:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,0,0,255,0,0,0,0,0,255,0,255,0,0,0,255,255,0,0,255,255,255,0]));
    { step = 10; continue; }
  case 5:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,0,255,0,0,255,0,255,0,255,0,255,255,255,0,0,0,255,0,0,0]));
    { step = 10; continue; }
  case 6:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,255,0,0,0,255,0,255,0,255,0,0,255,255,0,0,0,255,255,255,0,0,0]));
    { step = 10; continue; }
  case 7:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,255,0,0,0,255,255,255,255,255,0,255,0,0,0,0,0,255,0,0,0]));
    { step = 10; continue; }
  case 8:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,255,0,0,255,255,0,0,0,255,0,255,0,0,0,0,0,255,0,0,0,0,0,255,0]));
    { step = 10; continue; }
  case 9:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));
    { step = 10; continue; }
    r0 = undefined;
  case 10:
    return leave(s, r0)
  default: oops()
} } }
images_arrowImage__P2282.info = {"start":5762,"length":3006,"line":212,"column":4,"endLine":271,"endColumn":5,"fileName":"pxt_modules/core/icons.ts","functionName":"arrowImage","argumentNames":["i"]}

function images_arrowImage__P2282_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: images_arrowImage__P2282, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_AccelerometerClient_onTiltLeft__P3624(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 131;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 890; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onTiltLeft__P3624.info = {"start":5193,"length":125,"line":159,"column":8,"endLine":161,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onTiltLeft","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onTiltLeft__P3624_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onTiltLeft__P3624, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AccelerometerClient_onFaceUp__P3626(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 133;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 892; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onFaceUp__P3626.info = {"start":5762,"length":121,"line":175,"column":8,"endLine":177,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onFaceUp","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onFaceUp__P3626_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onFaceUp__P3626, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function basic_showIcon__P2279(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___13945 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = images_iconImage__P2283_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 26; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.res___13945 = (r0);
    setupResume(s, 2);
    pxsim_ImageMethods.showImage(s.res___13945, 0, s.arg1);
    checkResumeConsumed();
    return;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
basic_showIcon__P2279.info = {"start":4957,"length":141,"line":185,"column":4,"endLine":188,"endColumn":5,"fileName":"pxt_modules/core/icons.ts","functionName":"showIcon","argumentNames":["icon","interval"]}

function basic_showIcon__P2279_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: basic_showIcon__P2279, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  res___13945: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function images_iconImage__P2283(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(32, s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(33, s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(34, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = pxsim_pxtcore.switch_eq(35, s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq(36, s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = pxsim_pxtcore.switch_eq(37, s.tmp_0);
    if (r0) { step = 19; continue; }
    r0 = pxsim_pxtcore.switch_eq(38, s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = pxsim_pxtcore.switch_eq(39, s.tmp_0);
    if (r0) { step = 21; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 22; continue; }
    r0 = pxsim_pxtcore.switch_eq(14, s.tmp_0);
    if (r0) { step = 23; continue; }
    r0 = pxsim_pxtcore.switch_eq(15, s.tmp_0);
    if (r0) { step = 24; continue; }
    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);
    if (r0) { step = 25; continue; }
    r0 = pxsim_pxtcore.switch_eq(17, s.tmp_0);
    if (r0) { step = 26; continue; }
    r0 = pxsim_pxtcore.switch_eq(18, s.tmp_0);
    if (r0) { step = 27; continue; }
    r0 = pxsim_pxtcore.switch_eq(19, s.tmp_0);
    if (r0) { step = 28; continue; }
    r0 = pxsim_pxtcore.switch_eq(20, s.tmp_0);
    if (r0) { step = 29; continue; }
    r0 = pxsim_pxtcore.switch_eq(21, s.tmp_0);
    if (r0) { step = 30; continue; }
    r0 = pxsim_pxtcore.switch_eq(22, s.tmp_0);
    if (r0) { step = 31; continue; }
    r0 = pxsim_pxtcore.switch_eq(23, s.tmp_0);
    if (r0) { step = 32; continue; }
    r0 = pxsim_pxtcore.switch_eq(24, s.tmp_0);
    if (r0) { step = 33; continue; }
    r0 = pxsim_pxtcore.switch_eq(25, s.tmp_0);
    if (r0) { step = 34; continue; }
    r0 = pxsim_pxtcore.switch_eq(26, s.tmp_0);
    if (r0) { step = 35; continue; }
    r0 = pxsim_pxtcore.switch_eq(27, s.tmp_0);
    if (r0) { step = 36; continue; }
    r0 = pxsim_pxtcore.switch_eq(28, s.tmp_0);
    if (r0) { step = 37; continue; }
    r0 = pxsim_pxtcore.switch_eq(29, s.tmp_0);
    if (r0) { step = 38; continue; }
    r0 = pxsim_pxtcore.switch_eq(30, s.tmp_0);
    if (r0) { step = 39; continue; }
    r0 = pxsim_pxtcore.switch_eq(31, s.tmp_0);
    if (r0) { step = 40; continue; }
    r0 = s.tmp_0;
    { step = 41; continue; }
  case 1:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,0,255,0,255,255,255,255,255,255,255,255,255,255,0,255,255,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 2:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,0,255,0,0,255,255,255,0,0,0,255,0,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 3:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,0,255,0,0,0,0,0,0,255,0,0,0,255,0,255,255,255,0,0]));
    { step = 42; continue; }
  case 4:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,0,255,0,0,0,0,0,0,0,255,255,255,0,255,0,0,0,255,0]));
    { step = 42; continue; }
  case 5:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,0,255,0,0,0,0,0,0,0,255,0,255,0,255,0,255,0,255,0]));
    { step = 42; continue; }
  case 6:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,255,0,255,0,255,0,0,0,0,0,0,255,255,255,255,255,255,0,255,0,255,0]));
    { step = 42; continue; }
  case 7:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,255,255,0,255,255,0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 8:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,0,255,0,0,0,0,0,0,0,0,255,0,0,0,255,0,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 9:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,255,0,0,0,0,0,255,255,255,255,255,0,0,0,255,255,0,0,0,255,255,0]));
    { step = 42; continue; }
  case 10:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,255,255,255,255,255,0,255,255,0,0,0,0,0,0,255,0,255,0,0,255,255,255,0,0]));
    { step = 42; continue; }
  case 11:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,255,255,0,0,0,0,0,0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,0]));
    { step = 42; continue; }
  case 12:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,0,0,255,0,0,0,255,0,255,0,255,0,0,0,255,0,0,0,0]));
    { step = 42; continue; }
  case 13:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,255,0,255,0,255,0,0,0,255,0,0,0,255,0,255,0,255,0,0,0,255,0]));
    { step = 42; continue; }
  case 14:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,255,0,0,0,255,0,255,0,255,255,255,255,255,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 15:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,0,255,255,0,0,0,255,0,255,0,0,255,0,0,255,0,255,255,255,255,255,0]));
    { step = 42; continue; }
  case 16:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,255,0,0]));
    { step = 42; continue; }
  case 17:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,255,0,255,0,255,0,0,0,255,0,255,0,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 18:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,255,0,0,0,255,0,255,0,0,0,255,0,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 19:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,255,255,255,255,0,0,0,255,255,0,0,0,255,255,0,0,0,255,255,255,255,255,255,0]));
    { step = 42; continue; }
  case 20:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,255,255,0,0,255,0,255,0,0,255,255,255,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 21:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,0,255,255,255,0,255,0,0,0,255,0,0,255,255,0,255,0,255,255,0,0,255,0]));
    { step = 42; continue; }
  case 22:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,255,255,255,255,255,255,255,0,255,255,255,0,0,255,255,255,0,0,255,255,255,0,0]));
    { step = 42; continue; }
  case 23:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,255,0,255,0,0]));
    { step = 42; continue; }
  case 24:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,255,0,0,255,255,255,0,0,0,255,255,255,255,0,255,255,255,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 25:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,255,255,255,0,255,255,255,255,255,0,255,255,255,0,0,255,0,255,0,0]));
    { step = 42; continue; }
  case 26:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,255,255,255,0,255,255,255,255,255,0,255,0,255,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 27:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,255,255,255,255,255,255,255,0,0,255,0,0,255,255,255,255,255,255,255,0,255,255,0]));
    { step = 42; continue; }
  case 28:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,255,255,255,255,255,0,0,255,0,0,0,255,0,255,0,255,0,0,0,255,0]));
    { step = 42; continue; }
  case 29:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,255,255,0,255,0,255,0,255,255,255,255,255,255,255,255,255,255,255,255,0,255,0,255,0]));
    { step = 42; continue; }
  case 30:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,0,255,0,0,0,0,255,0,0,0,255,255,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 31:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,0,0,0,255,0,0,0,0,255,0,0,0,0,255,255,255,0,0,255,0,255,0,0]));
    { step = 42; continue; }
  case 32:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,255,255,0,255,0,255,0,255,255,255,255,255,255,0,255,255,255,0,0,255,255,255,0,0]));
    { step = 42; continue; }
  case 33:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,255,255,255,0,255,255,255,255,255,0,0,255,0,0,255,0,255,0,0,255,255,255,0,0,0]));
    { step = 42; continue; }
  case 34:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,255,0,0,0,255,255,0,255,255,0,255,0,255,0,0,255,255,255,0,0,0,0,0,0,0]));
    { step = 42; continue; }
  case 35:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,255,0,0,255,0,255,0,0,255,255,255,255,0,255,255,0,255,0,255,255,255,255,0,0]));
    { step = 42; continue; }
  case 36:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,0,0,255,255,0,0,0,255,255,255,255,255,255,0,255,255,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 37:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,0,255,0,0,0,0,255,0,0,255,255,255,0,0,255,255,255,0,0,0]));
    { step = 42; continue; }
  case 38:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,0,255,255,0,0,0,255,0,255,255,255,255,0,0,255,255,255,0,0,0]));
    { step = 42; continue; }
  case 39:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [255,0,255,0,255,255,0,255,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 40:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,255,0,0,0,255,255,255,0,255,255,0,255,255,0,255,255,255,0,0,0,255,0,0,0]));
    { step = 42; continue; }
  case 41:
    r0 = pxsim.images.createImage(new pxsim.Image(5, [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]));
    { step = 42; continue; }
    r0 = undefined;
  case 42:
    return leave(s, r0)
  default: oops()
} } }
images_iconImage__P2283.info = {"start":9027,"length":13275,"line":280,"column":4,"endLine":537,"endColumn":5,"fileName":"pxt_modules/core/icons.ts","functionName":"iconImage","argumentNames":["i"]}

function images_iconImage__P2283_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: images_iconImage__P2283, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_AccelerometerClient_onFaceDown__P3627(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_registerEvent__P4937_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 134;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 893; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_onFaceDown__P3627.info = {"start":6044,"length":125,"line":183,"column":8,"endLine":185,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"onFaceDown","argumentNames":["this","handler"]}

function modules_AccelerometerClient_onFaceDown__P3627_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_onFaceDown__P3627, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function modules_AccelerometerClient_constructor__P3613(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_AccelerometerClient__C3612_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["systemActive"] = (false);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["registers"] = (s.tmp_3);
    r0 = (s.arg0).fields["samples"] = (0);
    r0 = (s.arg0).fields["samplesExpiration"] = (0);
    r0 = (s.arg0).fields["lastSample"] = (0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_4 = jacdac_SensorClient_constructor__P3225_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 521405449;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = globals.Forces___3594;
    s.tmp_4.arg4 = 100;
    s.callLocIdx = 884; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 262;
    s.tmp_2.arg2 = globals.ForcesError___3595;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 885; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_forcesError"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 8;
    s.tmp_2.arg2 = globals.MaxForce___3596;
    s.tmp_2.arg3 = 1;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 886; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxForce"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Client_addRegister__P4934_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 266;
    s.tmp_2.arg2 = globals.MaxForcesSupported___3597;
    s.tmp_2.arg3 = 3;
    s.tmp_2.arg4 = undefined;
    s.callLocIdx = 887; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_maxForcesSupported"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
modules_AccelerometerClient_constructor__P3613.info = {"start":397,"length":963,"line":10,"column":8,"endLine":33,"endColumn":9,"fileName":"pxt_modules/jacdac-accelerometer/client.g.ts","functionName":"inline","argumentNames":["this","role"]}

function modules_AccelerometerClient_constructor__P3613_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_AccelerometerClient_constructor__P3613, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_addClientFactory__P4657(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devices___14133 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_log__P2381_mk(s);
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("modules: register ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1121; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(machine_ClientFactory__C5406_VT);
    s.tmp_0 = r0;
    s.tmp_1 = machine_ClientFactory_constructor__P5407_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.callLocIdx = 1122; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_Array__push(globals.factories___5408, s.tmp_0);
    r0 = globals.bus___3430.fields["devices"];
    s.devices___14133 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.devices___14133);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_arrayForEach__P2000_mk(s);
    s.tmp_0.arg0 = s.devices___14133;
    s.tmp_0.arg1 = machine_startClients__P5410;
    s.callLocIdx = 1123; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_addClientFactory__P4657.info = {"start":7057,"length":483,"line":229,"column":4,"endLine":243,"endColumn":5,"fileName":"runtime.ts","functionName":"addClientFactory","argumentNames":["serviceClass","handler"]}

function machine_addClientFactory__P4657_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_addClientFactory__P4657, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  devices___14133: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_startClients__P5410(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___14147 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = machine_ignoreDevice__P4656_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1128; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["clients"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__length(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    s.i___14147 = (1);
  case 3:
    s.tmp_1 = r0 = s.i___14147;
    r0 = s.arg0.fields["services"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_5 = machine_startClient__P5409_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = s.i___14147;
    s.callLocIdx = 1130; s.pc = 9; return s.tmp_5;
  case 9:
    r0 = s.retval;
    r0 = (s.i___14147 + 1);
    s.i___14147 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_startClients__P5410.info = {"start":8302,"length":324,"line":266,"column":4,"endLine":273,"endColumn":5,"fileName":"runtime.ts","functionName":"startClients","argumentNames":["d"]}

function machine_startClients__P5410_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_startClients__P5410, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  i___14147: undefined,
  arg0: undefined,
} }





function machine_startClient__P5409(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.serviceClass___14160 = undefined;
    s.factory___14165 = undefined;
    s.sonifyOptions___14177 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_Device_serviceClassAt__P3540_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1124; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.serviceClass___14160 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, factory_inline__P14167);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.serviceClass___14160);
    s.tmp_1 = helpers_arrayFind__P2002_mk(s);
    s.tmp_1.arg0 = globals.factories___5408;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1125; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.factory___14165 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.factory___14165);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(machine_SonifyOptions__C4649_VT);
    s.tmp_0 = r0;
    s.tmp_1 = machine_SonifyOptions_constructor__P4650_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim.Math_.randomRange(0, 4);
    s.tmp_1.arg1 = r0;
    r0 = pxsim.Math_.randomRange(0, 3);
    s.tmp_1.arg2 = r0;
    r0 = pxsim.Math_.randomRange(0, 1);
    s.tmp_1.arg3 = r0;
    r0 = pxsim.Math_.randomRange(100, 255);
    s.tmp_1.arg4 = r0;
    s.callLocIdx = 1126; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.sonifyOptions___14177 = (s.tmp_0);
    s.tmp_0 = if_handler_4_mk(s);
    s.tmp_0.arg0 = s.factory___14165;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = s.sonifyOptions___14177;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 4);
      s.callLocIdx = 1127; s.pc = 7; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 4); s.callLocIdx = 1127; s.pc = 7; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1127; s.pc = 7; return s.tmp_0;; }
     else { s.callLocIdx = 1127; s.pc = 7; return s.tmp_0; }
    }
  case 7:
    r0 = s.retval;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = null;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
machine_startClient__P5409.info = {"start":7546,"length":750,"line":245,"column":4,"endLine":264,"endColumn":5,"fileName":"runtime.ts","functionName":"startClient","argumentNames":["d","serviceIndex"]}

function machine_startClient__P5409_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_startClient__P5409, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  serviceClass___14160: undefined,
  factory___14165: undefined,
  sonifyOptions___14177: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function factory_inline__P14167(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
factory_inline__P14167.info = {"start":7745,"length":36,"line":250,"column":39,"endLine":250,"endColumn":75,"fileName":"runtime.ts","functionName":"inline","argumentNames":["f"]}

function factory_inline__P14167_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: factory_inline__P14167, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function machine_SonifyOptions_constructor__P4650(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_SonifyOptions__C4649_VT)) failedCast(r0);
    r0 = (s.arg0).fields["waveShape"] = (s.arg1);
    r0 = (s.arg0).fields["effect"] = (s.arg2);
    r0 = (s.arg0).fields["interpolation"] = (s.arg3);
    r0 = (s.arg0).fields["startVolume"] = (s.arg4);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_SonifyOptions_constructor__P4650.info = {"start":3577,"length":209,"line":119,"column":8,"endLine":124,"endColumn":12,"fileName":"runtime.ts","functionName":"inline","argumentNames":["this","waveShape","effect","interpolation","startVolume"]}

function machine_SonifyOptions_constructor__P4650_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_SonifyOptions_constructor__P4650, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function machine_ignoreDevice__P4656(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_3.arg0 = globals.bus___3430;
    s.callLocIdx = 1116; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_4 = jacdac_Device_hasService__P3546_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 504728043;
    s.callLocIdx = 1117; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_5;
    { step = 4; continue; }
  case 3:
    s.tmp_6 = jacdac_Device_hasService__P3546_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = 384932169;
    s.callLocIdx = 1118; s.pc = 9; return s.tmp_6;
  case 9:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBool(s.tmp_7);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_7;
    { step = 6; continue; }
  case 5:
    r0 = pxsim_pxtcore_mkAction(1, machine_ignoreDevice_inline__P14214);
    s.tmp_8 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_8, 0, s.arg0);
    s.tmp_9 = helpers_arraySome__P1998_mk(s);
    r0 = globals.bus___3430.fields["unattachedClients"];
    s.tmp_9.arg0 = r0;
    s.tmp_9.arg1 = s.tmp_8;
    s.callLocIdx = 1120; s.pc = 10; return s.tmp_9;
  case 10:
    r0 = s.retval;
  case 6:
    // jmp value (already in r0)
    s.tmp_10 = r0;
    r0 = s.tmp_10;
    return leave(s, r0)
  default: oops()
} } }
machine_ignoreDevice__P4656.info = {"start":6261,"length":465,"line":204,"column":4,"endLine":215,"endColumn":5,"fileName":"runtime.ts","functionName":"ignoreDevice","argumentNames":["d"]}

function machine_ignoreDevice__P4656_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_ignoreDevice__P4656, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  arg0: undefined,
} }





function machine_ignoreDevice_inline__P14214(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_2 = jacdac_Client_roleName__P3504_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 1119; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.caps[0].fields["deviceId"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_1, s.tmp_3, undefined);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === 0);
    return leave(s, r0)
  default: oops()
} } }
machine_ignoreDevice_inline__P14214.info = {"start":6645,"length":51,"line":212,"column":16,"endLine":212,"endColumn":67,"fileName":"runtime.ts","functionName":"inline","argumentNames":["client"]}

function machine_ignoreDevice_inline__P14214_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_ignoreDevice_inline__P14214, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function helpers_arraySome__P1998(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___14226 = undefined;
    s.i___14229 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___14226 = (r0);
    s.i___14229 = (0);
  case 1:
    r0 = (s.i___14229 < s.len___14226);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = lambda_3_mk(s);
    s.tmp_2.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___14229);
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.i___14229;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 5; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___14229 + 1);
    s.i___14229 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySome__P1998.info = {"start":6833,"length":296,"line":238,"column":4,"endLine":244,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arraySome","argumentNames":["arr","callbackfn"]}

function helpers_arraySome__P1998_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySome__P1998, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  len___14226: undefined,
  i___14229: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function machine_ClientFactory_constructor__P5407(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_ClientFactory__C5406_VT)) failedCast(r0);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg1);
    r0 = (s.arg0).fields["handler"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_ClientFactory_constructor__P5407.info = {"start":6762,"length":241,"line":218,"column":8,"endLine":225,"endColumn":12,"fileName":"runtime.ts","functionName":"inline","argumentNames":["this","serviceClass","handler"]}

function machine_ClientFactory_constructor__P5407_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_ClientFactory_constructor__P5407, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function machine_start__P5412(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.DEVICE_ANNOUNCE___3396;
    s.tmp_0.arg2 = machine_startClients__P5410;
    s.callLocIdx = 1136; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.DEVICE_DISCONNECT___3394;
    s.tmp_0.arg2 = machine_destroyClients__P5411;
    s.callLocIdx = 1137; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = basic_showIcon__P2279_mk(s);
    s.tmp_0.arg0 = 4;
    s.tmp_0.arg1 = 600;
    s.callLocIdx = 1138; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_start__P5412.info = {"start":8904,"length":188,"line":283,"column":4,"endLine":287,"endColumn":5,"fileName":"runtime.ts","functionName":"start","argumentNames":[]}

function machine_start__P5412_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_start__P5412, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_destroyClients__P5411(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.clients___14253 = undefined;
    s.devid___14260 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = helpers_arraySlice__P2006_mk(s);
    r0 = globals.bus___3430.fields["unattachedClients"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1131; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.clients___14253 = (r0);
    r0 = s.arg0.fields["deviceId"];
    s.devid___14260 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, forEach_inline__P14266);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.devid___14260);
    s.tmp_1 = helpers_arrayForEach__P2000_mk(s);
    s.tmp_2 = helpers_arrayFilter__P2001_mk(s);
    s.tmp_2.arg0 = s.clients___14253;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 1133; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = machine_destroyClients_inline__P14272;
    s.callLocIdx = 1135; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_destroyClients__P5411.info = {"start":8632,"length":266,"line":275,"column":4,"endLine":281,"endColumn":5,"fileName":"runtime.ts","functionName":"destroyClients","argumentNames":["d"]}

function machine_destroyClients__P5411_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_destroyClients__P5411, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  clients___14253: undefined,
  devid___14260: undefined,
  arg0: undefined,
} }





function forEach_inline__P14266(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = jacdac_Client_roleName__P3504_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1132; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
forEach_inline__P14266.info = {"start":8807,"length":35,"line":279,"column":20,"endLine":279,"endColumn":55,"fileName":"runtime.ts","functionName":"inline","argumentNames":["client"]}

function forEach_inline__P14266_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: forEach_inline__P14266, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function machine_destroyClients_inline__P14272(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_Client_destroy__P3522_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1134; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_destroyClients_inline__P14272.info = {"start":8865,"length":26,"line":280,"column":21,"endLine":280,"endColumn":47,"fileName":"runtime.ts","functionName":"inline","argumentNames":["client"]}

function machine_destroyClients_inline__P14272_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_destroyClients_inline__P14272, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Client_destroy__P3522(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.value___14290 = undefined;
    s.unnamed100___U1 = undefined;
    s.unnamed101___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = s.arg0.fields["_device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_device"];
    r0 = r0.fields["clients"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_1, s.arg0);
  case 1:
  case 2:
    r0 = (s.arg0).fields["serviceIndex"] = (null);
    s.tmp_0 = jacdac_Client_device__P3507_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.callLocIdx = 701; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = s.arg0.fields["_registeredEvents"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.value___14290 = (undefined);
    r0 = s.arg0.fields["_registeredEvents"];
    s.unnamed100___U1 = (r0);
    s.unnamed101___U2 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed101___U2;
    r0 = pxsim_Array__length(s.unnamed100___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed100___U1, s.unnamed101___U2);
    s.value___14290 = (r0);
    r0 = s.arg0.fields["eventSource"];
    s.tmp_2 = r0;
    r0 = (61440 + s.value___14290);
    s.tmp_3 = r0;
    r0 = pxsim.control.onEvent(s.tmp_2, s.tmp_3, jacdac_unregisteredNoop__P5051, 0);
    r0 = (s.unnamed101___U2 + 1);
    s.unnamed101___U2 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed100___U1 = (undefined);
    r0 = (s.arg0).fields["_registeredEvents"] = (undefined);
  case 5:
  case 6:
    s.tmp_0 = jacdac_Bus_destroyClient__P3426_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 702; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_destroy__P3522.info = {"start":41502,"length":791,"line":1256,"column":8,"endLine":1274,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"destroy","argumentNames":["this"]}

function jacdac_Client_destroy__P3522_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_destroy__P3522, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  value___14290: undefined,
  unnamed100___U1: undefined,
  unnamed101___U2: undefined,
  arg0: undefined,
} }





function jacdac_Bus_destroyClient__P3426(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["unattachedClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg1);
    r0 = s.arg0.fields["allClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg1);
    s.tmp_0 = jacdac_Bus_clearAttachCache__P3420_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 455; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_destroyClient__P3426.info = {"start":6252,"length":184,"line":189,"column":8,"endLine":193,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"destroyClient","argumentNames":["this","client"]}

function jacdac_Bus_destroyClient__P3426_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_destroyClient__P3426, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_unregisteredNoop__P5051(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_unregisteredNoop__P5051.info = {"start":33074,"length":30,"line":1008,"column":4,"endLine":1008,"endColumn":34,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"unregisteredNoop","argumentNames":[]}

function jacdac_unregisteredNoop__P5051_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_unregisteredNoop__P5051, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function machine_schedulePlayDeviceCount__P5395(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.playDeviceCountScheduled___5394);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    globals.playDeviceCountScheduled___5394 = (true);
    s.tmp_0 = control_runInBackground__P2296_mk(s);
    s.tmp_0.arg0 = machine_schedulePlayDeviceCount_inline__P14323;
    s.callLocIdx = 1113; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_schedulePlayDeviceCount__P5395.info = {"start":5252,"length":821,"line":175,"column":4,"endLine":197,"endColumn":5,"fileName":"runtime.ts","functionName":"schedulePlayDeviceCount","argumentNames":[]}

function machine_schedulePlayDeviceCount__P5395_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_schedulePlayDeviceCount__P5395, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_schedulePlayDeviceCount_inline__P14323(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devCount___14326 = undefined;
    s.change___14337 = undefined;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 200;
    s.callLocIdx = 1106; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    globals.playDeviceCountScheduled___5394 = (false);
    s.tmp_1 = helpers_arrayFilter__P2001_mk(s);
    r0 = globals.bus___3430.fields["devices"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = length_inline__P14331;
    s.callLocIdx = 1108; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__length(s.tmp_0);
    s.devCount___14326 = (r0);
    r0 = (s.devCount___14326 - globals.lastDeviceCount___5392);
    s.change___14337 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.change___14337);
    if (!r0) { step = 3; continue; }
    globals.lastDeviceCount___5392 = (s.devCount___14326);
    s.tmp_0 = music_stopAllSounds__P2552_mk(s);
    s.callLocIdx = 1109; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = pxsim.led.stopAnimation();
    r0 = (s.change___14337 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = SoundExpression_play__P2694_mk(s);
    s.tmp_1.arg0 = globals.happy___2717;
    s.callLocIdx = 1110; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = SoundExpression_play__P2694_mk(s);
    s.tmp_0.arg0 = globals.sad___2720;
    s.callLocIdx = 1111; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 2:
    s.tmp_0 = basic_showNumber__P2225_mk(s);
    s.tmp_0.arg0 = s.devCount___14326;
    s.tmp_0.arg1 = 150;
    s.callLocIdx = 1112; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_schedulePlayDeviceCount_inline__P14323.info = {"start":5406,"length":660,"line":178,"column":32,"endLine":196,"endColumn":9,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_schedulePlayDeviceCount_inline__P14323_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_schedulePlayDeviceCount_inline__P14323, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  devCount___14326: undefined,
  change___14337: undefined,
} }





function length_inline__P14331(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_2 = machine_ignoreDevice__P4656_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 1107; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
length_inline__P14331.info = {"start":5622,"length":21,"line":184,"column":16,"endLine":184,"endColumn":37,"fileName":"runtime.ts","functionName":"inline","argumentNames":["d"]}

function length_inline__P14331_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: length_inline__P14331, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_EventSource_on__P3576(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_EventSource__C3574_VT)) failedCast(r0);
    s.tmp_0 = jacdac_EventSource_addListenerInternal__P4932_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 875; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = s.arg0;
    return leave(s, r0)
  default: oops()
} } }
jacdac_EventSource_on__P3576.info = {"start":576,"length":137,"line":21,"column":8,"endLine":24,"endColumn":9,"fileName":"pxt_modules/jacdac/eventsource.ts","functionName":"on","argumentNames":["this","eventName","handler"]}

function jacdac_EventSource_on__P3576_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_EventSource_on__P3576, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function machine_MicrobitMachine_constructor__P5380(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, machine_MicrobitMachine__C5375_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    s.tmp_2 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 1074; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, machine_MicrobitMachine_inline__P14371);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim.control.onEvent(1, 1, s.tmp_0, 0);
    r0 = pxsim_pxtcore_mkAction(1, machine_MicrobitMachine_inline__P14380);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim.control.onEvent(2, 1, s.tmp_0, 0);
    r0 = pxsim_pxtcore_mkAction(1, machine_MicrobitMachine_inline__P14389);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim.control.onEvent(3, 1, s.tmp_0, 0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_constructor__P5380.info = {"start":449,"length":626,"line":16,"column":8,"endLine":33,"endColumn":9,"fileName":"runtime.ts","functionName":"inline","argumentNames":["this"]}

function machine_MicrobitMachine_constructor__P5380_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_constructor__P5380, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function machine_MicrobitMachine_inline__P14371(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = globals.EVENT_A___4641;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1075; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_inline__P14371.info = {"start":639,"length":24,"line":21,"column":16,"endLine":21,"endColumn":40,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_MicrobitMachine_inline__P14371_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_inline__P14371, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_MicrobitMachine_inline__P14380(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = globals.EVENT_B___4642;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1076; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_inline__P14380.info = {"start":832,"length":24,"line":26,"column":16,"endLine":26,"endColumn":40,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_MicrobitMachine_inline__P14380_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_inline__P14380, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function machine_MicrobitMachine_inline__P14389(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = globals.EVENT_AB___4643;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1077; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
machine_MicrobitMachine_inline__P14389.info = {"start":1026,"length":25,"line":31,"column":16,"endLine":31,"endColumn":41,"fileName":"runtime.ts","functionName":"inline","argumentNames":[]}

function machine_MicrobitMachine_inline__P14389_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: machine_MicrobitMachine_inline__P14389, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function music_setTempo__P2544(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_init__P4774_mk(s);
    s.callLocIdx = 48; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = (s.arg0 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Math_max__P2021_mk(s);
    s.tmp_1.arg0 = 1;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 49; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    globals.beatsPerMinute___4768 = (r0);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_setTempo__P2544.info = {"start":9756,"length":147,"line":306,"column":4,"endLine":311,"endColumn":5,"fileName":"pxt_modules/core/music.ts","functionName":"setTempo","argumentNames":["bpm"]}

function music_setTempo__P2544_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_setTempo__P2544, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_start__P3559(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.id___14405 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = globals.bus___3430.fields["controlServer"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 25; continue; }
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(globals.productIdentifier___3387);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 5; continue; }
    r0 = 0;
    s.id___14405 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.id___14405);
    if (!r0) { step = 3; continue; }
    r0 = (s.id___14405 & 268435455);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 805306368);
    globals.productIdentifier___3387 = (r0);
  case 3:
  case 4:
  case 5:
  case 6:
    s.tmp_0 = jacdac_Bus_start__P3416_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.callLocIdx = 838; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_0.arg0 = "jacdac starting";
    s.callLocIdx = 839; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = pxsim_pxtrt.mkMap();
  case 8:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.arg0 = (s.tmp_1);
    s.tmp_2 = if_disableBrain_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "disableBrain");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["disableBrain"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["disableBrain"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 840; s.pc = 28; return s.tmp_2; }
    }
  case 28:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_3 = if_disableBrain_2_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_8 = if_disableRoleManager_1_mk(s);
    s.tmp_8.arg0 = s.arg0;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "disableRoleManager");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["disableRoleManager"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["disableRoleManager"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 841; s.pc = 30; return s.tmp_8; }
    }
  case 30:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3.arg1 = r0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, "disableBrain", s.tmp_3.arg1);
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["set/disableBrain"];
      if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields["disableBrain"] = s.tmp_3.arg1; }
      else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) } 
     else { s.callLocIdx = 842; s.pc = 29; return s.tmp_3; }
    }
  case 29:
    r0 = s.retval;
  case 9:
  case 10:
    s.tmp_0 = jacdac_enablePower__P5082_mk(s);
    s.tmp_0.arg0 = true;
    s.callLocIdx = 843; s.pc = 31; return s.tmp_0;
  case 31:
    r0 = s.retval;
    s.tmp_0 = jacdac_enablePowerFaultPin__P5083_mk(s);
    s.callLocIdx = 844; s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
    s.tmp_0 = jacdac_enableIdentityLED__P5084_mk(s);
    s.callLocIdx = 845; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
    s.tmp_3 = if_disableBrain_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "disableBrain");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["disableBrain"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["disableBrain"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 846; s.pc = 34; return s.tmp_3; }
    }
  case 34:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_BrainServer__C5061_VT);
    s.tmp_4 = r0;
    s.tmp_5 = jacdac_BrainServer_constructor__P5063_mk(s);
    s.tmp_5.arg0 = s.tmp_4;
    s.callLocIdx = 847; s.pc = 35; return s.tmp_5;
  case 35:
    r0 = s.retval;
    s.tmp_6 = jacdac_Server_start__P3468_mk(s);
    s.tmp_6.arg0 = s.tmp_4;
    s.callLocIdx = 848; s.pc = 36; return s.tmp_6;
  case 36:
    r0 = s.retval;
  case 11:
  case 12:
    s.tmp_1 = if_proxyMode_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "proxyMode");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["proxyMode"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["proxyMode"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 849; s.pc = 37; return s.tmp_1; }
    }
  case 37:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ProxyServer__C5058_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_ProxyServer_constructor__P5060_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.callLocIdx = 850; s.pc = 38; return s.tmp_3;
  case 38:
    r0 = s.retval;
    s.tmp_4 = jacdac_Server_start__P3468_mk(s);
    s.tmp_4.arg0 = s.tmp_2;
    s.callLocIdx = 851; s.pc = 39; return s.tmp_4;
  case 39:
    r0 = s.retval;
    r0 = (globals.bus___3430).fields["proxyMode"] = (true);
  case 13:
  case 14:
    s.tmp_3 = if_disableLogger_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "disableLogger");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["disableLogger"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["disableLogger"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 852; s.pc = 40; return s.tmp_3; }
    }
  case 40:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.tmp_4 = console_addListener__P2384_mk(s);
    s.tmp_4.arg0 = jacdac_start_inline__P14455;
    s.callLocIdx = 854; s.pc = 41; return s.tmp_4;
  case 41:
    r0 = s.retval;
    s.tmp_0 = jacdac_Server_start__P3468_mk(s);
    s.tmp_0.arg0 = globals.loggerServer___3176;
    s.callLocIdx = 855; s.pc = 42; return s.tmp_0;
  case 42:
    r0 = s.retval;
  case 15:
  case 16:
    s.tmp_3 = if_disableRoleManager_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "disableRoleManager");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["disableRoleManager"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["disableRoleManager"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 856; s.pc = 43; return s.tmp_3; }
    }
  case 43:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.tmp_4 = jacdac_Server_start__P3468_mk(s);
    s.tmp_4.arg0 = globals.roleManagerServer___3293;
    s.callLocIdx = 857; s.pc = 44; return s.tmp_4;
  case 44:
    r0 = s.retval;
  case 17:
  case 18:
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.onEvent(s.tmp_0, 1, jacdac_consumePackets__P5088, 0);
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.onEvent(s.tmp_0, 100, jacdac_start_inline__P14483, 0);
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_0.arg0 = "started";
    s.callLocIdx = 861; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
    s.tmp_3 = if_noWait_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "noWait");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["noWait"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["noWait"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 862; s.pc = 46; return s.tmp_3; }
    }
  case 46:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 19; continue; }
    r0 = s.tmp_0;
    { step = 20; continue; }
  case 19:
    r0 = globals.roleManagerServer___3293;
  case 20:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 23; continue; }
    s.tmp_5 = jacdac_log__P5040_mk(s);
    s.tmp_5.arg0 = "waiting for devices to enumerate...";
    s.callLocIdx = 863; s.pc = 47; return s.tmp_5;
  case 47:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 1000;
    s.callLocIdx = 864; s.pc = 48; return s.tmp_0;
  case 48:
    r0 = s.retval;
    r0 = globals.roleManagerServer___3293.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    s.tmp_1 = jacdac__rolemgr_RoleManagerServer_bindRoles__P3291_mk(s);
    s.tmp_1.arg0 = globals.roleManagerServer___3293;
    s.callLocIdx = 865; s.pc = 49; return s.tmp_1;
  case 49:
    r0 = s.retval;
  case 21:
  case 22:
  case 23:
  case 24:
  case 25:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_start__P3559.info = {"start":62874,"length":1900,"line":1881,"column":4,"endLine":1941,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"start","argumentNames":["options"]}

function jacdac_start__P3559_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_start__P3559, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  id___14405: undefined,
  arg0: undefined,
} }





function jacdac_start_inline__P14455(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.charAt(s.arg1, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != ":");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_LoggerServer_add__P3175_mk(s);
    s.tmp_2.arg0 = globals.loggerServer___3176;
    s.tmp_2.arg1 = s.arg0;
    s.tmp_2.arg2 = s.arg1;
    s.callLocIdx = 853; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_start_inline__P14455.info = {"start":63959,"length":114,"line":1914,"column":32,"endLine":1916,"endColumn":13,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["pri","msg"]}

function jacdac_start_inline__P14455_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_start_inline__P14455, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_start_inline__P14483(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_Bus_queueAnnounce__P3422_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.callLocIdx = 860; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_start_inline__P14483.info = {"start":64449,"length":44,"line":1929,"column":71,"endLine":1930,"endColumn":38,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_start_inline__P14483_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_start_inline__P14483, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_bindRoles__P3291(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cl___14504 = undefined;
    s.unnamed74___U1 = undefined;
    s.unnamed75___U2 = undefined;
    s.query___14518 = undefined;
    s.serviceClass___14526 = undefined;
    s.services___14529 = undefined;
    s.serviceOffset___14553 = undefined;
    s.bindings___14586 = undefined;
    s.wraps___14588 = undefined;
    s.cl___14599 = undefined;
    s.unnamed76___U10 = undefined;
    s.unnamed77___U11 = undefined;
    s.b___14608 = undefined;
    s.w___14630 = undefined;
    s.unnamed78___U14 = undefined;
    s.unnamed79___U15 = undefined;
    s.servers___14649 = undefined;
    s.b___14652 = undefined;
    s.unnamed80___U18 = undefined;
    s.unnamed81___U19 = undefined;
    s.hn___14654 = undefined;
    s.h___14658 = undefined;
    s.h___14704 = undefined;
    s.d___14728 = undefined;
    s.unnamed82___U24 = undefined;
    s.unnamed83___U25 = undefined;
    s.dev___14736 = undefined;
    s.score___14799 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleManagerServer__C3287_VT)) failedCast(r0);
    r0 = s.arg0.fields["running"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 51; continue; }
  case 1:
  case 2:
    s.cl___14504 = (undefined);
    r0 = globals.bus___3430.fields["allClients"];
    s.unnamed74___U1 = (r0);
    s.unnamed75___U2 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed75___U2;
    r0 = pxsim_Array__length(s.unnamed74___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 24; continue; }
    r0 = pxsim_Array__getAt(s.unnamed74___U1, s.unnamed75___U2);
    s.cl___14504 = (r0);
    r0 = s.cl___14504.fields["broadcast"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.cl___14504.fields["_role"];
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_5;
    { step = 7; continue; }
  case 6:
    r0 = s.cl___14504.fields["_device"];
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
  case 7:
    // jmp value (already in r0)
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    if (!r0) { step = 22; continue; }
    s.tmp_11 = jacdac_Client_roleQuery__P3505_mk(s);
    s.tmp_11.arg0 = s.cl___14504;
    s.callLocIdx = 393; s.pc = 52; return s.tmp_11;
  case 52:
    r0 = s.retval;
    s.query___14518 = (r0);
    s.tmp_0 = r0 = s.query___14518;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 8:
    r0 = s.query___14518.fields["device"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === "self");
  case 9:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 20; continue; }
    r0 = s.cl___14504.fields["serviceClass"];
    s.serviceClass___14526 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, services_inline__P14531);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.serviceClass___14526);
    s.tmp_1 = helpers_arrayFilter__P2001_mk(s);
    r0 = globals.bus___3430.fields["servers"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 394; s.pc = 53; return s.tmp_1;
  case 53:
    r0 = s.retval;
    s.services___14529 = (r0);
    r0 = pxsim_Array__length(s.services___14529);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    r0 = s.cl___14504.fields["_device"];
    s.tmp_2 = r0;
    s.tmp_4 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_4.arg0 = globals.bus___3430;
    s.callLocIdx = 396; s.pc = 54; return s.tmp_4;
  case 54:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 != s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 10; continue; }
    s.tmp_5 = jacdac__rolemgr_setRole__P3286_mk(s);
    r0 = s.cl___14504.fields["_device"];
    r0 = r0.fields["deviceId"];
    s.tmp_5.arg0 = r0;
    r0 = s.cl___14504.fields["serviceIndex"];
    s.tmp_5.arg1 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_5.arg2 = r0;
    s.callLocIdx = 398; s.pc = 55; return s.tmp_5;
  case 55:
    r0 = s.retval;
    { step = 17; continue; }
  case 10:
    r0 = s.query___14518.fields["serviceOffset"];
    s.serviceOffset___14553 = (r0);
    s.tmp_3 = isNaN__P1984_mk(s);
    s.tmp_3.arg0 = s.serviceOffset___14553;
    s.callLocIdx = 399; s.pc = 56; return s.tmp_3;
  case 56:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_0;
    { step = 14; continue; }
  case 11:
    r0 = s.query___14518.fields["serviceOffset"];
    s.tmp_7 = r0;
    r0 = pxsim_Array__getAt(s.services___14529, s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 12; continue; }
    r0 = s.tmp_4;
    { step = 13; continue; }
  case 12:
    r0 = s.query___14518.fields["serviceOffset"];
    s.tmp_9 = r0;
    r0 = pxsim_Array__getAt(s.services___14529, s.tmp_9);
    r0 = r0.fields["serviceIndex"];
    s.tmp_8 = r0;
    r0 = s.cl___14504.fields["serviceIndex"];
    s.tmp_10 = r0;
    r0 = (s.tmp_8 != s.tmp_10);
  case 13:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    r0 = s.tmp_11;
  case 14:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_12);
    if (!r0) { step = 15; continue; }
    s.tmp_13 = jacdac__rolemgr_setRole__P3286_mk(s);
    r0 = s.cl___14504.fields["_device"];
    r0 = r0.fields["deviceId"];
    s.tmp_13.arg0 = r0;
    r0 = s.cl___14504.fields["serviceIndex"];
    s.tmp_13.arg1 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_13.arg2 = r0;
    s.callLocIdx = 401; s.pc = 57; return s.tmp_13;
  case 57:
    r0 = s.retval;
  case 15:
  case 16:
  case 17:
  case 18:
  case 19:
  case 20:
  case 21:
  case 22:
  case 23:
    r0 = (s.unnamed75___U2 + 1);
    s.unnamed75___U2 = (r0);
    { step = 3; continue; }
  case 24:
    s.unnamed74___U1 = (undefined);
    r0 = globals.bus___3430.fields["unattachedClients"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    s.tmp_3 = jacdac__rolemgr_RoleManagerServer_checkChanges__P5025_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 402; s.pc = 58; return s.tmp_3;
  case 58:
    r0 = s.retval;
    { step = 51; continue; }
  case 25:
  case 26:
    r0 = pxsim_Array__mk();
    s.bindings___14586 = (r0);
    s.tmp_0 = helpers_arrayMap__P1997_mk(s);
    r0 = globals.bus___3430.fields["devices"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = wraps_inline__P14590;
    s.callLocIdx = 404; s.pc = 59; return s.tmp_0;
  case 59:
    r0 = s.retval;
    s.wraps___14588 = (r0);
    s.cl___14599 = (undefined);
    r0 = globals.bus___3430.fields["allClients"];
    s.unnamed76___U10 = (r0);
    s.unnamed77___U11 = (0);
  case 27:
    s.tmp_0 = r0 = s.unnamed77___U11;
    r0 = pxsim_Array__length(s.unnamed76___U10);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 38; continue; }
    r0 = pxsim_Array__getAt(s.unnamed76___U10, s.unnamed77___U11);
    s.cl___14599 = (r0);
    r0 = s.cl___14599.fields["broadcast"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 28; continue; }
    r0 = s.tmp_2;
    { step = 29; continue; }
  case 28:
    r0 = s.cl___14599.fields["_role"];
  case 29:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 36; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac__rolemgr_RoleBinding__C5014_VT);
    s.tmp_6 = r0;
    s.tmp_7 = jacdac__rolemgr_RoleBinding_constructor__P5017_mk(s);
    s.tmp_7.arg0 = s.tmp_6;
    r0 = s.cl___14599.fields["_role"];
    s.tmp_7.arg1 = r0;
    r0 = s.cl___14599.fields["serviceClass"];
    s.tmp_7.arg2 = r0;
    s.tmp_8 = jacdac_Client_roleQuery__P3505_mk(s);
    s.tmp_8.arg0 = s.cl___14599;
    s.callLocIdx = 407; s.pc = 61; return s.tmp_8;
  case 61:
    r0 = s.retval;
    s.tmp_7.arg3 = r0;
    s.callLocIdx = 408; s.pc = 60; return s.tmp_7;
  case 60:
    r0 = s.retval;
    s.b___14608 = (s.tmp_6);
    r0 = s.cl___14599.fields["_device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 34; continue; }
    s.tmp_1 = r0 = s.b___14608;
    r0 = s.cl___14599.fields["_device"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["boundToDev"] = (s.tmp_2);
    r0 = s.cl___14599.fields["serviceIndex"];
    s.tmp_0 = r0;
    r0 = (s.b___14608).fields["boundToServiceIdx"] = (s.tmp_0);
    s.w___14630 = (undefined);
    s.unnamed78___U14 = (s.wraps___14588);
    s.unnamed79___U15 = (0);
  case 30:
    s.tmp_0 = r0 = s.unnamed79___U15;
    r0 = pxsim_Array__length(s.unnamed78___U14);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 33; continue; }
    r0 = pxsim_Array__getAt(s.unnamed78___U14, s.unnamed79___U15);
    s.w___14630 = (r0);
    r0 = s.w___14630.fields["device"];
    s.tmp_3 = r0;
    r0 = s.cl___14599.fields["_device"];
    s.tmp_4 = r0;
    r0 = (s.tmp_3 == s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 31; continue; }
    r0 = s.w___14630.fields["bindings"];
    s.tmp_5 = r0;
    r0 = s.cl___14599.fields["serviceIndex"];
    s.tmp_6 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_5, s.tmp_6, s.b___14608);
    { step = 33; continue; }
  case 31:
  case 32:
    r0 = (s.unnamed79___U15 + 1);
    s.unnamed79___U15 = (r0);
    { step = 30; continue; }
  case 33:
    s.unnamed78___U14 = (undefined);
  case 34:
  case 35:
    r0 = pxsim_Array__push(s.bindings___14586, s.b___14608);
  case 36:
  case 37:
    r0 = (s.unnamed77___U11 + 1);
    s.unnamed77___U11 = (r0);
    { step = 27; continue; }
  case 38:
    s.unnamed76___U10 = (undefined);
    r0 = pxsim_Array__mk();
    s.servers___14649 = (r0);
    s.b___14652 = (undefined);
    s.unnamed80___U18 = (s.bindings___14586);
    s.unnamed81___U19 = (0);
  case 39:
    s.tmp_0 = r0 = s.unnamed81___U19;
    r0 = pxsim_Array__length(s.unnamed80___U18);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 42; continue; }
    r0 = pxsim_Array__getAt(s.unnamed80___U18, s.unnamed81___U19);
    s.b___14652 = (r0);
    s.tmp_2 = jacdac__rolemgr_RoleBinding_host__P5015_mk(s);
    s.tmp_2.arg0 = s.b___14652;
    s.callLocIdx = 412; s.pc = 62; return s.tmp_2;
  case 62:
    r0 = s.retval;
    s.hn___14654 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, h_inline__P14661);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.hn___14654);
    s.tmp_1 = helpers_arrayFind__P2002_mk(s);
    s.tmp_1.arg0 = s.servers___14649;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 413; s.pc = 63; return s.tmp_1;
  case 63:
    r0 = s.retval;
    s.h___14658 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.h___14658);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 40; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac__rolemgr_ServerBindings__C5018_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac__rolemgr_ServerBindings_constructor__P5021_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.hn___14654;
    s.callLocIdx = 414; s.pc = 64; return s.tmp_3;
  case 64:
    r0 = s.retval;
    s.h___14658 = (s.tmp_2);
    r0 = pxsim_Array__push(s.servers___14649, s.h___14658);
  case 40:
  case 41:
    r0 = s.h___14658.fields["bindings"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.b___14652);
    r0 = (s.unnamed81___U19 + 1);
    s.unnamed81___U19 = (r0);
    { step = 39; continue; }
  case 42:
    s.unnamed80___U18 = (undefined);
    s.tmp_0 = helpers_arrayFilter__P2001_mk(s);
    s.tmp_0.arg0 = s.servers___14649;
    s.tmp_0.arg1 = jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14687;
    s.callLocIdx = 416; s.pc = 65; return s.tmp_0;
  case 65:
    r0 = s.retval;
    s.servers___14649 = (r0);
    s.tmp_0 = console_log__P2381_mk(s);
    r0 = pxsim_Array__length(s.servers___14649);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 67);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 67:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("binding: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " servers");
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 417; s.pc = 66; return s.tmp_0;
  case 66:
    r0 = s.retval;
  case 43:
    r0 = pxsim_Array__length(s.servers___14649);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 50; continue; }
    s.tmp_2 = jacdac__rolemgr_maxIn__P5022_mk(s);
    s.tmp_2.arg0 = s.servers___14649;
    s.tmp_2.arg1 = h_inline__P14708;
    s.tmp_2.arg2 = h_inline__P14718;
    s.callLocIdx = 418; s.pc = 68; return s.tmp_2;
  case 68:
    r0 = s.retval;
    s.h___14704 = (r0);
    s.d___14728 = (undefined);
    s.unnamed82___U24 = (s.wraps___14588);
    s.unnamed83___U25 = (0);
  case 44:
    s.tmp_0 = r0 = s.unnamed83___U25;
    r0 = pxsim_Array__length(s.unnamed82___U24);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 45; continue; }
    r0 = pxsim_Array__getAt(s.unnamed82___U24, s.unnamed83___U25);
    s.d___14728 = (r0);
    s.tmp_2 = r0 = s.d___14728;
    s.tmp_4 = jacdac__rolemgr_ServerBindings_scoreFor__P5020_mk(s);
    s.tmp_4.arg0 = s.h___14704;
    s.tmp_4.arg1 = s.d___14728;
    s.tmp_4.arg2 = false;
    s.callLocIdx = 419; s.pc = 69; return s.tmp_4;
  case 69:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["score"] = (s.tmp_3);
    r0 = (s.unnamed83___U25 + 1);
    s.unnamed83___U25 = (r0);
    { step = 44; continue; }
  case 45:
    s.unnamed82___U24 = (undefined);
    s.tmp_0 = jacdac__rolemgr_maxIn__P5022_mk(s);
    s.tmp_0.arg0 = s.wraps___14588;
    s.tmp_0.arg1 = dev_inline__P14740;
    s.tmp_0.arg2 = dev_inline__P14748;
    s.callLocIdx = 420; s.pc = 70; return s.tmp_0;
  case 70:
    r0 = s.retval;
    s.dev___14736 = (r0);
    r0 = s.dev___14736.fields["score"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 46; continue; }
    r0 = pxsim_Array_.removeElement(s.servers___14649, s.h___14704);
    { step = 43; continue; }
  case 46:
  case 47:
    s.tmp_0 = helpers_arraySort__P1996_mk(s);
    r0 = s.h___14704.fields["bindings"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14769;
    s.callLocIdx = 421; s.pc = 71; return s.tmp_0;
  case 71:
    r0 = s.retval;
    s.tmp_0 = jacdac__rolemgr_ServerBindings_scoreFor__P5020_mk(s);
    s.tmp_0.arg0 = s.h___14704;
    s.tmp_0.arg1 = s.dev___14736;
    s.tmp_0.arg2 = true;
    s.callLocIdx = 422; s.pc = 72; return s.tmp_0;
  case 72:
    r0 = s.retval;
    s.score___14799 = (r0);
    s.tmp_1 = jacdac__rolemgr_ServerBindings_fullyBound__P5019_mk(s);
    s.tmp_1.arg0 = s.h___14704;
    s.callLocIdx = 423; s.pc = 73; return s.tmp_1;
  case 73:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 48; continue; }
    r0 = pxsim_Array_.removeElement(s.servers___14649, s.h___14704);
    { step = 49; continue; }
  case 48:
    r0 = pxsim_pxtcore_mkAction(1, jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14815);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.dev___14736);
    s.tmp_1 = r0 = s.h___14704;
    s.tmp_3 = helpers_arrayFilter__P2001_mk(s);
    r0 = s.h___14704.fields["bindings"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 424; s.pc = 74; return s.tmp_3;
  case 74:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["bindings"] = (s.tmp_2);
  case 49:
    { step = 43; continue; }
  case 50:
    s.tmp_0 = jacdac__rolemgr_RoleManagerServer_checkChanges__P5025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 425; s.pc = 75; return s.tmp_0;
  case 75:
    r0 = s.retval;
  case 51:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_bindRoles__P3291.info = {"start":7985,"length":5980,"line":217,"column":8,"endLine":349,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"bindRoles","argumentNames":["this"]}

function jacdac__rolemgr_RoleManagerServer_bindRoles__P3291_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_bindRoles__P3291, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  cl___14504: undefined,
  unnamed74___U1: undefined,
  unnamed75___U2: undefined,
  query___14518: undefined,
  serviceClass___14526: undefined,
  services___14529: undefined,
  serviceOffset___14553: undefined,
  bindings___14586: undefined,
  wraps___14588: undefined,
  cl___14599: undefined,
  unnamed76___U10: undefined,
  unnamed77___U11: undefined,
  b___14608: undefined,
  w___14630: undefined,
  unnamed78___U14: undefined,
  unnamed79___U15: undefined,
  servers___14649: undefined,
  b___14652: undefined,
  unnamed80___U18: undefined,
  unnamed81___U19: undefined,
  hn___14654: undefined,
  h___14658: undefined,
  h___14704: undefined,
  d___14728: undefined,
  unnamed82___U24: undefined,
  unnamed83___U25: undefined,
  dev___14736: undefined,
  score___14799: undefined,
  arg0: undefined,
} }





function services_inline__P14531(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
services_inline__P14531.info = {"start":8630,"length":45,"line":229,"column":67,"endLine":229,"endColumn":112,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["server"]}

function services_inline__P14531_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: services_inline__P14531, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function wraps_inline__P14590(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac__rolemgr_DeviceWrapper__C5012_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac__rolemgr_DeviceWrapper_constructor__P5013_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 403; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
wraps_inline__P14590.info = {"start":10253,"length":25,"line":261,"column":42,"endLine":261,"endColumn":67,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["d"]}

function wraps_inline__P14590_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: wraps_inline__P14590, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function h_inline__P14661(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["host"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
h_inline__P14661.info = {"start":11147,"length":17,"line":284,"column":37,"endLine":284,"endColumn":54,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["h"]}

function h_inline__P14661_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: h_inline__P14661, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14687(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_2 = jacdac__rolemgr_ServerBindings_fullyBound__P5019_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 415; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14687.info = {"start":11444,"length":18,"line":293,"column":37,"endLine":293,"endColumn":55,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["h"]}

function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14687_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14687, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function h_inline__P14708(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["bindings"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = s.arg1.fields["bindings"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 - s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
h_inline__P14708.info = {"start":11860,"length":47,"line":302,"column":20,"endLine":302,"endColumn":67,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["a","b"]}

function h_inline__P14708_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: h_inline__P14708, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function h_inline__P14718(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg1.fields["host"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["host"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.compare(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
h_inline__P14718.info = {"start":11929,"length":32,"line":303,"column":20,"endLine":303,"endColumn":52,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["a","b"]}

function h_inline__P14718_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: h_inline__P14718, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function dev_inline__P14740(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["score"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["score"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
dev_inline__P14740.info = {"start":12335,"length":27,"line":314,"column":20,"endLine":314,"endColumn":47,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["a","b"]}

function dev_inline__P14740_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: dev_inline__P14740, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function dev_inline__P14748(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg1.fields["device"];
    r0 = r0.fields["deviceId"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["device"];
    r0 = r0.fields["deviceId"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.compare(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
dev_inline__P14748.info = {"start":12384,"length":54,"line":315,"column":20,"endLine":315,"endColumn":74,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["a","b"]}

function dev_inline__P14748_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: dev_inline__P14748, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14769(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___14772 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.c___14772 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.c___14772);
    if (!r0) { step = 1; continue; }
    r0 = s.c___14772;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["roleQuery"];
    r0 = r0.fields["serviceOffset"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["roleQuery"];
    r0 = r0.fields["serviceOffset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.c___14772 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.c___14772);
    if (!r0) { step = 3; continue; }
    r0 = s.c___14772;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["role"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["role"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.compare(s.tmp_0, s.tmp_1);
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14769.info = {"start":12936,"length":289,"line":326,"column":32,"endLine":332,"endColumn":17,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["a","b"]}

function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14769_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14769, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  c___14772: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14815(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["boundToDev"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["device"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 != s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14815.info = {"start":13838,"length":31,"line":344,"column":24,"endLine":344,"endColumn":55,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["b"]}

function jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14815_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_bindRoles_inline__P14815, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function helpers_arraySort__P1996(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 1);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.arg1 = (helpers_arraySort_inline__P14832);
  case 3:
  case 4:
    s.tmp_0 = helpers_sortHelper__P4690_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 3; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySort__P1996.info = {"start":5663,"length":859,"line":207,"column":4,"endLine":227,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arraySort","argumentNames":["arr","callbackfn"]}

function helpers_arraySort__P1996_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySort__P1996, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arraySort_inline__P14832(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.aIsUndef___14835 = undefined;
    s.bIsUndef___14839 = undefined;
    s.aIsNull___14850 = undefined;
    s.bIsNull___14854 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 === undefined);
    s.aIsUndef___14835 = (r0);
    r0 = (s.arg1 === undefined);
    s.bIsUndef___14839 = (r0);
    s.tmp_0 = r0 = s.aIsUndef___14835;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.bIsUndef___14839;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 17; continue; }
    { step = 8; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.aIsUndef___14835);
    if (!r0) { step = 4; continue; }
    r0 = 1;
    { step = 17; continue; }
    { step = 7; continue; }
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.bIsUndef___14839);
    if (!r0) { step = 5; continue; }
    r0 = -1;
    { step = 17; continue; }
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = (s.arg0 === null);
    s.aIsNull___14850 = (r0);
    r0 = (s.arg1 === null);
    s.bIsNull___14854 = (r0);
    s.tmp_0 = r0 = s.aIsNull___14850;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = s.bIsNull___14854;
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 11; continue; }
    r0 = 0;
    { step = 17; continue; }
    { step = 16; continue; }
  case 11:
    r0 = pxsim_numops_toBoolDecr(s.aIsNull___14850);
    if (!r0) { step = 12; continue; }
    r0 = 1;
    { step = 17; continue; }
    { step = 15; continue; }
  case 12:
    r0 = pxsim_numops_toBoolDecr(s.bIsNull___14854);
    if (!r0) { step = 13; continue; }
    r0 = -1;
    { step = 17; continue; }
  case 13:
  case 14:
  case 15:
  case 16:
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_7);
    s.tmp_5 = r0;
    r0 = pxsim_String_.compare(s.tmp_2, s.tmp_5);
  case 17:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySort_inline__P14832.info = {"start":5826,"length":636,"line":209,"column":25,"endLine":224,"endColumn":13,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"inline","argumentNames":["a","b"]}

function helpers_arraySort_inline__P14832_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySort_inline__P14832, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  aIsUndef___14835: undefined,
  bIsUndef___14839: undefined,
  aIsNull___14850: undefined,
  bIsNull___14854: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_sortHelper__P4690(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___14889 = undefined;
    s.i___14892 = undefined;
    s.j___14898 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0;
    { step = 11; continue; }
  case 3:
  case 4:
    r0 = pxsim_Array__length(s.arg0);
    s.len___14889 = (r0);
    s.i___14892 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___14892;
    r0 = (s.len___14889 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = (s.i___14892 + 1);
    s.j___14898 = (r0);
  case 6:
    r0 = (s.j___14898 < s.len___14889);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___14892);
    s.tmp_3.arg0 = r0;
    r0 = pxsim_Array__getAt(s.arg0, s.j___14898);
    s.tmp_3.arg1 = r0;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 1; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = helpers_swap__P4689_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.i___14892;
    s.tmp_4.arg2 = s.j___14898;
    s.callLocIdx = 2; s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.j___14898 + 1);
    s.j___14898 = (r0);
    { step = 6; continue; }
  case 9:
    r0 = (s.i___14892 + 1);
    s.i___14892 = (r0);
    { step = 5; continue; }
  case 10:
    r0 = s.arg0;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
helpers_sortHelper__P4690.info = {"start":5176,"length":481,"line":191,"column":4,"endLine":205,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"sortHelper","argumentNames":["arr","callbackfn"]}

function helpers_sortHelper__P4690_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_sortHelper__P4690, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  len___14889: undefined,
  i___14892: undefined,
  j___14898: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_swap__P4689(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.temp___14927 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__getAt(s.arg0, s.arg1);
    s.temp___14927 = (r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.tmp_2);
    r0 = pxsim_Array_.setAt(s.arg0, s.arg2, s.temp___14927);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_swap__P4689.info = {"start":5030,"length":140,"line":185,"column":4,"endLine":189,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"swap","argumentNames":["arr","i","j"]}

function helpers_swap__P4689_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_swap__P4689, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  temp___14927: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac__rolemgr_ServerBindings_scoreFor__P5020(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numBound___14942 = undefined;
    s.numPossible___14943 = undefined;
    s.dev___14944 = undefined;
    s.missing___14947 = undefined;
    s.b___14950 = undefined;
    s.unnamed72___U5 = undefined;
    s.unnamed73___U6 = undefined;
    s.sbuf___14965 = undefined;
    s.idx___14968 = undefined;
    s.serviceIndex___14974 = undefined;
    s.serviceClass___14980 = undefined;
    s.i___14986 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_ServerBindings__C5018_VT)) failedCast(r0);
    s.numBound___14942 = (0);
    s.numPossible___14943 = (0);
    r0 = s.arg1.fields["device"];
    s.dev___14944 = (r0);
    r0 = pxsim_Array__mk();
    s.missing___14947 = (r0);
    s.b___14950 = (undefined);
    r0 = s.arg0.fields["bindings"];
    s.unnamed72___U5 = (r0);
    s.unnamed73___U6 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed73___U6;
    r0 = pxsim_Array__length(s.unnamed72___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed72___U5, s.unnamed73___U6);
    s.b___14950 = (r0);
    r0 = s.b___14950.fields["boundToDev"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = s.b___14950.fields["boundToDev"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.dev___14944);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 2; continue; }
    r0 = (s.numBound___14942 + 1);
    s.numBound___14942 = (r0);
  case 2:
  case 3:
    { step = 5; continue; }
  case 4:
    r0 = pxsim_Array__push(s.missing___14947, s.b___14950);
  case 5:
    r0 = (s.unnamed73___U6 + 1);
    s.unnamed73___U6 = (r0);
    { step = 1; continue; }
  case 6:
    s.unnamed72___U5 = (undefined);
    r0 = s.dev___14944.fields["services"];
    s.sbuf___14965 = (r0);
    s.idx___14968 = (4);
  case 7:
    s.tmp_1 = r0 = s.idx___14968;
    r0 = pxsim.BufferMethods.length(s.sbuf___14965);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    r0 = (s.idx___14968 >> 2);
    s.serviceIndex___14974 = (r0);
    r0 = s.arg1.fields["bindings"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, s.serviceIndex___14974);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    { step = 16; continue; }
  case 8:
  case 9:
    r0 = pxsim.BufferMethods.getNumber(s.sbuf___14965, 11, s.idx___14968);
    s.serviceClass___14980 = (r0);
    s.i___14986 = (0);
  case 10:
    s.tmp_1 = r0 = s.i___14986;
    r0 = pxsim_Array__length(s.missing___14947);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = pxsim_Array__getAt(s.missing___14947, s.i___14986);
    r0 = r0.fields["serviceClass"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.serviceClass___14980);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 13; continue; }
    r0 = (s.numPossible___14943 + 1);
    s.numPossible___14943 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 11; continue; }
    s.tmp_0 = jacdac__rolemgr_RoleBinding_select__P5016_mk(s);
    r0 = pxsim_Array__getAt(s.missing___14947, s.i___14986);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.serviceIndex___14974;
    s.callLocIdx = 361; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = globals.logPriority___3431;
    r0 = pxsim_Array__getAt(s.missing___14947, s.i___14986);
    r0 = r0.fields["role"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat("bind: ", s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, " -> ");
    s.tmp_7 = r0;
    s.tmp_13 = jacdac_Device_shortId__P3536_mk(s);
    s.tmp_13.arg0 = s.dev___14944;
    s.callLocIdx = 362; s.pc = 24; return s.tmp_13;
  case 24:
    r0 = s.retval;
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 25);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 25:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_11);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, ":");
    s.tmp_5 = r0;
    if ((s.serviceIndex___14974) && (s.serviceIndex___14974).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.serviceIndex___14974);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.serviceIndex___14974) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_14);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " -> ");
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.missing___14947, s.i___14986);
    r0 = r0.fields["boundToDev"];
    s.tmp_16 = r0;
    if ((s.tmp_16) && (s.tmp_16).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_16);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_16) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_15 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_15);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.missing___14947, s.i___14986);
    r0 = r0.fields["boundToServiceIdx"];
    s.tmp_18 = r0;
    if ((s.tmp_18) && (s.tmp_18).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_18);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_18) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_17 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_17);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 363; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
  case 11:
  case 12:
    s.tmp_0 = helpers_arraySplice__P1991_mk(s);
    s.tmp_0.arg0 = s.missing___14947;
    s.tmp_0.arg1 = s.i___14986;
    s.tmp_0.arg2 = 1;
    s.callLocIdx = 364; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
    { step = 15; continue; }
  case 13:
  case 14:
    r0 = (s.i___14986 + 1);
    s.i___14986 = (r0);
    { step = 10; continue; }
  case 15:
  case 16:
    r0 = (s.idx___14968 + 4);
    s.idx___14968 = (r0);
    { step = 7; continue; }
  case 17:
    r0 = (s.numPossible___14943 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    r0 = 0;
    { step = 20; continue; }
  case 18:
  case 19:
    r0 = (s.numBound___14942 << 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | s.numPossible___14943);
  case 20:
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_ServerBindings_scoreFor__P5020.info = {"start":2602,"length":2028,"line":73,"column":8,"endLine":118,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"scoreFor","argumentNames":["this","devwrap","select"]}

function jacdac__rolemgr_ServerBindings_scoreFor__P5020_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_ServerBindings_scoreFor__P5020, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  numBound___14942: undefined,
  numPossible___14943: undefined,
  dev___14944: undefined,
  missing___14947: undefined,
  b___14950: undefined,
  unnamed72___U5: undefined,
  unnamed73___U6: undefined,
  sbuf___14965: undefined,
  idx___14968: undefined,
  serviceIndex___14974: undefined,
  serviceClass___14980: undefined,
  i___14986: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac__rolemgr_RoleBinding_select__P5016(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dev___15062 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleBinding__C5014_VT)) failedCast(r0);
    r0 = s.arg1.fields["device"];
    s.dev___15062 = (r0);
    r0 = s.arg0.fields["boundToDev"];
    s.tmp_1 = r0;
    r0 = (s.dev___15062 == s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["boundToServiceIdx"];
    s.tmp_2 = r0;
    r0 = (s.arg2 == s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["boundToDev"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.tmp_5 = jacdac__rolemgr_setRole__P3286_mk(s);
    r0 = s.arg0.fields["boundToDev"];
    r0 = r0.fields["deviceId"];
    s.tmp_5.arg0 = r0;
    r0 = s.arg0.fields["boundToServiceIdx"];
    s.tmp_5.arg1 = r0;
    s.tmp_5.arg2 = null;
    s.callLocIdx = 358; s.pc = 8; return s.tmp_5;
  case 8:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = s.arg1.fields["bindings"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.arg2, s.arg0);
    s.tmp_0 = jacdac__rolemgr_setRole__P3286_mk(s);
    r0 = s.dev___15062.fields["deviceId"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg2;
    r0 = s.arg0.fields["role"];
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 359; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.arg0).fields["boundToDev"] = (s.dev___15062);
    r0 = (s.arg0).fields["boundToServiceIdx"] = (s.arg2);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleBinding_select__P5016.info = {"start":1609,"length":520,"line":48,"column":8,"endLine":59,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"select","argumentNames":["this","devwrap","serviceIdx"]}

function jacdac__rolemgr_RoleBinding_select__P5016_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleBinding_select__P5016, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  dev___15062: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac__rolemgr_maxIn__P5022(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.maxElt___15102 = undefined;
    s.i___15104 = undefined;
    s.c___15110 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__getAt(s.arg0, 0);
    s.maxElt___15102 = (r0);
    s.i___15104 = (1);
  case 1:
    s.tmp_1 = r0 = s.i___15104;
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    s.tmp_3.arg0 = s.maxElt___15102;
    r0 = pxsim_Array__getAt(s.arg0, s.i___15104);
    s.tmp_3.arg1 = r0;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 365; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.c___15110 = (r0);
    r0 = (s.c___15110 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 2:
    r0 = (s.c___15110 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_1;
    { step = 4; continue; }
  case 3:
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg2;
    s.tmp_3.arg0 = s.maxElt___15102;
    r0 = pxsim_Array__getAt(s.arg0, s.i___15104);
    s.tmp_3.arg1 = r0;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 366; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 < 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___15104);
    s.maxElt___15102 = (r0);
  case 6:
  case 7:
    r0 = (s.i___15104 + 1);
    s.i___15104 = (r0);
    { step = 1; continue; }
  case 8:
    r0 = s.maxElt___15102;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_maxIn__P5022.info = {"start":4642,"length":356,"line":121,"column":4,"endLine":132,"endColumn":5,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"maxIn","argumentNames":["arr","cmp","cmdTie"]}

function jacdac__rolemgr_maxIn__P5022_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_maxIn__P5022, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  maxElt___15102: undefined,
  i___15104: undefined,
  c___15110: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac__rolemgr_ServerBindings_fullyBound__P5019(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_ServerBindings__C5018_VT)) failedCast(r0);
    s.tmp_0 = helpers_arrayEvery__P1999_mk(s);
    r0 = s.arg0.fields["bindings"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = jacdac__rolemgr_ServerBindings_fullyBound_inline__P15139;
    s.callLocIdx = 360; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac__rolemgr_ServerBindings_fullyBound__P5019.info = {"start":2255,"length":94,"line":66,"column":8,"endLine":68,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"fullyBound","argumentNames":["this"]}
jacdac__rolemgr_ServerBindings_fullyBound__P5019.isGetter = true;

function jacdac__rolemgr_ServerBindings_fullyBound__P5019_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_ServerBindings_fullyBound__P5019, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_ServerBindings_fullyBound_inline__P15139(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["boundToDev"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 != null);
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_ServerBindings_fullyBound_inline__P15139.info = {"start":2313,"length":25,"line":67,"column":39,"endLine":67,"endColumn":64,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["b"]}

function jacdac__rolemgr_ServerBindings_fullyBound_inline__P15139_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_ServerBindings_fullyBound_inline__P15139, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayEvery__P1999(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___15147 = undefined;
    s.i___15150 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___15147 = (r0);
    s.i___15150 = (0);
  case 1:
    r0 = (s.i___15150 < s.len___15147);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_4 = lambda_3_mk(s);
    s.tmp_4.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___15150);
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.i___15150;
    setupLambda(s.tmp_4, s.tmp_4.argL);
    s.callLocIdx = 6; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = false;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___15150 + 1);
    s.i___15150 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = true;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayEvery__P1999.info = {"start":7135,"length":298,"line":246,"column":4,"endLine":252,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayEvery","argumentNames":["arr","callbackfn"]}

function helpers_arrayEvery__P1999_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayEvery__P1999, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  len___15147: undefined,
  i___15150: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_ServerBindings_constructor__P5021(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_ServerBindings__C5018_VT)) failedCast(r0);
    r0 = (s.arg0).fields["host"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["bindings"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_ServerBindings_constructor__P5021.info = {"start":2209,"length":36,"line":64,"column":8,"endLine":64,"endColumn":44,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["this","host"]}

function jacdac__rolemgr_ServerBindings_constructor__P5021_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_ServerBindings_constructor__P5021, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleBinding_host__P5015(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.slashIdx___15173 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleBinding__C5014_VT)) failedCast(r0);
    r0 = s.arg0.fields["roleQuery"];
    r0 = r0.fields["device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["roleQuery"];
    r0 = r0.fields["device"];
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["role"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_1, "/", undefined);
    s.slashIdx___15173 = (r0);
    r0 = (s.slashIdx___15173 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["role"];
    { step = 5; continue; }
    { step = 4; continue; }
  case 3:
    s.tmp_1 = helpers_stringSlice__P2010_mk(s);
    r0 = s.arg0.fields["role"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    r0 = (s.slashIdx___15173 - 1);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 357; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    { step = 5; continue; }
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleBinding_host__P5015.info = {"start":1341,"length":258,"line":40,"column":8,"endLine":46,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"host","argumentNames":["this"]}

function jacdac__rolemgr_RoleBinding_host__P5015_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleBinding_host__P5015, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  slashIdx___15173: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_RoleBinding_constructor__P5017(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleBinding__C5014_VT)) failedCast(r0);
    r0 = (s.arg0).fields["role"] = (s.arg1);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg2);
    r0 = (s.arg0).fields["roleQuery"] = (s.arg3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleBinding_constructor__P5017.info = {"start":1204,"length":127,"line":38,"column":8,"endLine":38,"endColumn":135,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["this","role","serviceClass","roleQuery"]}

function jacdac__rolemgr_RoleBinding_constructor__P5017_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleBinding_constructor__P5017, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac__rolemgr_DeviceWrapper_constructor__P5013(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_DeviceWrapper__C5012_VT)) failedCast(r0);
    r0 = (s.arg0).fields["device"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["bindings"] = (s.tmp_1);
    r0 = (s.arg0).fields["score"] = (-1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_DeviceWrapper_constructor__P5013.info = {"start":1064,"length":38,"line":31,"column":8,"endLine":31,"endColumn":46,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["this","device"]}

function jacdac__rolemgr_DeviceWrapper_constructor__P5013_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_DeviceWrapper_constructor__P5013, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayMap__P1997(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___15196 = undefined;
    s.len___15198 = undefined;
    s.i___15201 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___15196 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___15198 = (r0);
    s.i___15201 = (0);
  case 1:
    r0 = (s.i___15201 < s.len___15198);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.res___15196;
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___15201);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.i___15201;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 4; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___15201 + 1);
    s.i___15201 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.res___15196;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayMap__P1997.info = {"start":6528,"length":299,"line":229,"column":4,"endLine":236,"endColumn":5,"fileName":"pxt_modules/core/pxt-helpers.ts","functionName":"arrayMap","argumentNames":["arr","callbackfn"]}

function helpers_arrayMap__P1997_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayMap__P1997, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  res___15196: undefined,
  len___15198: undefined,
  i___15201: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_checkChanges__P5025(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.newHash___15218 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleManagerServer__C3287_VT)) failedCast(r0);
    s.tmp_0 = jacdac__rolemgr_RoleManagerServer_bindingHash__P5024_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 426; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.newHash___15218 = (r0);
    r0 = s.arg0.fields["_oldBindingsHash"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.newHash___15218);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_oldBindingsHash"] = (s.newHash___15218);
    s.tmp_0 = jacdac_Server__C3447_v2_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "roles: bindings changed";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_Server_sendChangeEvent__P3466_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 427; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_checkChanges__P5025.info = {"start":13975,"length":416,"line":351,"column":8,"endLine":361,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"checkChanges","argumentNames":["this"]}

function jacdac__rolemgr_RoleManagerServer_checkChanges__P5025_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_checkChanges__P5025, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  newHash___15218: undefined,
  arg0: undefined,
} }





function jacdac_Server_log__P4955(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dev___15239 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["supressLog"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = (globals.logPriority___3431 < globals.minPriority___2376);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    s.tmp_2 = jacdac_Device_toString__P3537_mk(s);
    s.tmp_3 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_3.arg0 = globals.bus___3430;
    s.callLocIdx = 603; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 604; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.dev___15239 = (r0);
    r0 = s.arg0.fields["instanceName"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg0.fields["instanceName"];
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(".", s.tmp_1);
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("[", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "]");
  case 6:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    s.tmp_7 = console_add__P2377_mk(s);
    s.tmp_7.arg0 = globals.logPriority___3431;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_11 = r0;
    if ((s.dev___15239) && (s.dev___15239).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.dev___15239);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.dev___15239) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = pxsim_String__concat(s.tmp_11, s.tmp_12);
    s.tmp_10 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_10, s.tmp_13);
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_9, ">");
    s.tmp_8 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_8, s.tmp_14);
    s.tmp_7.arg1 = r0;
    s.callLocIdx = 605; s.pc = 12; return s.tmp_7;
  case 12:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_log__P4955.info = {"start":26511,"length":527,"line":797,"column":8,"endLine":812,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"log","argumentNames":["this","text"]}

function jacdac_Server_log__P4955_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_log__P4955, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  dev___15239: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_bindingHash__P5024(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___15272 = undefined;
    s.n___15273 = undefined;
    s.i___15277 = undefined;
    s.client___15282 = undefined;
    s.buf___15322 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleManagerServer__C3287_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.r___15272 = (r0);
    r0 = globals.bus___3430.fields["allClients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__length(s.tmp_0);
    s.n___15273 = (r0);
    s.i___15277 = (0);
  case 1:
    r0 = (s.i___15277 < s.n___15273);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = globals.bus___3430.fields["allClients"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, s.i___15277);
    s.client___15282 = (r0);
    r0 = s.client___15282.fields["_role"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_String_.mkEmpty();
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.client___15282.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 4:
    r0 = s.client___15282.fields["_device"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 5:
    r0 = s.client___15282.fields["_device"];
    r0 = r0.fields["deviceId"];
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 7:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_5;
    { step = 9; continue; }
  case 8:
    r0 = pxsim_String_.mkEmpty();
  case 9:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    if ((s.r___15272) && (s.r___15272).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.r___15272);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___15272) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_14 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_15 = r0;
    r0 = pxsim_String__concat(s.tmp_14, s.tmp_15);
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_13, ":");
    s.tmp_12 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_16 = r0;
    r0 = pxsim_String__concat(s.tmp_12, s.tmp_16);
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_11, ":");
    s.tmp_10 = r0;
    r0 = s.client___15282.fields["serviceIndex"];
    s.tmp_18 = r0;
    if ((s.tmp_18) && (s.tmp_18).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_18);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_18) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_17 = r0;
    r0 = pxsim_String__concat(s.tmp_10, s.tmp_17);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_8);
    s.r___15272 = (r0);
    r0 = (s.i___15277 + 1);
    s.i___15277 = (r0);
    { step = 1; continue; }
  case 10:
    r0 = pxsim.control.createBufferFromUTF8(s.r___15272);
    s.buf___15322 = (r0);
    r0 = pxsim.BufferMethods.hash(s.buf___15322, 32);
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_bindingHash__P5024.info = {"start":7482,"length":493,"line":203,"column":8,"endLine":215,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"bindingHash","argumentNames":["this"]}

function jacdac__rolemgr_RoleManagerServer_bindingHash__P5024_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_bindingHash__P5024, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  r___15272: undefined,
  n___15273: undefined,
  i___15277: undefined,
  client___15282: undefined,
  buf___15322: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_setRole__P3286(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.key___15332 = undefined;
    s.i___15347 = undefined;
    s.name___15353 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    if ((globals.roleSettingPrefix___5011) && (globals.roleSettingPrefix___5011).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(globals.roleSettingPrefix___5011);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.roleSettingPrefix___5011) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_6);
    s.key___15332 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_String_.indexOf(s.arg2, "?", undefined);
    s.i___15347 = (r0);
    r0 = (s.i___15347 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg2;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = helpers_stringSubstr__P2009_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.i___15347;
    s.callLocIdx = 351; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.name___15353 = (s.tmp_2);
    s.tmp_0 = settings_writeString__P2792_mk(s);
    s.tmp_0.arg0 = s.key___15332;
    s.tmp_0.arg1 = s.name___15353;
    s.callLocIdx = 352; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = globals.logPriority___3431;
    if ((s.name___15353) && (s.name___15353).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.name___15353);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.name___15353) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("role: set ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " -> ");
    s.tmp_3 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 353; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = settings_remove__P2802_mk(s);
    s.tmp_0.arg0 = s.key___15332;
    s.callLocIdx = 354; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.tmp_0 = console_add__P2377_mk(s);
    s.tmp_0.arg0 = globals.logPriority___3431;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("role: clear binding ", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_4);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 355; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
  case 4:
    s.tmp_0 = jacdac_Bus_clearAttachCache__P3420_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.callLocIdx = 356; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_setRole__P3286.info = {"start":364,"length":608,"line":12,"column":4,"endLine":26,"endColumn":5,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"setRole","argumentNames":["devid","servIdx","role"]}

function jacdac__rolemgr_setRole__P3286_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_setRole__P3286, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  key___15332: undefined,
  i___15347: undefined,
  name___15353: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function settings_remove__P2802(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._remove(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_remove__P2802.info = {"start":4098,"length":64,"line":165,"column":4,"endLine":167,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"remove","argumentNames":["key"]}

function settings_remove__P2802_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_remove__P2802, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function settings_writeString__P2792(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = settings_writeBuffer__P2791_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 153; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeString__P2792.info = {"start":1895,"length":125,"line":75,"column":4,"endLine":77,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeString","argumentNames":["key","value"]}

function settings_writeString__P2792_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeString__P2792, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Bus_queueAnnounce__P3422(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ids___15407 = undefined;
    s.buf___15439 = undefined;
    s.i___15445 = undefined;
    s.cl___15472 = undefined;
    s.unnamed86___U4 = undefined;
    s.unnamed87___U5 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.tmp_0 = helpers_arrayMap__P1997_mk(s);
    r0 = s.arg0.fields["servers"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = ids_inline__P15409;
    s.callLocIdx = 441; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.ids___15407 = (r0);
    r0 = s.arg0.fields["restartCounter"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 15);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["restartCounter"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["restartCounter"] = (s.tmp_3);
  case 1:
  case 2:
    r0 = globals.roleManagerServer___3293.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 2048;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = r0 = s.ids___15407;
    r0 = s.arg0.fields["restartCounter"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 | s.tmp_1);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 | 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 512);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 1024);
    s.tmp_3 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_2, 0, s.tmp_3);
    r0 = pxsim_Array__length(s.ids___15407);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 4);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.buf___15439 = (r0);
    s.i___15445 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___15445;
    r0 = pxsim_Array__length(s.ids___15407);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.buf___15439;
    r0 = (s.i___15445 * 4);
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.ids___15407, s.i___15445);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_3, 11, s.tmp_4, s.tmp_5);
    r0 = (s.i___15445 + 1);
    s.i___15445 = (r0);
    { step = 5; continue; }
  case 6:
    s.tmp_0 = jacdac_JDPacket__sendReport__P2924_mk(s);
    s.tmp_1 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_1.arg0 = 0;
    s.tmp_1.arg1 = s.buf___15439;
    s.callLocIdx = 443; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_2 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 444; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 445; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.SELF_ANNOUNCE___3397;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 446; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    s.cl___15472 = (undefined);
    r0 = s.arg0.fields["allClients"];
    s.unnamed86___U4 = (r0);
    s.unnamed87___U5 = (0);
  case 7:
    s.tmp_0 = r0 = s.unnamed87___U5;
    r0 = pxsim_Array__length(s.unnamed86___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(s.unnamed86___U4, s.unnamed87___U5);
    s.cl___15472 = (r0);
    s.tmp_2 = jacdac_Client__C3496_v1_1_mk(s);
    s.tmp_2.arg0 = s.cl___15472;
    if (!checkSubtype(s.tmp_2.arg0, jacdac_Client__C3496_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.announceCallback;
    s.pc = 24; return s.tmp_2;
  case 24:
    r0 = s.retval;
    r0 = (s.unnamed87___U5 + 1);
    s.unnamed87___U5 = (r0);
    { step = 7; continue; }
  case 8:
    s.unnamed86___U4 = (undefined);
    s.tmp_0 = jacdac_Bus_gcDevices__P5034_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 447; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    r0 = globals.roleManagerServer___3293.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = s.arg0.fields["resetIn"];
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = s.arg0.fields["resetIn"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    s.tmp_4 = jacdac_JDPacket_sendAsMultiCommand__P2927_mk(s);
    s.tmp_5 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_5.arg0 = 8320;
    s.tmp_6 = jacdac_jdpack__P2934_mk(s);
    s.tmp_6.arg0 = "u32";
    s.tmp_6.arg1 = s.tmp_2;
    s.callLocIdx = 449; s.pc = 28; return s.tmp_6;
  case 28:
    r0 = s.retval;
    s.tmp_5.arg1 = r0;
    s.callLocIdx = 450; s.pc = 27; return s.tmp_5;
  case 27:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = 0;
    s.callLocIdx = 451; s.pc = 26; return s.tmp_4;
  case 26:
    r0 = s.retval;
  case 11:
  case 12:
    r0 = globals.roleManagerServer___3293.fields["autoBind"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = s.tmp_0;
    { step = 14; continue; }
  case 13:
    r0 = globals.roleManagerServer___3293.fields["running"];
  case 14:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 17; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["autoBindCnt"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["autoBindCnt"] = (s.tmp_3);
    r0 = s.arg0.fields["autoBindCnt"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = (s.arg0).fields["autoBindCnt"] = (0);
    s.tmp_0 = jacdac__rolemgr_RoleManagerServer_bindRoles__P3291_mk(s);
    s.tmp_0.arg0 = globals.roleManagerServer___3293;
    s.callLocIdx = 452; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
  case 15:
  case 16:
  case 17:
  case 18:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_queueAnnounce__P3422.info = {"start":4193,"length":1550,"line":135,"column":8,"endLine":170,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"queueAnnounce","argumentNames":["this"]}

function jacdac_Bus_queueAnnounce__P3422_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_queueAnnounce__P3422, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  ids___15407: undefined,
  buf___15439: undefined,
  i___15445: undefined,
  cl___15472: undefined,
  unnamed86___U4: undefined,
  unnamed87___U5: undefined,
  arg0: undefined,
} }





function ids_inline__P15409(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["serviceClass"];
    { step = 2; continue; }
  case 1:
    r0 = -1;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
ids_inline__P15409.info = {"start":4252,"length":38,"line":136,"column":41,"endLine":136,"endColumn":79,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["h"]}

function ids_inline__P15409_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ids_inline__P15409, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_sendAsMultiCommand__P2927(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 5);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 3, s.tmp_1);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 4, s.arg1);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 8, 2863311530);
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 61;
    s.callLocIdx = 237; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCore__P2923_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 238; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_sendAsMultiCommand__P2927.info = {"start":10165,"length":509,"line":317,"column":8,"endLine":329,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"sendAsMultiCommand","argumentNames":["this","serviceClass"]}

function jacdac_JDPacket_sendAsMultiCommand__P2927_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_sendAsMultiCommand__P2927, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Bus_gcDevices__P5034(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___15535 = undefined;
    s.cutoff___15538 = undefined;
    s.numdel___15544 = undefined;
    s.i___15545 = undefined;
    s.dev___15552 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.now___15535 = (r0);
    r0 = (s.now___15535 - 2000);
    s.cutoff___15538 = (r0);
    s.tmp_1 = jacdac_Bus_selfDevice__P3418_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 433; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0).fields["lastSeen"] = (s.now___15535);
    s.numdel___15544 = (0);
    s.i___15545 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___15545;
    r0 = s.arg0.fields["devices"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["devices"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.i___15545);
    s.dev___15552 = (r0);
    r0 = s.dev___15552.fields["lastSeen"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.cutoff___15538);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_2 = helpers_arraySplice__P1991_mk(s);
    r0 = s.arg0.fields["devices"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.i___15545;
    s.tmp_2.arg2 = 1;
    s.callLocIdx = 434; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    r0 = (s.i___15545 - 1);
    s.i___15545 = (r0);
    s.tmp_0 = jacdac_Device__destroy__P3549_mk(s);
    s.tmp_0.arg0 = s.dev___15552;
    s.callLocIdx = 435; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.numdel___15544 + 1);
    s.numdel___15544 = (r0);
  case 2:
  case 3:
    r0 = (s.i___15545 + 1);
    s.i___15545 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.numdel___15544);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.DEVICE_CHANGE___3395;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 436; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.CHANGE___3390;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 437; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_gcDevices__P5034.info = {"start":2357,"length":639,"line":77,"column":8,"endLine":96,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"gcDevices","argumentNames":["this"]}

function jacdac_Bus_gcDevices__P5034_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_gcDevices__P5034, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  now___15535: undefined,
  cutoff___15538: undefined,
  numdel___15544: undefined,
  i___15545: undefined,
  dev___15552: undefined,
  arg0: undefined,
} }





function jacdac_Client_announceCallback__P3523(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C3496_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_announceCallback__P3523.info = {"start":42303,"length":21,"line":1276,"column":8,"endLine":1276,"endColumn":29,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"announceCallback","argumentNames":["this"]}

function jacdac_Client_announceCallback__P3523_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_announceCallback__P3523, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Bus_isClient__P3421(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = globals.roleManagerServer___3293.fields["running"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Bus_isClient__P3421.info = {"start":4112,"length":71,"line":131,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"isClient","argumentNames":["this"]}
jacdac_Bus_isClient__P3421.isGetter = true;

function jacdac_Bus_isClient__P3421_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_isClient__P3421, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_consumePackets__P5088(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___15586 = undefined;
    s.pkt___15593 = undefined;
  case 1:
    s.tmp_1 = jacdac___physGetPacket__P2816_mk(s);
    s.callLocIdx = 832; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.buf___15586 = (r0);
    r0 = (null != s.tmp_0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = jacdac_JDPacket_fromBinary__P2882_mk(s);
    s.tmp_3.arg0 = s.buf___15586;
    s.callLocIdx = 833; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.pkt___15593 = (r0);
    s.tmp_0 = r0 = s.pkt___15593;
    s.tmp_2 = jacdac___physGetTimestamp__P2817_mk(s);
    s.callLocIdx = 834; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["timestamp"] = (s.tmp_1);
    s.tmp_0 = jacdac_Bus_processPacket__P3428_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.pkt___15593;
    s.callLocIdx = 835; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_consumePackets__P5088.info = {"start":62546,"length":273,"line":1869,"column":4,"endLine":1876,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"consumePackets","argumentNames":[]}

function jacdac_consumePackets__P5088_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_consumePackets__P5088, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  buf___15586: undefined,
  pkt___15593: undefined,
} }





function jacdac___physGetTimestamp__P2817(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.recvQ___4860);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim.control.millis();
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac___physGetTimestamp__P2817.info = {"start":1523,"length":121,"line":52,"column":4,"endLine":55,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physGetTimestamp","argumentNames":[]}

function jacdac___physGetTimestamp__P2817_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physGetTimestamp__P2817, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function jacdac_JDPacket_fromBinary__P2882(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___15608 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDPacket__C2877_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_JDPacket_constructor__P4892_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 178; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.p___15608 = (s.tmp_0);
    s.tmp_0 = r0 = s.p___15608;
    r0 = pxsim.BufferMethods.slice(s.arg0, 0, 16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_header"] = (s.tmp_1);
    s.tmp_0 = r0 = s.p___15608;
    s.tmp_2 = r0 = s.arg0;
    r0 = s.p___15608.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 12);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, 16, s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_data"] = (s.tmp_1);
    r0 = s.p___15608;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_fromBinary__P2882.info = {"start":1792,"length":230,"line":49,"column":8,"endLine":54,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"fromBinary","argumentNames":["buf"]}

function jacdac_JDPacket_fromBinary__P2882_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_fromBinary__P2882, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  p___15608: undefined,
  arg0: undefined,
} }





function jacdac___physGetPacket__P2816(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.recvQ___4860);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array_.removeAt(globals.recvQ___4860, 0);
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac___physGetPacket__P2816.info = {"start":1286,"length":115,"line":43,"column":4,"endLine":46,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physGetPacket","argumentNames":[]}

function jacdac___physGetPacket__P2816_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physGetPacket__P2816, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function jacdac___physId__P2814(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 30;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physId__P2814.info = {"start":139,"length":59,"line":7,"column":4,"endLine":9,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physId","argumentNames":[]}

function jacdac___physId__P2814_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physId__P2814, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function jacdac__rolemgr_RoleManagerServer_constructor__P3289(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleManagerServer__C3287_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    r0 = (s.arg0).fields["autoBind"] = (true);
    s.tmp_2 = jacdac_Server_constructor__P3451_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 508264038;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 367; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_constructor__P3289.info = {"start":5133,"length":68,"line":138,"column":8,"endLine":140,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["this"]}

function jacdac__rolemgr_RoleManagerServer_constructor__P3289_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_constructor__P3289, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_Server_constructor__P3451(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    s.tmp_2 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 527; s.pc = 13; return s.tmp_2;
  case 13:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 11; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_instanceName_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "instanceName");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["instanceName"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["instanceName"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 528; s.pc = 14; return s.tmp_2; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["instanceName"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_variant_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "variant");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["variant"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["variant"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 529; s.pc = 15; return s.tmp_2; }
    }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["variant"] = (s.tmp_1);
    s.tmp_1 = if_statusCode_1_mk(s);
    s.tmp_1.arg0 = s.arg2;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "statusCode");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["statusCode"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["statusCode"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 530; s.pc = 16; return s.tmp_1; }
    }
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = r0 = s.arg0;
    s.tmp_5 = if_statusCode_1_mk(s);
    s.tmp_5.arg0 = s.arg2;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "statusCode");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["statusCode"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["statusCode"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 531; s.pc = 17; return s.tmp_5; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 65535);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["_statusCode"] = (s.tmp_3);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_intensityPackFormat_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "intensityPackFormat");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["intensityPackFormat"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["intensityPackFormat"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 532; s.pc = 18; return s.tmp_2; }
    }
  case 18:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["intensityPackFormat"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_valuePackFormat_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "valuePackFormat");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["valuePackFormat"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["valuePackFormat"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 533; s.pc = 19; return s.tmp_2; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["valuePackFormat"] = (s.tmp_1);
    r0 = s.arg0.fields["intensityPackFormat"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = if_intensity_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "intensity");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["intensity"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["intensity"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 534; s.pc = 20; return s.tmp_2; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_1;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 5:
    r0 = undefined;
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.arg0).fields["_intensity"] = (s.tmp_4);
    r0 = s.arg0.fields["valuePackFormat"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_2 = if_value_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "value");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["value"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["value"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 535; s.pc = 21; return s.tmp_2; }
    }
  case 21:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_1;
    { step = 8; continue; }
  case 7:
    r0 = 0;
  case 8:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    { step = 10; continue; }
  case 9:
    r0 = undefined;
  case 10:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.arg0).fields["_value"] = (s.tmp_4);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_calibrate_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "calibrate");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["calibrate"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["calibrate"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 536; s.pc = 22; return s.tmp_2; }
    }
  case 22:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["calibrate"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_constants_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "constants");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["constants"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["constants"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 537; s.pc = 23; return s.tmp_2; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["constants"] = (s.tmp_1);
  case 11:
  case 12:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_constructor__P3451.info = {"start":14469,"length":889,"line":417,"column":8,"endLine":439,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this","serviceClass","options"]}

function jacdac_Server_constructor__P3451_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_constructor__P3451, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_LoggerServer_constructor__P3169(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LoggerServer__C3167_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    r0 = (s.arg0).fields["minPriority"] = (4);
    s.tmp_2 = jacdac_Server_constructor__P3451_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 316415946;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 309; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LoggerServer_constructor__P3169.info = {"start":164,"length":101,"line":5,"column":8,"endLine":8,"endColumn":9,"fileName":"pxt_modules/jacdac/logger-server/server.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_LoggerServer_constructor__P3169_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LoggerServer_constructor__P3169, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_LoggerServer_add__P3175(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___15734 = undefined;
    s.unnamed70___U1 = undefined;
    s.unnamed71___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LoggerServer__C3167_VT)) failedCast(r0);
    r0 = s.arg0.fields["running"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_4;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.length(s.arg2);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBool(s.tmp_7);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_7;
    { step = 6; continue; }
  case 5:
    r0 = globals.bus___3430.fields["controlServer"];
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    s.tmp_12 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_12);
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
  case 6:
    // jmp value (already in r0)
    s.tmp_14 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_14);
    if (!r0) { step = 7; continue; }
    { step = 17; continue; }
  case 7:
  case 8:
    r0 = s.arg0.fields["minPriority"];
    s.tmp_16 = r0;
    r0 = (s.arg1 < s.tmp_16);
    s.tmp_15 = r0;
    r0 = pxsim_numops_toBool(s.tmp_15);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_15;
    { step = 10; continue; }
  case 9:
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_18 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_18);
    s.tmp_17 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_17);
  case 10:
    // jmp value (already in r0)
    s.tmp_19 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_19);
    if (!r0) { step = 11; continue; }
    { step = 17; continue; }
  case 11:
  case 12:
    r0 = pxsim.control.millis();
    s.tmp_22 = r0;
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_23 = r0;
    r0 = (s.tmp_22 - s.tmp_23);
    s.tmp_21 = r0;
    r0 = (s.tmp_21 > 3000);
    s.tmp_20 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_20);
    if (!r0) { step = 13; continue; }
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    r0 = (s.arg0).fields["minPriority"] = (4);
    { step = 17; continue; }
  case 13:
  case 14:
    s.buf___15734 = (undefined);
    s.tmp_0 = Buffer_chunkedFromUTF8__P2641_mk(s);
    s.tmp_0.arg0 = s.arg2;
    s.tmp_0.arg1 = 236;
    s.callLocIdx = 316; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.unnamed70___U1 = (r0);
    s.unnamed71___U2 = (0);
  case 15:
    s.tmp_0 = r0 = s.unnamed71___U2;
    r0 = pxsim_Array__length(s.unnamed70___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 16; continue; }
    r0 = pxsim_Array__getAt(s.unnamed70___U1, s.unnamed71___U2);
    s.buf___15734 = (r0);
    s.tmp_2 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_3 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = (128 + s.arg1);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.buf___15734;
    s.callLocIdx = 317; s.pc = 20; return s.tmp_3;
  case 20:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 318; s.pc = 19; return s.tmp_2;
  case 19:
    r0 = s.retval;
    r0 = (s.unnamed71___U2 + 1);
    s.unnamed71___U2 = (r0);
    { step = 15; continue; }
  case 16:
    s.unnamed70___U1 = (undefined);
  case 17:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LoggerServer_add__P3175.info = {"start":2090,"length":833,"line":57,"column":8,"endLine":80,"endColumn":9,"fileName":"pxt_modules/jacdac/logger-server/server.ts","functionName":"add","argumentNames":["this","priority","message"]}

function jacdac_LoggerServer_add__P3175_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LoggerServer_add__P3175, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  tmp_23: undefined,
  buf___15734: undefined,
  unnamed70___U1: undefined,
  unnamed71___U2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Buffer_chunkedFromUTF8__P2641(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.chunks___15749 = undefined;
    s.pos___15751 = undefined;
    s.len___15757 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Oops");
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.chunks___15749 = (r0);
    s.pos___15751 = (0);
  case 3:
    s.tmp_1 = r0 = s.pos___15751;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = Buffer_chunkLen__P4789_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.pos___15751;
    s.tmp_3.arg2 = s.arg1;
    s.callLocIdx = 77; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.len___15757 = (r0);
    s.tmp_0 = r0 = s.chunks___15749;
    s.tmp_3 = helpers_stringSlice__P2010_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.pos___15751;
    r0 = (s.pos___15751 + s.len___15757);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 78; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.pos___15751 + s.len___15757);
    s.pos___15751 = (r0);
    { step = 3; continue; }
  case 4:
    r0 = s.chunks___15749;
    return leave(s, r0)
  default: oops()
} } }
Buffer_chunkedFromUTF8__P2641.info = {"start":10703,"length":381,"line":379,"column":4,"endLine":390,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"chunkedFromUTF8","argumentNames":["str","maxBytes"]}

function Buffer_chunkedFromUTF8__P2641_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_chunkedFromUTF8__P2641, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  chunks___15749: undefined,
  pos___15751: undefined,
  len___15757: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Buffer_chunkLen__P4789(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.L___15782 = undefined;
    s.R___15786 = undefined;
    s.m___15804 = undefined;
    s.ll___15813 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.idiv(s.arg2, 3);
    s.L___15782 = (r0);
    s.R___15786 = (s.arg2);
    s.tmp_4 = helpers_stringSlice__P2010_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    r0 = (s.arg1 + s.R___15786);
    s.tmp_4.arg2 = r0;
    s.callLocIdx = 75; s.pc = 10; return s.tmp_4;
  case 10:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.R___15786;
    { step = 9; continue; }
  case 1:
  case 2:
  case 3:
    r0 = (s.L___15782 < s.R___15786);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 8; continue; }
    r0 = (s.L___15782 + s.R___15786);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 1);
    s.m___15804 = (r0);
    r0 = (s.m___15804 == s.L___15782);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    { step = 8; continue; }
  case 4:
  case 5:
    s.tmp_3 = helpers_stringSlice__P2010_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    r0 = (s.arg1 + s.m___15804);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 76; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.ll___15813 = (r0);
    r0 = (s.ll___15813 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.L___15782 = (s.m___15804);
    { step = 7; continue; }
  case 6:
    s.R___15786 = (s.m___15804);
  case 7:
    { step = 3; continue; }
  case 8:
    r0 = s.L___15782;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
Buffer_chunkLen__P4789.info = {"start":10201,"length":496,"line":358,"column":4,"endLine":377,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"chunkLen","argumentNames":["s","off","maxlen"]}

function Buffer_chunkLen__P4789_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_chunkLen__P4789, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  L___15782: undefined,
  R___15786: undefined,
  m___15804: undefined,
  ll___15813: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function console_addListener__P2384(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.listeners___4733);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.listeners___4733 = (r0);
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_Array_.indexOf(globals.listeners___4733, s.arg0, undefined);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > -1);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    { step = 7; continue; }
  case 5:
  case 6:
    r0 = pxsim_Array__push(globals.listeners___4733, s.arg0);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_addListener__P2384.info = {"start":3264,"length":236,"line":114,"column":4,"endLine":118,"endColumn":5,"fileName":"pxt_modules/core/console.ts","functionName":"addListener","argumentNames":["listener"]}

function console_addListener__P2384_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_addListener__P2384, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_ProxyServer_constructor__P5060(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ProxyServer__C5058_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    s.tmp_2 = jacdac_Server_constructor__P3451_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 384932169;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 751; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ProxyServer_constructor__P5060.info = {"start":52508,"length":54,"line":1578,"column":8,"endLine":1580,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_ProxyServer_constructor__P5060_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ProxyServer_constructor__P5060, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_BrainServer_constructor__P5063(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_BrainServer__C5061_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    s.tmp_2 = jacdac_Server_constructor__P3451_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 272387813;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 752; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_BrainServer_constructor__P5063.info = {"start":52617,"length":61,"line":1584,"column":8,"endLine":1586,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_BrainServer_constructor__P5063_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_BrainServer_constructor__P5063, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_Server_start__P3468(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["running"] = (true);
    s.tmp_0 = jacdac_start__P3559_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 601; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_Bus_addServer__P3417_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 602; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_Server__C3447_v2_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "start";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_start__P3468.info = {"start":26121,"length":184,"line":780,"column":8,"endLine":786,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"start","argumentNames":["this"]}

function jacdac_Server_start__P3468_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_start__P3468, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Bus_addServer__P3417(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg0.fields["servers"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["serviceIndex"] = (s.tmp_1);
    r0 = s.arg0.fields["servers"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_addServer__P3417.info = {"start":2218,"length":129,"line":72,"column":8,"endLine":75,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"addServer","argumentNames":["this","server"]}

function jacdac_Bus_addServer__P3417_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_addServer__P3417, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_enableIdentityLED__P5084(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = null;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_log__P5040_mk(s);
    s.tmp_1.arg0 = "enabling identity LED";
    s.callLocIdx = 810; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.IDENTIFY___3405;
    s.tmp_0.arg2 = jacdac_enableIdentityLED_inline__P15888;
    s.callLocIdx = 816; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enableIdentityLED__P5084.info = {"start":59705,"length":515,"line":1769,"column":4,"endLine":1783,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"enableIdentityLED","argumentNames":[]}

function jacdac_enableIdentityLED__P5084_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enableIdentityLED__P5084, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function jacdac_enableIdentityLED_inline__P15888(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = control_runInBackground__P2296_mk(s);
    s.tmp_0.arg0 = jacdac_enableIdentityLED_inline__P15890;
    s.callLocIdx = 815; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enableIdentityLED_inline__P15888.info = {"start":59852,"length":338,"line":1772,"column":29,"endLine":1780,"endColumn":18,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_enableIdentityLED_inline__P15888_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enableIdentityLED_inline__P15888, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_enableIdentityLED_inline__P15890(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___15891 = undefined;
    s.i___15891 = (0);
  case 1:
    r0 = (s.i___15891 < 7);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = jacdac_setPinByCfg__P5081_mk(s);
    s.tmp_1.arg0 = 13;
    s.tmp_1.arg1 = true;
    s.callLocIdx = 811; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 50;
    s.callLocIdx = 812; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_setPinByCfg__P5081_mk(s);
    s.tmp_0.arg0 = 13;
    s.tmp_0.arg1 = false;
    s.callLocIdx = 813; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 150;
    s.callLocIdx = 814; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = (s.i___15891 + 1);
    s.i___15891 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enableIdentityLED_inline__P15890.info = {"start":59898,"length":291,"line":1773,"column":40,"endLine":1780,"endColumn":17,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_enableIdentityLED_inline__P15890_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enableIdentityLED_inline__P15890, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  i___15891: undefined,
} }





function jacdac_setPinByCfg__P5081(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pin___15906 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = null;
    s.pin___15906 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.pin___15906);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = 0;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 65536);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.arg1 = (r0);
  case 3:
  case 4:
    s.tmp_0 = if_digitalWrite_2_mk(s);
    s.tmp_0.arg0 = s.pin___15906;
    s.tmp_0.arg1 = s.arg1;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "digitalWrite"), 2);
      s.callLocIdx = 795; s.pc = 6; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["digitalWrite"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["digitalWrite"], 2); s.callLocIdx = 795; s.pc = 6; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 795; s.pc = 6; return s.tmp_0;; }
     else { s.callLocIdx = 795; s.pc = 6; return s.tmp_0; }
    }
  case 6:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_setPinByCfg__P5081.info = {"start":58197,"length":247,"line":1732,"column":4,"endLine":1738,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"setPinByCfg","argumentNames":["cfg","val"]}

function jacdac_setPinByCfg__P5081_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_setPinByCfg__P5081, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  pin___15906: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function pins_pinByCfg__P2828(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = null;
    return leave(s, r0)
  default: oops()
} } }
pins_pinByCfg__P2828.info = {"start":489,"length":82,"line":22,"column":4,"endLine":24,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"pinByCfg","argumentNames":["key"]}

function pins_pinByCfg__P2828_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_pinByCfg__P2828, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_enablePowerFaultPin__P5083(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.faultpin___15925 = undefined;
    r0 = null;
    s.faultpin___15925 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.faultpin___15925);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = jacdac_log__P5040_mk(s);
    s.tmp_0.arg0 = "enabling power fault pin";
    s.callLocIdx = 798; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = if_setPull_2_mk(s);
    s.tmp_0.arg0 = s.faultpin___15925;
    s.tmp_0.arg1 = 1;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "setPull"), 2);
      s.callLocIdx = 799; s.pc = 4; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["setPull"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["setPull"], 2); s.callLocIdx = 799; s.pc = 4; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 799; s.pc = 4; return s.tmp_0;; }
     else { s.callLocIdx = 799; s.pc = 4; return s.tmp_0; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_0 = if_digitalRead_1_mk(s);
    s.tmp_0.arg0 = s.faultpin___15925;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "digitalRead"), 1);
      s.callLocIdx = 800; s.pc = 5; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["digitalRead"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["digitalRead"], 1); s.callLocIdx = 800; s.pc = 5; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 800; s.pc = 5; return s.tmp_0;; }
     else { s.callLocIdx = 800; s.pc = 5; return s.tmp_0; }
    }
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, jacdac_enablePowerFaultPin_inline__P15939);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.faultpin___15925);
    s.tmp_1 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_1.arg0 = globals.bus___3430;
    s.tmp_1.arg1 = globals.SELF_ANNOUNCE___3397;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 808; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enablePowerFaultPin__P5083.info = {"start":58659,"length":1040,"line":1746,"column":4,"endLine":1767,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"enablePowerFaultPin","argumentNames":[]}

function jacdac_enablePowerFaultPin__P5083_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enablePowerFaultPin__P5083, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  faultpin___15925: undefined,
} }





function jacdac_enablePowerFaultPin_inline__P15939(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_2 = if_digitalRead_1_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "digitalRead"), 1);
      s.callLocIdx = 801; s.pc = 3; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["digitalRead"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["digitalRead"], 1); s.callLocIdx = 801; s.pc = 3; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 801; s.pc = 3; return s.tmp_2;; }
     else { s.callLocIdx = 801; s.pc = 3; return s.tmp_2; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == false);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = control_runInParallel__P2295_mk(s);
    s.tmp_3.arg0 = jacdac_enablePowerFaultPin_inline__P15945;
    s.callLocIdx = 807; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enablePowerFaultPin_inline__P15939.info = {"start":59089,"length":593,"line":1754,"column":41,"endLine":1765,"endColumn":13,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_enablePowerFaultPin_inline__P15939_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enablePowerFaultPin_inline__P15939, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function jacdac_enablePowerFaultPin_inline__P15945(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.control.dmesg("jacdac power overload; restarting power");
    s.tmp_0 = jacdac_enablePower__P5082_mk(s);
    s.tmp_0.arg0 = false;
    s.callLocIdx = 802; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_setPinByCfg__P5081_mk(s);
    s.tmp_0.arg0 = 1103;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 803; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 200;
    s.callLocIdx = 804; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_setPinByCfg__P5081_mk(s);
    s.tmp_0.arg0 = 1103;
    s.tmp_0.arg1 = false;
    s.callLocIdx = 805; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_enablePower__P5082_mk(s);
    s.tmp_0.arg0 = true;
    s.callLocIdx = 806; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enablePowerFaultPin_inline__P15945.info = {"start":59194,"length":455,"line":1756,"column":42,"endLine":1763,"endColumn":21,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_enablePowerFaultPin_inline__P15945_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enablePowerFaultPin_inline__P15945, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_enablePower__P5082(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_setPinByCfg__P5081_mk(s);
    s.tmp_0.arg0 = 1104;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 796; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_enablePower__P5082.info = {"start":58450,"length":203,"line":1740,"column":4,"endLine":1744,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"enablePower","argumentNames":["enabled"]}

function jacdac_enablePower__P5082_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_enablePower__P5082, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Bus_start__P3416(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["controlServer"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ControlServer__C3550_VT);
    s.tmp_5 = r0;
    s.tmp_6 = jacdac_ControlServer_constructor__P3551_mk(s);
    s.tmp_6.arg0 = s.tmp_5;
    s.callLocIdx = 431; s.pc = 4; return s.tmp_6;
  case 4:
    r0 = s.retval;
    r0 = (s.arg0).fields["controlServer"] = (s.tmp_5);
    s.tmp_0 = jacdac_Server_start__P3468_mk(s);
    r0 = s.arg0.fields["controlServer"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 432; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_start__P3416.info = {"start":2059,"length":149,"line":65,"column":8,"endLine":70,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"start","argumentNames":["this"]}

function jacdac_Bus_start__P3416_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_start__P3416, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function jacdac_ControlServer_constructor__P3551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlServer__C3550_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    r0 = (s.arg0).fields["_statusCode"] = (0);
    r0 = (s.arg0).fields["_statusVendorCode"] = (0);
    s.tmp_2 = jacdac_Server_constructor__P3451_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 0;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 753; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlServer_constructor__P3551.info = {"start":52742,"length":63,"line":1590,"column":8,"endLine":1592,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_ControlServer_constructor__P3551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlServer_constructor__P3551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function control_getConfigValue__P2825(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg1;
    return leave(s, r0)
  default: oops()
} } }
control_getConfigValue__P2825.info = {"start":260,"length":93,"line":12,"column":4,"endLine":14,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"getConfigValue","argumentNames":["key","defl"]}

function control_getConfigValue__P2825_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_getConfigValue__P2825, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Bus_running__P3415(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    r0 = s.arg0.fields["controlServer"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Bus_running__P3415.info = {"start":1984,"length":65,"line":61,"column":8,"endLine":63,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"running","argumentNames":["this"]}
jacdac_Bus_running__P3415.isGetter = true;

function jacdac_Bus_running__P3415_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_running__P3415, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function control_runInParallel__P2295(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.inBackground(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_runInParallel__P2295.info = {"start":195,"length":85,"line":10,"column":4,"endLine":12,"endColumn":5,"fileName":"pxt_modules/core/control.ts","functionName":"runInParallel","argumentNames":["a"]}

function control_runInParallel__P2295_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_runInParallel__P2295, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_startProxy__P5086(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.isLate___15985 = undefined;
    r0 = pxsim.settings._exists(globals.JACDAC_PROXY_SETTING_LATE___3558);
    s.isLate___15985 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.isLate___15985);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = settings_remove__P2802_mk(s);
    s.tmp_0.arg0 = globals.JACDAC_PROXY_SETTING_LATE___3558;
    s.callLocIdx = 826; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim.settings._exists(globals.JACDAC_PROXY_SETTING___3557);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    { step = 9; continue; }
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.isLate___15985);
    if (!r0) { step = 5; continue; }
    r0 = "late";
    { step = 6; continue; }
  case 5:
    r0 = "early";
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("jacdac: start dongle (", s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, ")");
    s.tmp_4 = r0;
    r0 = pxsim.control.dmesg(s.tmp_4);
    s.tmp_0 = settings_remove__P2802_mk(s);
    s.tmp_0.arg0 = globals.JACDAC_PROXY_SETTING___3557;
    s.callLocIdx = 828; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "disableLogger", false);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "disableRoleManager", true);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "noWait", true);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "proxyMode", true);
    s.tmp_1 = jacdac_start__P3559_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 829; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.isLate___15985);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_2 = jacdac_proxyLoop__P5085_mk(s);
    s.callLocIdx = 830; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
  case 7:
  case 8:
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_startProxy__P5086.info = {"start":61767,"length":609,"line":1842,"column":4,"endLine":1861,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"startProxy","argumentNames":[]}

function jacdac_startProxy__P5086_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_startProxy__P5086, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  isLate___15985: undefined,
} }





function jacdac_proxyLoop__P5085(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.statusPhase___16024 = undefined;
    s.sim___16025 = undefined;
    s.phase___16031 = undefined;
    s.r___16033 = undefined;
    s.g___16035 = undefined;
    s.b___16037 = undefined;
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.PACKET_PROCESS___3398;
    s.tmp_0.arg2 = jacdac_proxyLoop_inline__P16014;
    s.callLocIdx = 819; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.STATUS_EVENT___3404;
    s.tmp_0.arg2 = 200;
    s.callLocIdx = 820; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.statusPhase___16024 = (0);
    s.tmp_0 = jacdac_isSimulator__P3554_mk(s);
    s.callLocIdx = 821; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.sim___16025 = (r0);
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 8; continue; }
    r0 = (s.statusPhase___16024 + 1);
    s.statusPhase___16024 = (r0);
    s.phase___16031 = (s.statusPhase___16024);
    r0 = pxsim_numops_toBoolDecr(s.sim___16025);
    if (!r0) { step = 2; continue; }
    r0 = 61440;
    { step = 3; continue; }
  case 2:
    r0 = 5632;
  case 3:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.r___16033 = (s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(s.sim___16025);
    if (!r0) { step = 4; continue; }
    r0 = 61440;
    { step = 5; continue; }
  case 4:
    r0 = 1024;
  case 5:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.g___16035 = (s.tmp_0);
    s.b___16037 = (0);
    s.tmp_0 = Math_abs__P2019_mk(s);
    r0 = (s.phase___16031 & 31);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 16);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 822; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.phase___16031 = (r0);
    r0 = (s.phase___16031 > 15);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.phase___16031 = (15);
  case 6:
  case 7:
    r0 = (s.r___16033 * s.phase___16031);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 4);
    s.r___16033 = (r0);
    r0 = (s.g___16035 * s.phase___16031);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 4);
    s.g___16035 = (r0);
    r0 = (s.b___16037 * s.phase___16031);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 4);
    s.b___16037 = (r0);
    s.tmp_0 = jacdac_setLed__P3565_mk(s);
    s.tmp_0.arg0 = s.r___16033;
    s.tmp_0.arg1 = s.g___16035;
    s.tmp_0.arg2 = s.b___16037;
    s.callLocIdx = 823; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 100;
    s.callLocIdx = 824; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    { step = 1; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_proxyLoop__P5085.info = {"start":60344,"length":809,"line":1790,"column":4,"endLine":1819,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"proxyLoop","argumentNames":[]}

function jacdac_proxyLoop__P5085_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_proxyLoop__P5085, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  statusPhase___16024: undefined,
  sim___16025: undefined,
  phase___16031: undefined,
  r___16033: undefined,
  g___16035: undefined,
  b___16037: undefined,
} }





function jacdac_proxyLoop_inline__P16014(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.STATUS_EVENT___3404;
    s.tmp_0.arg2 = 201;
    s.callLocIdx = 818; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_proxyLoop_inline__P16014.info = {"start":60405,"length":92,"line":1791,"column":38,"endLine":1793,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function jacdac_proxyLoop_inline__P16014_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_proxyLoop_inline__P16014, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_isSimulator__P3554(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sim___16070 = undefined;
    s.tmp_1 = control_deviceDalVersion__P2826_mk(s);
    s.callLocIdx = 817; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == "sim");
    s.sim___16070 = (r0);
    r0 = s.sim___16070;
    return leave(s, r0)
  default: oops()
} } }
jacdac_isSimulator__P3554.info = {"start":60226,"length":112,"line":1785,"column":4,"endLine":1788,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"isSimulator","argumentNames":[]}

function jacdac_isSimulator__P3554_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_isSimulator__P3554, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  sim___16070: undefined,
} }





function control_deviceDalVersion__P2826(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 33554432;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 1048576);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = "sim";
    { step = 2; continue; }
  case 1:
    r0 = "2.0";
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
control_deviceDalVersion__P2826.info = {"start":359,"length":105,"line":16,"column":4,"endLine":18,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"deviceDalVersion","argumentNames":[]}

function control_deviceDalVersion__P2826_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_deviceDalVersion__P2826, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function control_ramSize__P2345(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 33554432;
    return leave(s, r0)
  default: oops()
} } }
control_ramSize__P2345.info = {"start":3464,"length":66,"line":129,"column":4,"endLine":131,"endColumn":5,"fileName":"pxt_modules/core/control.ts","functionName":"ramSize","argumentNames":[]}

function control_ramSize__P2345_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_ramSize__P2345, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function settings_exists__P2803(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._exists(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
settings_exists__P2803.info = {"start":4224,"length":71,"line":172,"column":4,"endLine":174,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"exists","argumentNames":["key"]}

function settings_exists__P2803_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_exists__P2803, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_setLed__P3565(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = undefined;
    r0 = undefined;
    r0 = undefined;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_setLed__P3565.info = {"start":64974,"length":150,"line":1953,"column":4,"endLine":1957,"endColumn":5,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"setLed","argumentNames":["r","g","b"]}

function jacdac_setLed__P3565_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_setLed__P3565, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac__setLedChannel__P2822(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__setLedChannel__P2822.info = {"start":129,"length":145,"line":5,"column":4,"endLine":8,"endColumn":5,"fileName":"pxt_modules/jacdac/nonmaker.ts","functionName":"_setLedChannel","argumentNames":["ch","val"]}

function jacdac__setLedChannel__P2822_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__setLedChannel__P2822, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac___physStart__P2819(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.recvQ___4860 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    globals.recvQ___4860 = (r0);
    s.tmp_0 = control_simmessages_onReceived__P2660_mk(s);
    s.tmp_0.arg0 = "jacdac";
    s.tmp_0.arg1 = jacdac___physStart_inline__P16105;
    s.callLocIdx = 166; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = jacdac___physStart_inline__P16206;
    s.callLocIdx = 169; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physStart__P2819.info = {"start":1919,"length":1277,"line":69,"column":4,"endLine":102,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physStart","argumentNames":[]}

function jacdac___physStart__P2819_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physStart__P2819, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac___physStart_inline__P16105(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.crc___16131 = undefined;
    s.num___16147 = undefined;
    s.b0___16148 = undefined;
    s.tmp___16158 = undefined;
    s.nextoff___16170 = undefined;
    s.skip___16189 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.getByte(s.arg0, 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 12);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 != s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.toHex(s.arg0);
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("bad size in sim jdpkt: ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim.control.dmesg(s.tmp_4);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.getByte(s.arg0, 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 12);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, 0, s.tmp_1);
    s.arg0 = (r0);
  case 1:
  case 2:
    s.tmp_0 = jacdac_jdCrc16__P4861_mk(s);
    r0 = pxsim.BufferMethods.slice(s.arg0, 2, -1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 164; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.crc___16131 = (r0);
    r0 = pxsim.BufferMethods.getNumber(s.arg0, 4, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != s.crc___16131);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.control.dmesg("bad crc in sim");
    { step = 8; continue; }
  case 3:
    s.num___16147 = (0);
    r0 = pxsim.BufferMethods.slice(s.arg0, 0, -1);
    s.b0___16148 = (r0);
  case 4:
    r0 = pxsim.BufferMethods.getByte(s.arg0, 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.getByte(s.arg0, 12);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 16);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, 0, s.tmp_3);
    s.tmp___16158 = (r0);
    r0 = pxsim_Array__push(globals.recvQ___4860, s.tmp___16158);
    r0 = pxsim.BufferMethods.getByte(s.arg0, 12);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 16);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 + 3);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & -4);
    s.nextoff___16170 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.slice(s.arg0, s.nextoff___16170, -1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 12, s.tmp_1);
    r0 = (s.nextoff___16170 - 12);
    s.skip___16189 = (r0);
    r0 = pxsim.BufferMethods.getByte(s.arg0, 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.skip___16189);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    { step = 7; continue; }
  case 5:
  case 6:
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 2);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.skip___16189);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_2, 2, s.tmp_3);
    { step = 4; continue; }
  case 7:
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_0, 1, 1);
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physStart_inline__P16105.info = {"start":2063,"length":901,"line":72,"column":49,"endLine":94,"endColumn":9,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"inline","argumentNames":["buf"]}

function jacdac___physStart_inline__P16105_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physStart_inline__P16105, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  crc___16131: undefined,
  num___16147: undefined,
  b0___16148: undefined,
  tmp___16158: undefined,
  nextoff___16170: undefined,
  skip___16189: undefined,
  arg0: undefined,
} }





function jacdac___physStart_inline__P16206(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 2; continue; }
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_0, 100, 1);
    s.tmp_0 = pause__P2226_mk(s);
    s.tmp_0.arg0 = 500;
    s.callLocIdx = 168; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physStart_inline__P16206.info = {"start":3046,"length":143,"line":96,"column":30,"endLine":101,"endColumn":9,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"inline","argumentNames":[]}

function jacdac___physStart_inline__P16206_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physStart_inline__P16206, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function control_simmessages_onReceived__P2660(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(globals.handlers___4814);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt.mkMap();
    globals.handlers___4814 = (r0);
  case 3:
  case 4:
    r0 = pxsim_pxtrt.mapSetGeneric(globals.handlers___4814, s.arg0, s.arg1);
    r0 = pxsim.control.onEvent(2999, 1, control_simmessages_consumeMessages__P4815, 0);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_simmessages_onReceived__P2660.info = {"start":1063,"length":293,"line":32,"column":4,"endLine":39,"endColumn":5,"fileName":"pxt_modules/core/controlmessage.ts","functionName":"onReceived","argumentNames":["channel","handler"]}

function control_simmessages_onReceived__P2660_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_simmessages_onReceived__P2660, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_simmessages_consumeMessages__P4815(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.channel___16231 = undefined;
    s.msg___16236 = undefined;
    s.handler___16239 = undefined;
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.peekMessageChannel();
    s.channel___16231 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.channel___16231);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    { step = 8; continue; }
  case 2:
  case 3:
    r0 = pxsim_pxtcore.readMessageData();
    s.msg___16236 = (r0);
    s.tmp_0 = r0 = globals.handlers___4814;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    r0 = pxsim_pxtrt.mapGetGeneric(globals.handlers___4814, s.channel___16231);
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.handler___16239 = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.handler___16239);
    if (!r0) { step = 6; continue; }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.handler___16239;
    s.tmp_0.arg0 = s.msg___16236;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 86; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 6:
  case 7:
    { step = 1; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_simmessages_consumeMessages__P4815.info = {"start":564,"length":414,"line":15,"column":4,"endLine":27,"endColumn":5,"fileName":"pxt_modules/core/controlmessage.ts","functionName":"consumeMessages","argumentNames":[]}

function control_simmessages_consumeMessages__P4815_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_simmessages_consumeMessages__P4815, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  channel___16231: undefined,
  msg___16236: undefined,
  handler___16239: undefined,
} }





function jacdac___physIsRunning__P2818(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.recvQ___4860 != null);
    return leave(s, r0)
  default: oops()
} } }
jacdac___physIsRunning__P2818.info = {"start":1743,"length":79,"line":61,"column":4,"endLine":63,"endColumn":5,"fileName":"pxt_modules/jacdac/jdsim.ts","functionName":"__physIsRunning","argumentNames":[]}

function jacdac___physIsRunning__P2818_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physIsRunning__P2818, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function jacdac_Bus_constructor__P3414(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Bus__C3408_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["listeners"] = (s.tmp_1);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["servers"] = (s.tmp_3);
    s.tmp_4 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["devices"] = (s.tmp_5);
    r0 = (s.arg0).fields["restartCounter"] = (0);
    r0 = (s.arg0).fields["resetIn"] = (2000000);
    r0 = (s.arg0).fields["autoBindCnt"] = (0);
    r0 = (s.arg0).fields["_eventCounter"] = (0);
    r0 = (s.arg0).fields["proxyMode"] = (false);
    s.tmp_6 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_7 = r0;
    r0 = (s.tmp_6).fields["unattachedClients"] = (s.tmp_7);
    s.tmp_8 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_9 = r0;
    r0 = (s.tmp_8).fields["allClients"] = (s.tmp_9);
    r0 = (s.arg0).fields["_refreshing"] = (false);
    s.tmp_10 = jacdac_EventSource_constructor__P3575_mk(s);
    s.tmp_10.arg0 = s.arg0;
    s.callLocIdx = 429; s.pc = 1; return s.tmp_10;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Bus_constructor__P3414.info = {"start":1929,"length":45,"line":57,"column":8,"endLine":59,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_Bus_constructor__P3414_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Bus_constructor__P3414, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  arg0: undefined,
} }





function initPlatform__P2834(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    globals.onPlatformStart___3386 = (initPlatform_inline__P16257);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
initPlatform__P2834.info = {"start":1952,"length":488,"line":78,"column":0,"endLine":89,"endColumn":1,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"initPlatform","argumentNames":[]}

function initPlatform__P2834_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: initPlatform__P2834, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function initPlatform_inline__P16257(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.reset___16265 = undefined;
    globals.productIdentifier___3387 = (854992189);
    s.tmp_0 = jacdac_EventSource_on__P3576_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.STATUS_EVENT___3404;
    s.tmp_0.arg2 = handleStatusEvent__P2833;
    s.callLocIdx = 175; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = pxsim.settings._exists(globals.JACDAC_PROXY_SETTING___3557);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.reset___16265 = (reset_inline__P16266);
    r0 = pxsim.input.onButtonPressed(1, s.reset___16265);
    r0 = pxsim.input.onButtonPressed(2, s.reset___16265);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
initPlatform_inline__P16257.info = {"start":2091,"length":347,"line":80,"column":29,"endLine":88,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"inline","argumentNames":[]}

function initPlatform_inline__P16257_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: initPlatform_inline__P16257, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  reset___16265: undefined,
} }





function reset_inline__P16266(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    setupResume(s, 1);
    pxsim.control.reset();
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
reset_inline__P16266.info = {"start":2299,"length":21,"line":84,"column":26,"endLine":84,"endColumn":47,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"inline","argumentNames":[]}

function reset_inline__P16266_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: reset_inline__P16266, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function handleStatusEvent__P2833(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(200, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(201, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(202, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    r0 = pxsim.control.dmesg("jacdac: dongle started");
    globals.proxyMode___2832 = (true);
    s.tmp_0 = proxyAnimation__P2831_mk(s);
    s.callLocIdx = 173; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    { step = 6; continue; }
  case 2:
    { step = 6; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(globals.proxyMode___2832);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = identifyAnimation__P2830_mk(s);
    s.callLocIdx = 174; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 4:
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
handleStatusEvent__P2833.info = {"start":1407,"length":484,"line":57,"column":0,"endLine":72,"endColumn":1,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"handleStatusEvent","argumentNames":["event"]}

function handleStatusEvent__P2833_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: handleStatusEvent__P2833, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function identifyAnimation__P2830(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sc___16292 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.identifyAnimationRunning___2829);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    globals.identifyAnimationRunning___2829 = (true);
    r0 = pxsim.led.screenshot();
    s.sc___16292 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, identifyAnimation_inline__P16296);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.sc___16292);
    s.tmp_1 = control_runInParallel__P2295_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 171; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
identifyAnimation__P2830.info = {"start":612,"length":571,"line":28,"column":0,"endLine":46,"endColumn":1,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"identifyAnimation","argumentNames":[]}

function identifyAnimation__P2830_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: identifyAnimation__P2830, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  sc___16292: undefined,
} }





function identifyAnimation_inline__P16296(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.led.stopAnimation();
    setupResume(s, 1);
    pxsim.basic.showAnimation(new pxsim.Image(30, [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,]), 250);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = pxsim_ImageMethods.plotFrame(s.caps[0], 0);
    globals.identifyAnimationRunning___2829 = (false);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
identifyAnimation_inline__P16296.info = {"start":779,"length":401,"line":33,"column":26,"endLine":45,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"inline","argumentNames":[]}

function identifyAnimation_inline__P16296_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: identifyAnimation_inline__P16296, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function proxyAnimation__P2831(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = proxyAnimation_inline__P16306;
    s.callLocIdx = 172; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
proxyAnimation__P2831.info = {"start":1184,"length":199,"line":47,"column":0,"endLine":54,"endColumn":1,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"proxyAnimation","argumentNames":[]}

function proxyAnimation__P2831_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: proxyAnimation__P2831, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function proxyAnimation_inline__P16306(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.led.stopAnimation();
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 2; continue; }
    setupResume(s, 3);
    pxsim.basic.showString("JACDAC DONGLE PRESS A TO RESET", 120);
    checkResumeConsumed();
    return;
  case 3:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
proxyAnimation_inline__P16306.info = {"start":1238,"length":142,"line":48,"column":26,"endLine":53,"endColumn":5,"fileName":"pxt_modules/jacdac/mbcompat.ts","functionName":"inline","argumentNames":[]}

function proxyAnimation_inline__P16306_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: proxyAnimation_inline__P16306, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function settings_initScopes__P4853(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.rn___16312 = undefined;
    s.tmp_1 = settings_runNumber__P2789_mk(s);
    s.callLocIdx = 149; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.rn___16312 = (r0);
    s.tmp_0 = settings_writeNumber__P2794_mk(s);
    s.tmp_0.arg0 = globals.RUN_KEY___4841;
    s.tmp_0.arg1 = s.rn___16312;
    s.callLocIdx = 150; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.control.deviceSerialNumber();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2147483647);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.seedAddRandom(s.tmp_0);
    r0 = pxsim_pxtcore.seedAddRandom(s.rn___16312);
    s.tmp_0 = settings_setScope__P4852_mk(s);
    r0 = pxsim_pxtcore.programName();
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 151; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_initScopes__P4853.info = {"start":1104,"length":230,"line":41,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"initScopes","argumentNames":[]}

function settings_initScopes__P4853_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_initScopes__P4853, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  rn___16312: undefined,
} }





function settings_setScope__P4852(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currScope___16341 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 100);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt.panic(922);
  case 3:
  case 4:
    s.tmp_0 = settings_readString__P2797_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___4842;
    s.callLocIdx = 147; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.currScope___16341 = (r0);
    r0 = (s.currScope___16341 != s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.settings._userClean();
    s.tmp_0 = settings_writeString__P2792_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___4842;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 148; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_setScope__P4852.info = {"start":826,"length":272,"line":31,"column":4,"endLine":39,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"setScope","argumentNames":["scope"]}

function settings_setScope__P4852_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_setScope__P4852, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  currScope___16341: undefined,
  arg0: undefined,
} }





function settings_runNumber__P2789(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_1 = settings_readNumber__P2799_mk(s);
    s.tmp_1.arg0 = globals.RUN_KEY___4841;
    s.callLocIdx = 146; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
settings_runNumber__P2789.info = {"start":745,"length":75,"line":27,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"runNumber","argumentNames":[]}

function settings_runNumber__P2789_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_runNumber__P2789, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function settings_readNumber__P2799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___16359 = undefined;
    s.nums___16366 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___16359 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___16359);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 7; continue; }
    { step = 6; continue; }
  case 1:
    s.tmp_2 = msgpack_unpackNumberArray__P2615_mk(s);
    s.tmp_2.arg0 = s.buf___16359;
    s.tmp_2.arg1 = 0;
    s.callLocIdx = 158; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.nums___16366 = (r0);
    s.tmp_0 = r0 = s.nums___16366;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_Array__length(s.nums___16366);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 1);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.nums___16366, 0);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = undefined;
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
settings_readNumber__P2799.info = {"start":3283,"length":313,"line":131,"column":4,"endLine":141,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readNumber","argumentNames":["key"]}

function settings_readNumber__P2799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readNumber__P2799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  buf___16359: undefined,
  nums___16366: undefined,
  arg0: undefined,
} }





function msgpack_unpackNumberArray__P2615(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___16379 = undefined;
    s.fmt___16386 = undefined;
    s.v___16395 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___16379 = (r0);
  case 1:
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_3 = r0 = s.arg1;
    r0 = (s.tmp_3 + 1);
    s.arg1 = (r0);
    s.tmp_4 = msgpack_tagFormat__P4785_mk(s);
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.tmp_3);
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 70; s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    s.fmt___16386 = (r0);
    r0 = (s.fmt___16386 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = (s.arg1 - 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 6, s.tmp_2);
    s.v___16395 = (r0);
    r0 = (-31 <= s.v___16395);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.v___16395 <= 127);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__push(s.res___16379, s.v___16395);
    { step = 5; continue; }
  case 4:
    r0 = null;
    { step = 11; continue; }
  case 5:
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.res___16379;
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___16386, s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    s.tmp_2 = pins_sizeOf__P2607_mk(s);
    s.tmp_2.arg0 = s.fmt___16386;
    s.callLocIdx = 71; s.pc = 13; return s.tmp_2;
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg1 = (r0);
  case 7:
  case 8:
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === 193);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = (s.arg1 + 1);
    s.arg1 = (r0);
    { step = 8; continue; }
  case 9:
    { step = 1; continue; }
  case 10:
    r0 = s.res___16379;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
msgpack_unpackNumberArray__P2615.info = {"start":2650,"length":669,"line":91,"column":4,"endLine":111,"endColumn":5,"fileName":"pxt_modules/core/buffer.ts","functionName":"unpackNumberArray","argumentNames":["buf","offset"]}

function msgpack_unpackNumberArray__P2615_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_unpackNumberArray__P2615, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  res___16379: undefined,
  fmt___16386: undefined,
  v___16395: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ControlServer_handlePacketOuter__P3553(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlServer__C3550_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_isRegGet__P2907_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 762; s.pc = 24; return s.tmp_1;
  case 24:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = jacdac_JDPacket_regCode__P2908_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.callLocIdx = 763; s.pc = 25; return s.tmp_3;
  case 25:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_pxtcore.switch_eq(385, s.tmp_2);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(390, s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(389, s.tmp_2);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(384, s.tmp_2);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_2;
    { step = 11; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(globals.productIdentifier___3387);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_4, globals.productIdentifier___3387);
    s.tmp_5 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_6 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = s.arg1.fields["_header"];
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_7, 4, 14);
    s.tmp_6.arg0 = r0;
    s.tmp_8 = jacdac_jdpack__P2934_mk(s);
    s.tmp_8.arg0 = globals.ProductIdentifier___3132;
    s.tmp_8.arg1 = s.tmp_4;
    s.callLocIdx = 765; s.pc = 28; return s.tmp_8;
  case 28:
    r0 = s.retval;
    s.tmp_6.arg1 = r0;
    s.callLocIdx = 766; s.pc = 27; return s.tmp_6;
  case 27:
    r0 = s.retval;
    s.tmp_5.arg1 = r0;
    s.callLocIdx = 767; s.pc = 26; return s.tmp_5;
  case 26:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 768; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
  case 2:
  case 3:
    { step = 12; continue; }
  case 4:
    s.tmp_0 = jacdac_ControlServer_sendUptime__P3552_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 769; s.pc = 30; return s.tmp_0;
  case 30:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 770; s.pc = 31; return s.tmp_0;
  case 31:
    r0 = s.retval;
    { step = 12; continue; }
  case 5:
    r0 = pxsim_numops_toBoolDecr(globals.firmwareVersion___3388);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, globals.firmwareVersion___3388);
    s.tmp_1 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2.arg0 = r0;
    s.tmp_4 = jacdac_jdpack__P2934_mk(s);
    s.tmp_4.arg0 = globals.FirmwareVersion___3134;
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 772; s.pc = 34; return s.tmp_4;
  case 34:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 773; s.pc = 33; return s.tmp_2;
  case 33:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 774; s.pc = 32; return s.tmp_1;
  case 32:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 775; s.pc = 35; return s.tmp_0;
  case 35:
    r0 = s.retval;
  case 6:
  case 7:
    { step = 12; continue; }
  case 8:
    s.tmp_0 = r0 = globals.deviceDescription___3389;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = pxsim_pxtcore.programName();
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_1);
    s.tmp_3 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_4 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = s.arg1.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_5, 4, 14);
    s.tmp_4.arg0 = r0;
    s.tmp_6 = jacdac_jdpack__P2934_mk(s);
    s.tmp_6.arg0 = globals.DeviceDescription___3131;
    s.tmp_6.arg1 = s.tmp_2;
    s.callLocIdx = 777; s.pc = 38; return s.tmp_6;
  case 38:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 778; s.pc = 37; return s.tmp_4;
  case 37:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 779; s.pc = 36; return s.tmp_3;
  case 36:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 780; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
    { step = 12; continue; }
  case 11:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 781; s.pc = 40; return s.tmp_0;
  case 40:
    r0 = s.retval;
  case 12:
    { step = 23; continue; }
  case 13:
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(129, s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(130, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = pxsim_pxtcore.switch_eq(131, s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq(133, s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 21; continue; }
  case 14:
    s.tmp_2 = jacdac_Bus_queueAnnounce__P3422_mk(s);
    s.tmp_2.arg0 = globals.bus___3430;
    s.callLocIdx = 783; s.pc = 41; return s.tmp_2;
  case 41:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 784; s.pc = 42; return s.tmp_0;
  case 42:
    r0 = s.retval;
    { step = 22; continue; }
  case 15:
    s.tmp_0 = jacdac_Server__C3447_v2_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "identify";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 43; return s.tmp_0;
  case 43:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.IDENTIFY___3405;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 785; s.pc = 44; return s.tmp_0;
  case 44:
    r0 = s.retval;
    s.tmp_0 = jacdac_EventSource_emit__P3578_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.tmp_0.arg1 = globals.STATUS_EVENT___3404;
    s.tmp_0.arg2 = 202;
    s.callLocIdx = 786; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 787; s.pc = 46; return s.tmp_0;
  case 46:
    r0 = s.retval;
    { step = 22; continue; }
  case 16:
    s.tmp_0 = jacdac_Server__C3447_v2_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "reset requested";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 47; return s.tmp_0;
  case 47:
    r0 = s.retval;
    setupResume(s, 48);
    pxsim.control.reset();
    checkResumeConsumed();
    return;
  case 48:
    r0 = s.retval;
    { step = 22; continue; }
  case 17:
    s.tmp_0 = jacdac_Server__C3447_v2_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "flood";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Server__C3447_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 49; return s.tmp_0;
  case 49:
    r0 = s.retval;
    s.tmp_0 = jacdac_ControlServer_handleFloodPing__P5065_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 788; s.pc = 50; return s.tmp_0;
  case 50:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 789; s.pc = 51; return s.tmp_0;
  case 51:
    r0 = s.retval;
    { step = 22; continue; }
  case 18:
    r0 = globals.bus___3430.fields["proxyMode"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 19; continue; }
    s.tmp_3 = jacdac_resetToProxy__P5087_mk(s);
    s.callLocIdx = 790; s.pc = 52; return s.tmp_3;
  case 52:
    r0 = s.retval;
  case 19:
  case 20:
    s.tmp_0 = jacdac_JDPacket_markHandled__P2889_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 791; s.pc = 53; return s.tmp_0;
  case 53:
    r0 = s.retval;
    { step = 22; continue; }
  case 21:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 792; s.pc = 54; return s.tmp_0;
  case 54:
    r0 = s.retval;
  case 22:
  case 23:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlServer_handlePacketOuter__P3553.info = {"start":54020,"length":3655,"line":1625,"column":8,"endLine":1712,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_ControlServer_handlePacketOuter__P3553_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlServer_handlePacketOuter__P3553, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ControlServer_handleFloodPing__P5065(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numResponses___16534 = undefined;
    s.counter___16535 = undefined;
    s.size___16536 = undefined;
    s.payload___16537 = undefined;
    s.i___16543 = undefined;
    s.queuePing___16557 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlServer__C3550_VT)) failedCast(r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.numResponses___16534 = (r0);
    s.tmp_0 = r0 = s.numResponses___16534;
    s.tmp_3 = jacdac_JDPacket_jdunpack__P2914_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.tmp_3.arg1 = "u32 u32 u8";
    s.callLocIdx = 756; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt.mklocRef();
    s.counter___16535 = (r0);
    s.tmp_4 = r0 = s.counter___16535;
    r0 = pxsim_Array__getAt(s.tmp_2, 1);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
    r0 = pxsim_Array__getAt(s.tmp_2, 2);
    s.size___16536 = (r0);
    r0 = (4 + s.size___16536);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.payload___16537 = (r0);
    s.i___16543 = (0);
  case 1:
    r0 = (s.i___16543 < s.size___16536);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.payload___16537;
    r0 = (4 + s.i___16543);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_1, s.tmp_2, s.i___16543);
    r0 = (s.i___16543 + 1);
    s.i___16543 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = pxsim_pxtcore_mkAction(4, queuePing_inline__P16558);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.numResponses___16534);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.payload___16537);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.counter___16535);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.arg0);
    s.queuePing___16557 = (s.tmp_0);
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.onEvent(s.tmp_0, 101, s.queuePing___16557, 0);
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.queuePing___16557;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 761; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlServer_handleFloodPing__P5065.info = {"start":53041,"length":969,"line":1600,"column":8,"endLine":1623,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleFloodPing","argumentNames":["this","pkt"]}

function jacdac_ControlServer_handleFloodPing__P5065_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlServer_handleFloodPing__P5065, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  numResponses___16534: undefined,
  counter___16535: undefined,
  size___16536: undefined,
  payload___16537: undefined,
  i___16543: undefined,
  queuePing___16557: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function queuePing_inline__P16558(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 30;
    s.tmp_2 = r0;
    r0 = pxsim.control.onEvent(s.tmp_2, 101, jacdac_doNothing__P5057, 0);
    { step = 2; continue; }
  case 1:
    s.tmp_0 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 0, s.tmp_1);
    s.tmp_0 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_0.arg0 = s.caps[3];
    s.tmp_1 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_1.arg0 = 131;
    s.tmp_1.arg1 = s.caps[1];
    s.callLocIdx = 758; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 759; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
queuePing_inline__P16558.info = {"start":53343,"length":553,"line":1605,"column":30,"endLine":1620,"endColumn":13,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"inline","argumentNames":[]}

function queuePing_inline__P16558_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: queuePing_inline__P16558, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function jacdac_doNothing__P5057(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_doNothing__P5057.info = {"start":52436,"length":23,"line":1575,"column":4,"endLine":1575,"endColumn":27,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"doNothing","argumentNames":[]}

function jacdac_doNothing__P5057_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_doNothing__P5057, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function jacdac_ControlServer_sendUptime__P3552(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___16588 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlServer__C3550_VT)) failedCast(r0);
    r0 = pxsim.control.createBuffer(4);
    s.buf___16588 = (r0);
    s.tmp_0 = r0 = s.buf___16588;
    r0 = pxsim.control.micros();
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 0, s.tmp_1);
    s.tmp_0 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P2883_mk(s);
    s.tmp_1.arg0 = 4486;
    s.tmp_1.arg1 = s.buf___16588;
    s.callLocIdx = 754; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 755; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlServer_sendUptime__P3552.info = {"start":52815,"length":216,"line":1594,"column":8,"endLine":1598,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"sendUptime","argumentNames":["this"]}

function jacdac_ControlServer_sendUptime__P3552_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlServer_sendUptime__P3552, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___16588: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_handlePacket__P3290(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac__rolemgr_RoleManagerServer__C3287_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Server_handleRegBool__P4951_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    s.tmp_2.arg2 = 128;
    r0 = s.arg0.fields["autoBind"];
    s.tmp_2.arg3 = r0;
    s.callLocIdx = 368; s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["autoBind"] = (s.tmp_1);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(4481, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(129, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(131, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(132, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 1:
    s.tmp_3 = helpers_arrayEvery__P1999_mk(s);
    r0 = globals.bus___3430.fields["allClients"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = jacdac__rolemgr_RoleManagerServer_handlePacket_inline__P16633;
    s.callLocIdx = 371; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = 1;
    { step = 3; continue; }
  case 2:
    r0 = 0;
  case 3:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_Array__mk();
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_5, s.tmp_4);
    s.tmp_6 = jacdac_Server_sendReport__P4941_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_7 = jacdac_JDPacket_jdpacked__P2886_mk(s);
    s.tmp_7.arg0 = 4481;
    s.tmp_7.arg1 = globals.AllRolesAllocated___3270;
    s.tmp_7.arg2 = s.tmp_5;
    s.callLocIdx = 372; s.pc = 14; return s.tmp_7;
  case 14:
    r0 = s.retval;
    s.tmp_6.arg1 = r0;
    s.callLocIdx = 373; s.pc = 13; return s.tmp_6;
  case 13:
    r0 = s.retval;
    { step = 10; continue; }
  case 4:
    r0 = s.arg1.fields["_data"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 9);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_3 = jacdac__rolemgr_setRole__P3286_mk(s);
    r0 = s.arg1.fields["_data"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_5, 0, 8);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_4);
    s.tmp_3.arg0 = r0;
    r0 = s.arg1.fields["_data"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_6, 8);
    s.tmp_3.arg1 = r0;
    r0 = s.arg1.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_8, 9, -1);
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_7);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 378; s.pc = 15; return s.tmp_3;
  case 15:
    r0 = s.retval;
  case 5:
  case 6:
    { step = 10; continue; }
  case 7:
    s.tmp_0 = jacdac_OutPipe_respondForEach__P2957_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = globals.bus___3430.fields["allClients"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = packName__P16667;
    s.callLocIdx = 379; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    { step = 10; continue; }
  case 8:
    s.tmp_0 = jacdac__rolemgr_clearRoles__P3284_mk(s);
    s.callLocIdx = 380; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    { step = 10; continue; }
  case 9:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 381; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_handlePacket__P3290.info = {"start":5211,"length":2261,"line":142,"column":8,"endLine":201,"endColumn":9,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac__rolemgr_RoleManagerServer_handlePacket__P3290_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_handlePacket__P3290, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__rolemgr_RoleManagerServer_handlePacket_inline__P16633(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["broadcast"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_device"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_RoleManagerServer_handlePacket_inline__P16633.info = {"start":5928,"length":30,"line":158,"column":36,"endLine":158,"endColumn":66,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"inline","argumentNames":["c"]}

function jacdac__rolemgr_RoleManagerServer_handlePacket_inline__P16633_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_RoleManagerServer_handlePacket_inline__P16633, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function packName__P16667(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devid___16672 = undefined;
    s.servidx___16682 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["_device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Buffer_fromHex__P2638_mk(s);
    r0 = s.arg0.fields["_device"];
    r0 = r0.fields["deviceId"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 384; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.control.createBuffer(8);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.devid___16672 = (s.tmp_2);
    r0 = s.arg0.fields["_device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["serviceIndex"];
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.servidx___16682 = (s.tmp_1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.devid___16672);
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim_Array__push(s.tmp_0, s.servidx___16682);
    r0 = s.arg0.fields["_role"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_3 = jacdac_jdpack__P2934_mk(s);
    s.tmp_3.arg0 = "b[8] u32 u8 s";
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 387; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
packName__P16667.info = {"start":7034,"length":428,"line":189,"column":12,"endLine":200,"endColumn":13,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"packName","argumentNames":["c"]}

function packName__P16667_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: packName__P16667, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  devid___16672: undefined,
  servidx___16682: undefined,
  arg0: undefined,
} }





function jacdac__rolemgr_clearRoles__P3284(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = helpers_arrayForEach__P2000_mk(s);
    s.tmp_1 = settings_list__P2801_mk(s);
    s.tmp_1.arg0 = globals.roleSettingPrefix___5011;
    s.callLocIdx = 347; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = settings_remove__P2802;
    s.callLocIdx = 348; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_Bus_clearAttachCache__P3420_mk(s);
    s.tmp_0.arg0 = globals.bus___3430;
    s.callLocIdx = 349; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__rolemgr_clearRoles__P3284.info = {"start":71,"length":140,"line":3,"column":4,"endLine":6,"endColumn":5,"fileName":"pxt_modules/jacdac/rolemgr.ts","functionName":"clearRoles","argumentNames":[]}

function jacdac__rolemgr_clearRoles__P3284_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__rolemgr_clearRoles__P3284, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function settings_list__P2801(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.arg0 = (r0);
  case 1:
  case 2:
    r0 = pxsim.settings._list(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
settings_list__P2801.info = {"start":3940,"length":107,"line":157,"column":4,"endLine":160,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"list","argumentNames":["prefix"]}

function settings_list__P2801_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_list__P2801, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_OutPipe_respondForEach__P2957(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(3, jacdac_OutPipe_respondForEach_inline__P16713);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg2);
    s.tmp_1 = control_runInParallel__P2295_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 297; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_respondForEach__P2957.info = {"start":3120,"length":388,"line":113,"column":8,"endLine":123,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"respondForEach","argumentNames":["pkt","inp","f"]}

function jacdac_OutPipe_respondForEach__P2957_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_respondForEach__P2957, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_OutPipe_respondForEach_inline__P16713(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.outp___16715 = undefined;
    s.e___16720 = undefined;
    s.unnamed68___U2 = undefined;
    s.unnamed69___U3 = undefined;
    s.e___16728 = undefined;
    r0 = pxsim_pxtcore.beginTry(3);
    s.tmp_0 = jacdac_OutPipe_from__P4967_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 292; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.outp___16715 = (r0);
    s.e___16720 = (undefined);
    s.unnamed68___U2 = (s.caps[1]);
    s.unnamed69___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed69___U3;
    r0 = pxsim_Array__length(s.unnamed68___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed68___U2, s.unnamed69___U3);
    s.e___16720 = (r0);
    s.tmp_2 = jacdac_OutPipe_write__P2959_mk(s);
    s.tmp_2.arg0 = s.outp___16715;
    s.tmp_3 = lambda_2_mk(s);
    s.tmp_3.argL = s.caps[2];
    s.tmp_3.arg0 = s.e___16720;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 293; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 294; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    r0 = (s.unnamed69___U3 + 1);
    s.unnamed69___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed68___U2 = (undefined);
    s.tmp_0 = jacdac_OutPipe_close__P2961_mk(s);
    s.tmp_0.arg0 = s.outp___16715;
    s.callLocIdx = 295; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = pxsim_pxtcore.endTry();
    { step = 4; continue; }
  case 3:
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___16728 = (r0);
    s.tmp_0 = console_error__P2380_mk(s);
    s.tmp_0.arg0 = s.e___16728;
    s.callLocIdx = 296; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_respondForEach_inline__P16713.info = {"start":3227,"length":270,"line":114,"column":34,"endLine":122,"endColumn":13,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"inline","argumentNames":[]}

function jacdac_OutPipe_respondForEach_inline__P16713_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_respondForEach_inline__P16713, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  outp___16715: undefined,
  e___16720: undefined,
  unnamed68___U2: undefined,
  unnamed69___U3: undefined,
  e___16728: undefined,
} }





function jacdac_OutPipe_close__P2961(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutPipe__C2955_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutPipe_writeAndClose__P2960_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 303; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_close__P2961.info = {"start":4321,"length":68,"line":154,"column":8,"endLine":156,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"close","argumentNames":["this"]}

function jacdac_OutPipe_close__P2961_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_close__P2961, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_OutPipe_writeAndClose__P2960(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutPipe__C2955_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutPipe_writeEx__P4968_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 32;
    s.callLocIdx = 302; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_writeAndClose__P2960.info = {"start":4231,"length":80,"line":150,"column":8,"endLine":152,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"writeAndClose","argumentNames":["this","buf"]}

function jacdac_OutPipe_writeAndClose__P2960_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_writeAndClose__P2960, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_OutPipe_writeEx__P4968(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pkt___16747 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutPipe__C2955_VT)) failedCast(r0);
    r0 = s.arg0.fields["port"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_3 = jacdac_JDPacket_from__P2883_mk(s);
    r0 = s.arg0.fields["nextCnt"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 & 31);
    s.tmp_5 = r0;
    r0 = s.arg0.fields["port"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 << 7);
    s.tmp_7 = r0;
    r0 = (s.tmp_5 | s.tmp_7);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | s.arg2);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 298; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.pkt___16747 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["nextCnt"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["nextCnt"] = (s.tmp_1);
    r0 = (s.arg2 & 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["port"] = (null);
  case 3:
  case 4:
    s.tmp_0 = jacdac_JDPacket_serviceIndex__P2899_mk(s);
    s.tmp_0.arg0 = s.pkt___16747;
    s.tmp_0.arg1 = 62;
    s.callLocIdx = 299; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_3 = jacdac_JDPacket__sendWithAck__P2928_mk(s);
    s.tmp_3.arg0 = s.pkt___16747;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 300; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.arg0).fields["port"] = (null);
    r0 = pxsim_pxtcore.throwValue("out pipe error: no ack");
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_writeEx__P4968.info = {"start":3583,"length":565,"line":129,"column":8,"endLine":144,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"writeEx","argumentNames":["this","buf","flags"]}

function jacdac_OutPipe_writeEx__P4968_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_writeEx__P4968, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  pkt___16747: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDPacket__sendWithAck__P2928(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.aw___16804 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_requiresAck__P2897_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = true;
    s.callLocIdx = 239; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmdId__P2926_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 240; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.ackAwaiters___4891);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__mk();
    globals.ackAwaiters___4891 = (r0);
    s.tmp_0 = control_runInParallel__P2295_mk(s);
    s.tmp_0.arg0 = jacdac_JDPacket__sendWithAck_inline__P16798;
    s.callLocIdx = 243; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_AckAwaiter__C4893_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_AckAwaiter_constructor__P4894_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.callLocIdx = 244; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.aw___16804 = (s.tmp_0);
    r0 = pxsim_Array__push(globals.ackAwaiters___4891, s.aw___16804);
  case 5:
    r0 = s.aw___16804.fields["nextRetry"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.aw___16804.fields["eventId"];
    s.tmp_2 = r0;
    setupResume(s, 12);
    pxsim.control.waitForEvent(1023, s.tmp_2);
    checkResumeConsumed();
    return;
  case 12:
    r0 = s.retval;
    { step = 5; continue; }
  case 6:
    r0 = s.aw___16804.fields["nextRetry"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 0);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendWithAck__P2928.info = {"start":10731,"length":675,"line":332,"column":8,"endLine":352,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"_sendWithAck","argumentNames":["this","devId"]}

function jacdac_JDPacket__sendWithAck__P2928_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendWithAck__P2928, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  aw___16804: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket__sendWithAck_inline__P16798(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

  case 1:
    r0 = pxsim_numops_toBoolDecr(1);
    if (!r0) { step = 2; continue; }
    s.tmp_0 = pause__P2226_mk(s);
    r0 = pxsim.Math_.randomRange(20, 50);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 241; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_checkAckAwaiters__P4895_mk(s);
    s.callLocIdx = 242; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendWithAck_inline__P16798.info = {"start":10973,"length":178,"line":339,"column":38,"endLine":344,"endColumn":17,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":[]}

function jacdac_JDPacket__sendWithAck_inline__P16798_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendWithAck_inline__P16798, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_AckAwaiter_constructor__P4894(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AckAwaiter__C4893_VT)) failedCast(r0);
    r0 = (s.arg0).fields["pkt"] = (s.arg1);
    r0 = (s.arg0).fields["srcId"] = (s.arg2);
    r0 = (s.arg0).fields["numTries"] = (1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["crc"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 40);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["nextRetry"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["eventId"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_AckAwaiter_constructor__P4894.info = {"start":11554,"length":265,"line":360,"column":8,"endLine":367,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":["this","pkt","srcId"]}

function jacdac_AckAwaiter_constructor__P4894_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AckAwaiter_constructor__P4894, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_checkAckAwaiters__P4895(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___16841 = undefined;
    s.toRetry___16844 = undefined;
    s.a___16858 = undefined;
    s.unnamed60___U3 = undefined;
    s.unnamed61___U4 = undefined;
    r0 = pxsim.control.millis();
    s.now___16841 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, toRetry_inline__P16846);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.now___16841);
    s.tmp_1 = helpers_arrayFilter__P2001_mk(s);
    s.tmp_1.arg0 = globals.ackAwaiters___4891;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 246; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.toRetry___16844 = (r0);
    r0 = pxsim_Array__length(s.toRetry___16844);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 10; continue; }
  case 1:
  case 2:
    s.a___16858 = (undefined);
    s.unnamed60___U3 = (s.toRetry___16844);
    s.unnamed61___U4 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed61___U4;
    r0 = pxsim_Array__length(s.unnamed60___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__getAt(s.unnamed60___U3, s.unnamed61___U4);
    s.a___16858 = (r0);
    r0 = s.a___16858.fields["nextRetry"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    { step = 8; continue; }
  case 4:
  case 5:
    r0 = s.a___16858.fields["numTries"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >= 4);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = (s.a___16858).fields["nextRetry"] = (-1);
    r0 = s.a___16858.fields["eventId"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(1023, s.tmp_0, 1);
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.a___16858;
    r0 = s.tmp_0.fields["numTries"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["numTries"] = (s.tmp_1);
    s.tmp_0 = r0 = s.a___16858;
    s.tmp_2 = r0 = s.now___16841;
    r0 = s.a___16858.fields["numTries"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 40);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["nextRetry"] = (s.tmp_1);
    s.tmp_0 = jacdac_JDPacket__sendCore__P2923_mk(s);
    r0 = s.a___16858.fields["pkt"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 247; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.unnamed61___U4 + 1);
    s.unnamed61___U4 = (r0);
    { step = 3; continue; }
  case 9:
    s.unnamed60___U3 = (undefined);
    s.tmp_0 = helpers_arrayFilter__P2001_mk(s);
    s.tmp_0.arg0 = globals.ackAwaiters___4891;
    s.tmp_0.arg1 = jacdac_checkAckAwaiters_inline__P16894;
    s.callLocIdx = 248; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    globals.ackAwaiters___4891 = (r0);
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_checkAckAwaiters__P4895.info = {"start":11831,"length":646,"line":370,"column":4,"endLine":386,"endColumn":5,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"checkAckAwaiters","argumentNames":[]}

function jacdac_checkAckAwaiters__P4895_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_checkAckAwaiters__P4895, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  now___16841: undefined,
  toRetry___16844: undefined,
  a___16858: undefined,
  unnamed60___U3: undefined,
  unnamed61___U4: undefined,
} }





function toRetry_inline__P16846(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["nextRetry"];
    s.tmp_0 = r0;
    r0 = (s.caps[0] > s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
toRetry_inline__P16846.info = {"start":11941,"length":22,"line":372,"column":43,"endLine":372,"endColumn":65,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":["a"]}

function toRetry_inline__P16846_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: toRetry_inline__P16846, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_checkAckAwaiters_inline__P16894(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["nextRetry"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > 0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_checkAckAwaiters_inline__P16894.info = {"start":12450,"length":20,"line":385,"column":41,"endLine":385,"endColumn":61,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"inline","argumentNames":["a"]}

function jacdac_checkAckAwaiters_inline__P16894_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_checkAckAwaiters_inline__P16894, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_OutPipe_write__P2959(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutPipe__C2955_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutPipe_writeEx__P4968_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 301; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_write__P2959.info = {"start":4158,"length":63,"line":146,"column":8,"endLine":148,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"write","argumentNames":["this","buf"]}

function jacdac_OutPipe_write__P2959_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_write__P2959, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_OutPipe_from__P4967(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.idbuf___16908 = undefined;
    s.port___16909 = undefined;
    s.id___16910 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = jacdac_jdunpack__P2933_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = "b[8] u16";
    s.callLocIdx = 290; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s.idbuf___16908 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 1);
    s.port___16909 = (r0);
    r0 = pxsim.BufferMethods.toHex(s.idbuf___16908);
    s.id___16910 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_OutPipe__C2955_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_OutPipe_constructor__P2956_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.id___16910;
    s.tmp_1.arg2 = s.port___16909;
    s.callLocIdx = 291; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_from__P4967.info = {"start":2857,"length":253,"line":104,"column":8,"endLine":111,"endColumn":9,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"from","argumentNames":["pkt"]}

function jacdac_OutPipe_from__P4967_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_from__P4967, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  idbuf___16908: undefined,
  port___16909: undefined,
  id___16910: undefined,
  arg0: undefined,
} }





function jacdac_OutPipe_constructor__P2956(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutPipe__C2955_VT)) failedCast(r0);
    r0 = (s.arg0).fields["deviceId"] = (s.arg1);
    r0 = (s.arg0).fields["port"] = (s.arg2);
    r0 = (s.arg0).fields["nextCnt"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutPipe_constructor__P2956.info = {"start":2778,"length":69,"line":102,"column":8,"endLine":102,"endColumn":77,"fileName":"pxt_modules/jacdac/pipes.ts","functionName":"inline","argumentNames":["this","deviceId","port"]}

function jacdac_OutPipe_constructor__P2956_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutPipe_constructor__P2956, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Server_handleRegBool__P4951(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___16923 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.tmp_1.arg3 = "u8";
    s.tmp_1.arg4 = s.tmp_0;
    s.callLocIdx = 600; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.res___16923 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.res___16923);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_handleRegBool__P4951.info = {"start":24143,"length":326,"line":715,"column":8,"endLine":727,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"handleRegBool","argumentNames":["this","pkt","register","current"]}

function jacdac_Server_handleRegBool__P4951_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_handleRegBool__P4951, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  res___16923: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_LoggerServer_log__P3172(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LoggerServer__C3167_VT)) failedCast(r0);
    s.tmp_0 = jacdac_LoggerServer_add__P3175_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 314; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LoggerServer_log__P3172.info = {"start":1768,"length":95,"line":47,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/jacdac/logger-server/server.ts","functionName":"log","argumentNames":["this","message"]}

function jacdac_LoggerServer_log__P3172_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LoggerServer_log__P3172, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_LoggerServer_handlePacket__P3170(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___16954 = undefined;
    s.d___16957 = undefined;
    s.elapsed___16962 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LoggerServer__C3167_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = jacdac_Server_handleRegValue__P4950_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    s.tmp_2.arg2 = 128;
    s.tmp_2.arg3 = "u8";
    r0 = s.arg0.fields["minPriority"];
    s.tmp_2.arg4 = r0;
    s.callLocIdx = 310; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["minPriority"] = (s.tmp_1);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(8320, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 1:
    r0 = pxsim.control.millis();
    s.now___16954 = (r0);
    s.tmp_1 = jacdac_JDPacket_jdunpack__P2914_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = "u8";
    s.callLocIdx = 312; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s.d___16957 = (r0);
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_0 = r0;
    r0 = (s.now___16954 - s.tmp_0);
    s.elapsed___16962 = (r0);
    r0 = s.arg0.fields["minPriority"];
    s.tmp_1 = r0;
    r0 = (s.d___16957 <= s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.elapsed___16962 > 1500);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = (s.arg0).fields["minPriority"] = (s.d___16957);
    r0 = (s.arg0).fields["_lastListenerTime"] = (s.now___16954);
  case 4:
  case 5:
    r0 = s.arg0.fields["minPriority"];
    s.tmp_1 = r0;
    r0 = (globals.minPriority___2376 > s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.arg0.fields["minPriority"];
    globals.minPriority___2376 = (r0);
  case 6:
  case 7:
    { step = 9; continue; }
  case 8:
    s.tmp_0 = jacdac_JDPacket_possiblyNotImplemented__P2890_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 313; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LoggerServer_handlePacket__P3170.info = {"start":275,"length":1375,"line":10,"column":8,"endLine":42,"endColumn":9,"fileName":"pxt_modules/jacdac/logger-server/server.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac_LoggerServer_handlePacket__P3170_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LoggerServer_handlePacket__P3170, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  now___16954: undefined,
  d___16957: undefined,
  elapsed___16962: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Server_toString__P3467(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Server__C3447_VT)) failedCast(r0);
    r0 = s.arg0.fields["instanceName"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = jacdac_hexNum__P2876_mk(s);
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 8;
    s.callLocIdx = 599; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("server:", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ".");
    s.tmp_3 = r0;
    r0 = s.arg0.fields["serviceIndex"];
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Server_toString__P3467.info = {"start":23967,"length":166,"line":709,"column":8,"endLine":713,"endColumn":9,"fileName":"pxt_modules/jacdac/routing.ts","functionName":"toString","argumentNames":["this"]}

function jacdac_Server_toString__P3467_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Server_toString__P3467, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function jacdac_hexNum__P2876(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hex___17008 = undefined;
    s.r___17010 = undefined;
    s.i___17011 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.hex___17008 = ("0123456789abcdef");
    s.r___17010 = ("0x");
    s.i___17011 = (0);
  case 1:
    r0 = (s.i___17011 < s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    if ((s.r___17010) && (s.r___17010).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.r___17010);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___17010) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = r0 = s.hex___17008;
    s.tmp_7 = r0 = s.arg0;
    r0 = (s.arg1 - 1);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 - s.i___17011);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 * 4);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 >>> s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 & 15);
    s.tmp_5 = r0;
    r0 = pxsim_String_.charAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);
    s.r___17010 = (r0);
    r0 = (s.i___17011 + 1);
    s.i___17011 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.r___17010;
    return leave(s, r0)
  default: oops()
} } }
jacdac_hexNum__P2876.info = {"start":1333,"length":233,"line":30,"column":4,"endLine":37,"endColumn":5,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"hexNum","argumentNames":["n","len"]}

function jacdac_hexNum__P2876_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_hexNum__P2876, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  hex___17008: undefined,
  r___17010: undefined,
  i___17011: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_toString__P2921(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.msg___17038 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_1);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_15 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_16 = r0;
    r0 = pxsim_String__concat(s.tmp_15, s.tmp_16);
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_14, " ");
    s.tmp_13 = r0;
    s.tmp_19 = jacdac_shortDeviceId__P3524_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_21 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_21, 4, 8);
    s.tmp_20 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_20);
    s.tmp_19.arg0 = r0;
    s.callLocIdx = 217; s.pc = 6; return s.tmp_19;
  case 6:
    r0 = s.retval;
    s.tmp_18 = r0;
    if ((s.tmp_18) && (s.tmp_18).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_18);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_18) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_17 = r0;
    r0 = pxsim_String__concat(s.tmp_13, s.tmp_17);
    s.tmp_12 = r0;
    r0 = pxsim_String__concat(s.tmp_12, "[");
    s.tmp_11 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_25 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_25, 13);
    s.tmp_24 = r0;
    r0 = (s.tmp_24 & 63);
    s.tmp_23 = r0;
    if ((s.tmp_23) && (s.tmp_23).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_23);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_23) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_22 = r0;
    r0 = pxsim_String__concat(s.tmp_11, s.tmp_22);
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_10, "]: ");
    s.tmp_9 = r0;
    s.tmp_28 = jacdac_hexNum__P2876_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_29 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_29, 4, 14);
    s.tmp_28.arg0 = r0;
    s.tmp_28.arg1 = 4;
    s.callLocIdx = 220; s.pc = 9; return s.tmp_28;
  case 9:
    r0 = s.retval;
    s.tmp_27 = r0;
    if ((s.tmp_27) && (s.tmp_27).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_27);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_27) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_26 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_26);
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, " crc=");
    s.tmp_7 = r0;
    s.tmp_32 = jacdac_hexNum__P2876_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_33 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_33, 4, 0);
    s.tmp_32.arg0 = r0;
    s.tmp_32.arg1 = 2;
    s.callLocIdx = 222; s.pc = 11; return s.tmp_32;
  case 11:
    r0 = s.retval;
    s.tmp_31 = r0;
    if ((s.tmp_31) && (s.tmp_31).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_31);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_31) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_30 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_30);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, ", flags=");
    s.tmp_5 = r0;
    s.tmp_36 = jacdac_hexNum__P2876_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_37 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_37, 3);
    s.tmp_36.arg0 = r0;
    s.tmp_36.arg1 = 1;
    s.callLocIdx = 224; s.pc = 13; return s.tmp_36;
  case 13:
    r0 = s.retval;
    s.tmp_35 = r0;
    if ((s.tmp_35) && (s.tmp_35).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_35);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_35) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_34 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_34);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ", sz=");
    s.tmp_3 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_40 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_40, 12);
    s.tmp_39 = r0;
    if ((s.tmp_39) && (s.tmp_39).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_39);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_39) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_38 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_38);
    s.msg___17038 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 12);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 20);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    if ((s.msg___17038) && (s.msg___17038).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.msg___17038);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.msg___17038) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_8);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(": ", s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.msg___17038 = (r0);
    { step = 4; continue; }
  case 3:
    if ((s.msg___17038) && (s.msg___17038).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.msg___17038);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.msg___17038) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_8, 0, 20);
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_7);
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(": ", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "...");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.msg___17038 = (r0);
  case 4:
    r0 = s.msg___17038;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_toString__P2921.info = {"start":8654,"length":547,"line":271,"column":8,"endLine":283,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"toString","argumentNames":["this"]}

function jacdac_JDPacket_toString__P2921_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_toString__P2921, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  tmp_23: undefined,
  tmp_24: undefined,
  tmp_25: undefined,
  tmp_26: undefined,
  tmp_27: undefined,
  tmp_28: undefined,
  tmp_29: undefined,
  tmp_30: undefined,
  tmp_31: undefined,
  tmp_32: undefined,
  tmp_33: undefined,
  tmp_34: undefined,
  tmp_35: undefined,
  tmp_36: undefined,
  tmp_37: undefined,
  tmp_38: undefined,
  tmp_39: undefined,
  tmp_40: undefined,
  msg___17038: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_size__P2895(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C2877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 12);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_size__P2895.info = {"start":4442,"length":66,"line":131,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/jacdac/packet.ts","functionName":"size","argumentNames":["this"]}
jacdac_JDPacket_size__P2895.isGetter = true;

function jacdac_JDPacket_size__P2895_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_size__P2895, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function modules_DistanceClient_variant__P3747(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17120 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_DistanceClient__C3741_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 936; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 937; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17120 = (r0);
    r0 = pxsim_Array__getAt(s.values___17120, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_DistanceClient_variant__P3747.info = {"start":3144,"length":168,"line":95,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/jacdac-distance/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_DistanceClient_variant__P3747_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_DistanceClient_variant__P3747, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17120: undefined,
  arg0: undefined,
} }





function modules_TemperatureClient_variant__P4539(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17130 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_TemperatureClient__C4533_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1062; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1063; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17130 = (r0);
    r0 = pxsim_Array__getAt(s.values___17130, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_TemperatureClient_variant__P4539.info = {"start":3296,"length":171,"line":97,"column":8,"endLine":101,"endColumn":9,"fileName":"pxt_modules/jacdac-temperature/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_TemperatureClient_variant__P4539_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_TemperatureClient_variant__P4539, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17130: undefined,
  arg0: undefined,
} }





function modules_SwitchClient_variant__P4508(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17140 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_SwitchClient__C4505_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1053; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1054; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17140 = (r0);
    r0 = pxsim_Array__getAt(s.values___17140, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_SwitchClient_variant__P4508.info = {"start":1233,"length":166,"line":39,"column":8,"endLine":43,"endColumn":9,"fileName":"pxt_modules/jacdac-switch/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_SwitchClient_variant__P4508_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_SwitchClient_variant__P4508, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17140: undefined,
  arg0: undefined,
} }





function modules_RelayClient_variant__P4419(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17150 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_RelayClient__C4415_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1021; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1022; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17150 = (r0);
    r0 = pxsim_Array__getAt(s.values___17150, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_RelayClient_variant__P4419.info = {"start":2637,"length":165,"line":71,"column":8,"endLine":75,"endColumn":9,"fileName":"pxt_modules/jacdac-relay/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_RelayClient_variant__P4419_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_RelayClient_variant__P4419, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17150: undefined,
  arg0: undefined,
} }





function modules_LightLevelClient_variant__P4345(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17160 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LightLevelClient__C4341_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 997; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 998; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17160 = (r0);
    r0 = pxsim_Array__getAt(s.values___17160, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_LightLevelClient_variant__P4345.info = {"start":1923,"length":170,"line":61,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/jacdac-light-level/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_LightLevelClient_variant__P4345_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LightLevelClient_variant__P4345, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17160: undefined,
  arg0: undefined,
} }





function modules_MagneticFieldLevelClient_variant__P4374(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17170 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_MagneticFieldLevelClient__C4370_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1003; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1004; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17170 = (r0);
    r0 = pxsim_Array__getAt(s.values___17170, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_MagneticFieldLevelClient_variant__P4374.info = {"start":2279,"length":178,"line":64,"column":8,"endLine":68,"endColumn":9,"fileName":"pxt_modules/jacdac-magnetic-field-level/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_MagneticFieldLevelClient_variant__P4374_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_MagneticFieldLevelClient_variant__P4374, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17170: undefined,
  arg0: undefined,
} }





function modules_PotentiometerClient_variant__P4396(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17180 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_PotentiometerClient__C4393_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1009; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1010; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17180 = (r0);
    r0 = pxsim_Array__getAt(s.values___17180, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_PotentiometerClient_variant__P4396.info = {"start":1300,"length":173,"line":43,"column":8,"endLine":47,"endColumn":9,"fileName":"pxt_modules/jacdac-potentiometer/client.g.ts","functionName":"variant","argumentNames":["this"]}

function modules_PotentiometerClient_variant__P4396_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_PotentiometerClient_variant__P4396, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17180: undefined,
  arg0: undefined,
} }





function modules_LedClient_variant__P4240(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17190 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_LedClient__C4228_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 976; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 977; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17190 = (r0);
    r0 = pxsim_Array__getAt(s.values___17190, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_LedClient_variant__P4240.info = {"start":8059,"length":163,"line":229,"column":8,"endLine":233,"endColumn":9,"fileName":"pxt_modules/jacdac-led/client.ts","functionName":"variant","argumentNames":["this"]}

function modules_LedClient_variant__P4240_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_LedClient_variant__P4240, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17190: undefined,
  arg0: undefined,
} }





function modules_GamepadClient_variant__P3804(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.values___17200 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, modules_GamepadClient__C3798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P3521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 946; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_RegisterClient_pauseUntilValues__P3482_mk(s);
    r0 = s.arg0.fields["_variant"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 947; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.values___17200 = (r0);
    r0 = pxsim_Array__getAt(s.values___17200, 0);
    return leave(s, r0)
  default: oops()
} } }
modules_GamepadClient_variant__P3804.info = {"start":3796,"length":167,"line":99,"column":8,"endLine":103,"endColumn":9,"fileName":"pxt_modules/jacdac-gamepad/client.ts","functionName":"variant","argumentNames":["this"]}

function modules_GamepadClient_variant__P3804_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: modules_GamepadClient_variant__P3804, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  values___17200: undefined,
  arg0: undefined,
} }





function jacdac_SensorClient_announceCallback__P3226(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C3223_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SensorClient_checkSamples__P4996_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 332; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_announceCallback__P3226.info = {"start":2442,"length":62,"line":68,"column":8,"endLine":70,"endColumn":9,"fileName":"pxt_modules/jacdac/sensor/client.ts","functionName":"announceCallback","argumentNames":["this"]}

function jacdac_SensorClient_announceCallback__P3226_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_announceCallback__P3226, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }




function lambda_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function lambda_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function jacdac_Server__C3447_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Client__C3496_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_packFormat_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_value_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function jacdac_Server__C3447_v1_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_code_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_calibrate_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_condition_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_handler_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function if_disableBrain_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_disableBrain_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_disableRoleManager_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_proxyMode_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_disableLogger_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_noWait_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function jacdac_Server__C3447_v2_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Client__C3496_v1_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_instanceName_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_variant_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_statusCode_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_intensityPackFormat_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_valuePackFormat_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_intensity_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_constants_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_digitalWrite_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_setPull_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_digitalRead_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }

const jacdac_EventSource__C3574_VT = mkVTable({
  name: "EventSource",
  numFields: 1,
  classNo: 16,
  lastSubtypeNo: 48,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_Bus__C3408_VT = mkVTable({
  name: "Bus",
  numFields: 13,
  classNo: 17,
  lastSubtypeNo: 17,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "servers": null,
    "set/servers": null,
    "devices": null,
    "set/devices": null,
    "_myDevice": null,
    "set/_myDevice": null,
    "restartCounter": null,
    "set/restartCounter": null,
    "resetIn": null,
    "set/resetIn": null,
    "autoBindCnt": null,
    "set/autoBindCnt": null,
    "_eventCounter": null,
    "set/_eventCounter": null,
    "controlServer": null,
    "set/controlServer": null,
    "proxyMode": null,
    "set/proxyMode": null,
    "unattachedClients": null,
    "set/unattachedClients": null,
    "allClients": null,
    "set/allClients": null,
    "_refreshing": null,
    "set/_refreshing": null,
    "running": jacdac_Bus_running__P3415,
    "start": jacdac_Bus_start__P3416,
    "addServer": jacdac_Bus_addServer__P3417,
    "gcDevices": jacdac_Bus_gcDevices__P5034,
    "selfDevice": jacdac_Bus_selfDevice__P3418,
    "mkEventCmd": jacdac_Bus_mkEventCmd__P3419,
    "clearAttachCache": jacdac_Bus_clearAttachCache__P3420,
    "isClient": jacdac_Bus_isClient__P3421,
    "queueAnnounce": jacdac_Bus_queueAnnounce__P3422,
    "detachClient": jacdac_Bus_detachClient__P3423,
    "attachClient": jacdac_Bus_attachClient__P3424,
    "startClient": jacdac_Bus_startClient__P3425,
    "destroyClient": jacdac_Bus_destroyClient__P3426,
    "reattach": jacdac_Bus_reattach__P3427,
    "processPacket": jacdac_Bus_processPacket__P3428,
    "startRefresh": jacdac_Bus_startRefresh__P5035,
    "refreshLoop": jacdac_Bus_refreshLoop__P5036,
    "subscribeRefresh": jacdac_Bus_subscribeRefresh__P3429,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const machine_MicrobitMachine__C5375_VT = mkVTable({
  name: "MicrobitMachine",
  numFields: 2,
  classNo: 18,
  lastSubtypeNo: 18,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "tone": null,
    "set/tone": null,
    "onClient": machine_MicrobitMachine_onClient__P5377,
    "onControlEvent": machine_MicrobitMachine_onControlEvent__P5378,
    "playTone": machine_MicrobitMachine_playTone__P5379,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_Client__C3496_VT = mkVTable({
  name: "Client",
  numFields: 14,
  classNo: 19,
  lastSubtypeNo: 40,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_SensorClient__C3223_VT = mkVTable({
  name: "SensorClient",
  numFields: 21,
  classNo: 20,
  lastSubtypeNo: 34,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_AccelerometerClient__C3612_VT = mkVTable({
  name: "AccelerometerClient",
  numFields: 24,
  classNo: 21,
  lastSubtypeNo: 21,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_forcesError": null,
    "set/_forcesError": null,
    "_maxForce": null,
    "set/_maxForce": null,
    "_maxForcesSupported": null,
    "set/_maxForcesSupported": null,
    "onTiltUp": modules_AccelerometerClient_onTiltUp__P3622,
    "onTiltDown": modules_AccelerometerClient_onTiltDown__P3623,
    "onTiltLeft": modules_AccelerometerClient_onTiltLeft__P3624,
    "onTiltRight": modules_AccelerometerClient_onTiltRight__P3625,
    "onFaceUp": modules_AccelerometerClient_onFaceUp__P3626,
    "onFaceDown": modules_AccelerometerClient_onFaceDown__P3627,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_SimpleSensorClient__C3229_VT = mkVTable({
  name: "SimpleSensorClient",
  numFields: 21,
  classNo: 22,
  lastSubtypeNo: 32,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_AirPressureClient__C3644_VT = mkVTable({
  name: "AirPressureClient",
  numFields: 22,
  classNo: 23,
  lastSubtypeNo: 23,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_pressureError": null,
    "set/_pressureError": null,
    "pressure": modules_AirPressureClient_pressure__P3646,
    "onPressureChangedBy": modules_AirPressureClient_onPressureChangedBy__P3648,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_BrailleDisplayClient__C3662_VT = mkVTable({
  name: "BrailleDisplayClient",
  numFields: 17,
  classNo: 35,
  lastSubtypeNo: 35,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_enabled": null,
    "set/_enabled": null,
    "_patterns": null,
    "set/_patterns": null,
    "_length": null,
    "set/_length": null,
    "showString": modules_BrailleDisplayClient_showString__P3664,
    "showNumber": modules_BrailleDisplayClient_showNumber__P3665,
    "setEnabled": modules_BrailleDisplayClient_setEnabled__P3667,
    "setPatterns": modules_BrailleDisplayClient_setPatterns__P3669,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_BuzzerClient__C3717_VT = mkVTable({
  name: "BuzzerClient",
  numFields: 14,
  classNo: 36,
  lastSubtypeNo: 36,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "playTone": modules_BuzzerClient_playTone__P3719,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_ButtonClient__C3691_VT = mkVTable({
  name: "ButtonClient",
  numFields: 24,
  classNo: 24,
  lastSubtypeNo: 24,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_analog": null,
    "set/_analog": null,
    "_pressed": null,
    "set/_pressed": null,
    "_holdDuration": null,
    "set/_holdDuration": null,
    "handleEvent": modules_ButtonClient_handleEvent__P5114,
    "onDown": modules_ButtonClient_onDown__P3699,
    "onUp": modules_ButtonClient_onUp__P3700,
    "onHold": modules_ButtonClient_onHold__P3701,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_GamepadClient__C3798_VT = mkVTable({
  name: "GamepadClient",
  numFields: 23,
  classNo: 33,
  lastSubtypeNo: 33,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_variant": null,
    "set/_variant": null,
    "_buttonsAvailable": null,
    "set/_buttonsAvailable": null,
    "x": modules_GamepadClient_x__P3801,
    "y": modules_GamepadClient_y__P3802,
    "variant": modules_GamepadClient_variant__P3804,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_HumidityClient__C4138_VT = mkVTable({
  name: "HumidityClient",
  numFields: 24,
  classNo: 25,
  lastSubtypeNo: 25,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_humidityError": null,
    "set/_humidityError": null,
    "_minHumidity": null,
    "set/_minHumidity": null,
    "_maxHumidity": null,
    "set/_maxHumidity": null,
    "humidity": modules_HumidityClient_humidity__P4140,
    "onHumidityChangedBy": modules_HumidityClient_onHumidityChangedBy__P4144,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_LedClient__C4228_VT = mkVTable({
  name: "LedClient",
  numFields: 30,
  classNo: 37,
  lastSubtypeNo: 37,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_dirty": null,
    "set/_dirty": null,
    "_localPixels": null,
    "set/_localPixels": null,
    "_autoShow": null,
    "set/_autoShow": null,
    "_autoShowUnsub": null,
    "set/_autoShowUnsub": null,
    "_pixels": null,
    "set/_pixels": null,
    "_brightness": null,
    "set/_brightness": null,
    "_actualBrightness": null,
    "set/_actualBrightness": null,
    "_numPixels": null,
    "set/_numPixels": null,
    "_numColumns": null,
    "set/_numColumns": null,
    "_maxPower": null,
    "set/_maxPower": null,
    "_ledsPerPixel": null,
    "set/_ledsPerPixel": null,
    "_waveLength": null,
    "set/_waveLength": null,
    "_luminousIntensity": null,
    "set/_luminousIntensity": null,
    "_variant": null,
    "set/_variant": null,
    "_barGraphHigh": null,
    "set/_barGraphHigh": null,
    "_barGraphHighLast": null,
    "set/_barGraphHighLast": null,
    "setBrightness": modules_LedClient_setBrightness__P4231,
    "numPixels": modules_LedClient_numPixels__P4233,
    "variant": modules_LedClient_variant__P4240,
    "startAutoShow": modules_LedClient_startAutoShow__P5142,
    "stopAutoShow": modules_LedClient_stopAutoShow__P5143,
    "setDirty": modules_LedClient_setDirty__P5144,
    "refresh": modules_LedClient_refresh__P5145,
    "show": modules_LedClient_show__P4244,
    "setPixelColor": modules_LedClient_setPixelColor__P4245,
    "rotate": modules_LedClient_rotate__P4249,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_PotentiometerClient__C4393_VT = mkVTable({
  name: "PotentiometerClient",
  numFields: 22,
  classNo: 26,
  lastSubtypeNo: 26,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_variant": null,
    "set/_variant": null,
    "position": modules_PotentiometerClient_position__P4395,
    "variant": modules_PotentiometerClient_variant__P4396,
    "onPositionChangedBy": modules_PotentiometerClient_onPositionChangedBy__P4397,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_MagneticFieldLevelClient__C4370_VT = mkVTable({
  name: "MagneticFieldLevelClient",
  numFields: 22,
  classNo: 27,
  lastSubtypeNo: 27,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_variant": null,
    "set/_variant": null,
    "strength": modules_MagneticFieldLevelClient_strength__P4372,
    "variant": modules_MagneticFieldLevelClient_variant__P4374,
    "onStrengthChangedBy": modules_MagneticFieldLevelClient_onStrengthChangedBy__P4375,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_LightLevelClient__C4341_VT = mkVTable({
  name: "LightLevelClient",
  numFields: 23,
  classNo: 28,
  lastSubtypeNo: 28,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_lightLevelError": null,
    "set/_lightLevelError": null,
    "_variant": null,
    "set/_variant": null,
    "lightLevel": modules_LightLevelClient_lightLevel__P4343,
    "variant": modules_LightLevelClient_variant__P4345,
    "onLightLevelChangedBy": modules_LightLevelClient_onLightLevelChangedBy__P4346,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_RelayClient__C4415_VT = mkVTable({
  name: "RelayClient",
  numFields: 17,
  classNo: 38,
  lastSubtypeNo: 38,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_active": null,
    "set/_active": null,
    "_variant": null,
    "set/_variant": null,
    "_maxSwitchingCurrent": null,
    "set/_maxSwitchingCurrent": null,
    "active": modules_RelayClient_active__P4417,
    "setActive": modules_RelayClient_setActive__P4418,
    "variant": modules_RelayClient_variant__P4419,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_RotaryEncoderClient__C4433_VT = mkVTable({
  name: "RotaryEncoderClient",
  numFields: 23,
  classNo: 29,
  lastSubtypeNo: 29,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_clicksPerTurn": null,
    "set/_clicksPerTurn": null,
    "_clicker": null,
    "set/_clicker": null,
    "position": modules_RotaryEncoderClient_position__P4435,
    "clicksPerTurn": modules_RotaryEncoderClient_clicksPerTurn__P4436,
    "onPositionChanged": modules_RotaryEncoderClient_onPositionChanged__P4438,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_ServoClient__C4465_VT = mkVTable({
  name: "ServoClient",
  numFields: 30,
  classNo: 30,
  lastSubtypeNo: 30,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_angle": null,
    "set/_angle": null,
    "_enabled": null,
    "set/_enabled": null,
    "_offset": null,
    "set/_offset": null,
    "_minAngle": null,
    "set/_minAngle": null,
    "_minPulse": null,
    "set/_minPulse": null,
    "_maxAngle": null,
    "set/_maxAngle": null,
    "_maxPulse": null,
    "set/_maxPulse": null,
    "_stallTorque": null,
    "set/_stallTorque": null,
    "_responseSpeed": null,
    "set/_responseSpeed": null,
    "setAngle": modules_ServoClient_setAngle__P4468,
    "setEnabled": modules_ServoClient_setEnabled__P4470,
    "minAngle": modules_ServoClient_minAngle__P4473,
    "maxAngle": modules_ServoClient_maxAngle__P4476,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_SwitchClient__C4505_VT = mkVTable({
  name: "SwitchClient",
  numFields: 22,
  classNo: 34,
  lastSubtypeNo: 34,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_variant": null,
    "set/_variant": null,
    "variant": modules_SwitchClient_variant__P4508,
    "onOff": modules_SwitchClient_onOff__P4511,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_TemperatureClient__C4533_VT = mkVTable({
  name: "TemperatureClient",
  numFields: 25,
  classNo: 31,
  lastSubtypeNo: 31,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_minTemperature": null,
    "set/_minTemperature": null,
    "_maxTemperature": null,
    "set/_maxTemperature": null,
    "_temperatureError": null,
    "set/_temperatureError": null,
    "_variant": null,
    "set/_variant": null,
    "temperature": modules_TemperatureClient_temperature__P4535,
    "variant": modules_TemperatureClient_variant__P4539,
    "onTemperatureChangedBy": modules_TemperatureClient_onTemperatureChangedBy__P4540,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_DistanceClient__C3741_VT = mkVTable({
  name: "DistanceClient",
  numFields: 25,
  classNo: 32,
  lastSubtypeNo: 32,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_reading": null,
    "set/_reading": null,
    "_streamingSamples": null,
    "set/_streamingSamples": null,
    "_streamingInterval": null,
    "set/_streamingInterval": null,
    "samples": null,
    "set/samples": null,
    "samplesExpiration": null,
    "set/samplesExpiration": null,
    "lastSample": null,
    "set/lastSample": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "_distanceError": null,
    "set/_distanceError": null,
    "_minRange": null,
    "set/_minRange": null,
    "_maxRange": null,
    "set/_maxRange": null,
    "_variant": null,
    "set/_variant": null,
    "distance": modules_DistanceClient_distance__P3743,
    "variant": modules_DistanceClient_variant__P3747,
    "onDistanceChangedBy": modules_DistanceClient_onDistanceChangedBy__P3748,
    "reading": jacdac_SimpleSensorClient_reading__P3231,
    "onReadingChangedBy": jacdac_SimpleSensorClient_onReadingChangedBy__P3232,
    "updateSamples": jacdac_SensorClient_updateSamples__P4995,
    "checkSamples": jacdac_SensorClient_checkSamples__P4996,
    "announceCallback": jacdac_SensorClient_announceCallback__P3226,
    "setStreaming": jacdac_SensorClient_setStreaming__P3227,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P3228,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_VibrationMotorClient__C4549_VT = mkVTable({
  name: "VibrationMotorClient",
  numFields: 15,
  classNo: 39,
  lastSubtypeNo: 39,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_enabled": null,
    "set/_enabled": null,
    "vibrate": modules_VibrationMotorClient_vibrate__P4551,
    "vibrateMulti": modules_VibrationMotorClient_vibrateMulti__P4552,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const modules_HidKeyboardClient__C4093_VT = mkVTable({
  name: "HidKeyboardClient",
  numFields: 14,
  classNo: 40,
  lastSubtypeNo: 40,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "announceCallback": jacdac_Client_announceCallback__P3523,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_device": null,
    "set/_device": null,
    "eventSource": null,
    "set/eventSource": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "systemActive": null,
    "set/systemActive": null,
    "_registeredEvents": null,
    "set/_registeredEvents": null,
    "config": null,
    "set/config": null,
    "registers": null,
    "set/registers": null,
    "_role": null,
    "set/_role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "key": modules_HidKeyboardClient_key__P4095,
    "role": jacdac_Client_role__P3503,
    "roleName": jacdac_Client_roleName__P3504,
    "roleQuery": jacdac_Client_roleQuery__P3505,
    "device": jacdac_Client_device__P3506,
    "set/device": jacdac_Client_device__P3507,
    "addRegister": jacdac_Client_addRegister__P4934,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P3513,
    "handlePacket": jacdac_Client_handlePacket__P3514,
    "_attach": jacdac_Client__attach__P3515,
    "handleConnected": jacdac_Client_handleConnected__P4935,
    "_detach": jacdac_Client__detach__P3516,
    "sendCommand": jacdac_Client_sendCommand__P3517,
    "setReg": jacdac_Client_setReg__P3519,
    "setRegBuffer": jacdac_Client_setRegBuffer__P3520,
    "raiseEvent": jacdac_Client_raiseEvent__P4936,
    "registerEvent": jacdac_Client_registerEvent__P4937,
    "start": jacdac_Client_start__P3521,
    "destroy": jacdac_Client_destroy__P3522,
    "announceCallback": jacdac_Client_announceCallback__P3523,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_TokenParser__C4924_VT = mkVTable({
  name: "TokenParser",
  numFields: 9,
  classNo: 49,
  lastSubtypeNo: 49,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "c0": null,
    "set/c0": null,
    "size": null,
    "set/size": null,
    "div": null,
    "set/div": null,
    "fp": null,
    "set/fp": null,
    "nfmt": null,
    "set/nfmt": null,
    "nfmt2": null,
    "set/nfmt2": null,
    "word": null,
    "set/word": null,
    "isArray": null,
    "set/isArray": null,
    "fmt": null,
    "set/fmt": null,
    "parse": jacdac_TokenParser_parse__P4925,
  },
});
const jacdac_JDPacket__C2877_VT = mkVTable({
  name: "JDPacket",
  numFields: 4,
  classNo: 50,
  lastSubtypeNo: 50,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_header": null,
    "set/_header": null,
    "_data": null,
    "set/_data": null,
    "timestamp": null,
    "set/timestamp": null,
    "_handled": null,
    "set/_handled": null,
    "fromBinary": jacdac_JDPacket_fromBinary__P2882,
    "from": jacdac_JDPacket_from__P2883,
    "onlyHeader": jacdac_JDPacket_onlyHeader__P2884,
    "fromFrameless": jacdac_JDPacket_fromFrameless__P2885,
    "jdpacked": jacdac_JDPacket_jdpacked__P2886,
    "handled": jacdac_JDPacket_handled__P2888,
    "markHandled": jacdac_JDPacket_markHandled__P2889,
    "possiblyNotImplemented": jacdac_JDPacket_possiblyNotImplemented__P2890,
    "deviceIdentifier": jacdac_JDPacket_deviceIdentifier__P2891,
    "set/deviceIdentifier": jacdac_JDPacket_deviceIdentifier__P2892,
    "packetFlags": jacdac_JDPacket_packetFlags__P2893,
    "multicommandClass": jacdac_JDPacket_multicommandClass__P2894,
    "size": jacdac_JDPacket_size__P2895,
    "requiresAck": jacdac_JDPacket_requiresAck__P2896,
    "set/requiresAck": jacdac_JDPacket_requiresAck__P2897,
    "serviceIndex": jacdac_JDPacket_serviceIndex__P2898,
    "set/serviceIndex": jacdac_JDPacket_serviceIndex__P2899,
    "crc": jacdac_JDPacket_crc__P2900,
    "serviceCommand": jacdac_JDPacket_serviceCommand__P2901,
    "set/serviceCommand": jacdac_JDPacket_serviceCommand__P2902,
    "isEvent": jacdac_JDPacket_isEvent__P2903,
    "eventCode": jacdac_JDPacket_eventCode__P2904,
    "eventCounter": jacdac_JDPacket_eventCounter__P2905,
    "isRegSet": jacdac_JDPacket_isRegSet__P2906,
    "isRegGet": jacdac_JDPacket_isRegGet__P2907,
    "regCode": jacdac_JDPacket_regCode__P2908,
    "data": jacdac_JDPacket_data__P2909,
    "set/data": jacdac_JDPacket_data__P2910,
    "intData": jacdac_JDPacket_intData__P2911,
    "jdunpack": jacdac_JDPacket_jdunpack__P2914,
    "withFrameStripped": jacdac_JDPacket_withFrameStripped__P2916,
    "getNumber": jacdac_JDPacket_getNumber__P2917,
    "isCommand": jacdac_JDPacket_isCommand__P2919,
    "isReport": jacdac_JDPacket_isReport__P2920,
    "toString": jacdac_JDPacket_toString__P2921,
    "_sendCore": jacdac_JDPacket__sendCore__P2923,
    "_sendReport": jacdac_JDPacket__sendReport__P2924,
    "_sendCmd": jacdac_JDPacket__sendCmd__P2925,
    "_sendCmdId": jacdac_JDPacket__sendCmdId__P2926,
    "sendAsMultiCommand": jacdac_JDPacket_sendAsMultiCommand__P2927,
    "_sendWithAck": jacdac_JDPacket__sendWithAck__P2928,
  },
  toStringMethod: jacdac_JDPacket_toString__P2921,
});
const jacdac_Server__C3447_VT = mkVTable({
  name: "Server",
  numFields: 16,
  classNo: 41,
  lastSubtypeNo: 46,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "log": jacdac_Server_log__P4955,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "log": jacdac_Server_log__P4955,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
  toStringMethod: jacdac_Server_toString__P3467,
});
const jacdac_Device__C3525_VT = mkVTable({
  name: "Device",
  numFields: 9,
  classNo: 47,
  lastSubtypeNo: 47,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "lastSeen": null,
    "set/lastSeen": null,
    "clients": null,
    "set/clients": null,
    "_eventCounter": null,
    "set/_eventCounter": null,
    "_shortId": null,
    "set/_shortId": null,
    "queries": null,
    "set/queries": null,
    "_score": null,
    "set/_score": null,
    "deviceId": null,
    "set/deviceId": null,
    "services": null,
    "set/services": null,
    "isBrain": jacdac_Device_isBrain__P3530,
    "announceflags": jacdac_Device_announceflags__P3531,
    "restartCounter": jacdac_Device_restartCounter__P3532,
    "shortId": jacdac_Device_shortId__P3536,
    "toString": jacdac_Device_toString__P3537,
    "matchesRoleAt": jacdac_Device_matchesRoleAt__P3538,
    "lookupQuery": jacdac_Device_lookupQuery__P5055,
    "serviceClassLength": jacdac_Device_serviceClassLength__P3539,
    "serviceOffsetAt": jacdac_Device_serviceOffsetAt__P5056,
    "serviceClassAt": jacdac_Device_serviceClassAt__P3540,
    "query": jacdac_Device_query__P3541,
    "processPacket": jacdac_Device_processPacket__P3545,
    "hasService": jacdac_Device_hasService__P3546,
    "_destroy": jacdac_Device__destroy__P3549,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
  toStringMethod: jacdac_Device_toString__P3537,
});
const jacdac_RegisterClient__C3474_VT = mkVTable({
  name: "RegisterClient",
  numFields: 7,
  classNo: 48,
  lastSubtypeNo: 48,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "_data": null,
    "set/_data": null,
    "_localTime": null,
    "set/_localTime": null,
    "flags": null,
    "set/flags": null,
    "service": null,
    "set/service": null,
    "code": null,
    "set/code": null,
    "packFormat": null,
    "set/packFormat": null,
    "reset": jacdac_RegisterClient_reset__P3477,
    "hasValues": jacdac_RegisterClient_hasValues__P3479,
    "isConst": jacdac_RegisterClient_isConst__P3480,
    "pauseUntilValues": jacdac_RegisterClient_pauseUntilValues__P3482,
    "values": jacdac_RegisterClient_values__P3483,
    "set/values": jacdac_RegisterClient_values__P3484,
    "sendSet": jacdac_RegisterClient_sendSet__P3485,
    "handlePacket": jacdac_RegisterClient_handlePacket__P3487,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_ClientPacketQueue__C5041_VT = mkVTable({
  name: "ClientPacketQueue",
  numFields: 2,
  classNo: 51,
  lastSubtypeNo: 51,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "pkts": null,
    "set/pkts": null,
    "parent": null,
    "set/parent": null,
    "updateQueue": jacdac_ClientPacketQueue_updateQueue__P5042,
    "send": jacdac_ClientPacketQueue_send__P5044,
    "resend": jacdac_ClientPacketQueue_resend__P5045,
  },
});
const jacdac_ClientRoleQuery__C3488_VT = mkVTable({
  name: "ClientRoleQuery",
  numFields: 4,
  classNo: 52,
  lastSubtypeNo: 52,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "role": null,
    "set/role": null,
    "device": null,
    "set/device": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "serviceOffset": null,
    "set/serviceOffset": null,
  },
});
const jacdac_DelayedPacket__C4970_VT = mkVTable({
  name: "DelayedPacket",
  numFields: 2,
  classNo: 53,
  lastSubtypeNo: 53,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "timestamp": null,
    "set/timestamp": null,
    "pkt": null,
    "set/pkt": null,
  },
});
const control_PollEvent__C4805_VT = mkVTable({
  name: "PollEvent",
  numFields: 6,
  classNo: 54,
  lastSubtypeNo: 54,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "eid": null,
    "set/eid": null,
    "vid": null,
    "set/vid": null,
    "start": null,
    "set/start": null,
    "timeOut": null,
    "set/timeOut": null,
    "condition": null,
    "set/condition": null,
    "once": null,
    "set/once": null,
  },
});
const jacdac_RegQuery__C5052_VT = mkVTable({
  name: "RegQuery",
  numFields: 6,
  classNo: 55,
  lastSubtypeNo: 55,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "lastQuery": null,
    "set/lastQuery": null,
    "lastReport": null,
    "set/lastReport": null,
    "value": null,
    "set/value": null,
    "notImplemented": null,
    "set/notImplemented": null,
    "reg": null,
    "set/reg": null,
    "serviceIdx": null,
    "set/serviceIdx": null,
  },
});
const music_Melody__C4778_VT = mkVTable({
  name: "Melody",
  numFields: 6,
  classNo: 56,
  lastSubtypeNo: 56,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "melodyArray": null,
    "set/melodyArray": null,
    "currentDuration": null,
    "set/currentDuration": null,
    "currentOctave": null,
    "set/currentOctave": null,
    "currentPos": null,
    "set/currentPos": null,
    "repeating": null,
    "set/repeating": null,
    "background": null,
    "set/background": null,
    "hasNextNote": music_Melody_hasNextNote__P4779,
    "nextNote": music_Melody_nextNote__P4780,
  },
});
const jacdac_EventListener__C3571_VT = mkVTable({
  name: "EventListener",
  numFields: 2,
  classNo: 57,
  lastSubtypeNo: 57,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "key": null,
    "set/key": null,
    "handler": null,
    "set/handler": null,
  },
});
const SoundExpression__C2692_VT = mkVTable({
  name: "SoundExpression",
  numFields: 1,
  classNo: 58,
  lastSubtypeNo: 58,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "notes": null,
    "set/notes": null,
    "play": SoundExpression_play__P2694,
    "playUntilDone": SoundExpression_playUntilDone__P2695,
  },
});
const soundExpression_Sound__C2743_VT = mkVTable({
  name: "Sound",
  numFields: 1,
  classNo: 59,
  lastSubtypeNo: 59,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "src": null,
    "set/src": null,
    "wave": soundExpression_Sound_wave__P2746,
    "set/wave": soundExpression_Sound_wave__P2747,
    "volume": soundExpression_Sound_volume__P2748,
    "set/volume": soundExpression_Sound_volume__P2749,
    "frequency": soundExpression_Sound_frequency__P2750,
    "set/frequency": soundExpression_Sound_frequency__P2751,
    "duration": soundExpression_Sound_duration__P2752,
    "set/duration": soundExpression_Sound_duration__P2753,
    "shape": soundExpression_Sound_shape__P2754,
    "set/shape": soundExpression_Sound_shape__P2755,
    "endFrequency": soundExpression_Sound_endFrequency__P2756,
    "set/endFrequency": soundExpression_Sound_endFrequency__P2757,
    "endVolume": soundExpression_Sound_endVolume__P2758,
    "set/endVolume": soundExpression_Sound_endVolume__P2759,
    "steps": soundExpression_Sound_steps__P2760,
    "set/steps": soundExpression_Sound_steps__P2761,
    "fx": soundExpression_Sound_fx__P2762,
    "set/fx": soundExpression_Sound_fx__P2763,
    "fxParam": soundExpression_Sound_fxParam__P2764,
    "set/fxParam": soundExpression_Sound_fxParam__P2765,
    "fxnSteps": soundExpression_Sound_fxnSteps__P2766,
    "set/fxnSteps": soundExpression_Sound_fxnSteps__P2767,
    "setValue": soundExpression_Sound_setValue__P4838,
    "getValue": soundExpression_Sound_getValue__P4839,
  },
});
const machine_NumberToShow__C5387_VT = mkVTable({
  name: "NumberToShow",
  numFields: 2,
  classNo: 60,
  lastSubtypeNo: 60,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "icon": null,
    "set/icon": null,
    "x": null,
    "set/x": null,
  },
});
const machine_ClientFactory__C5406_VT = mkVTable({
  name: "ClientFactory",
  numFields: 2,
  classNo: 61,
  lastSubtypeNo: 61,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "serviceClass": null,
    "set/serviceClass": null,
    "handler": null,
    "set/handler": null,
  },
});
const machine_SonifyOptions__C4649_VT = mkVTable({
  name: "SonifyOptions",
  numFields: 4,
  classNo: 62,
  lastSubtypeNo: 62,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "waveShape": null,
    "set/waveShape": null,
    "effect": null,
    "set/effect": null,
    "interpolation": null,
    "set/interpolation": null,
    "startVolume": null,
    "set/startVolume": null,
  },
});
const jacdac_BrainServer__C5061_VT = mkVTable({
  name: "BrainServer",
  numFields: 16,
  classNo: 42,
  lastSubtypeNo: 42,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "log": jacdac_Server_log__P4955,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "log": jacdac_Server_log__P4955,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_ProxyServer__C5058_VT = mkVTable({
  name: "ProxyServer",
  numFields: 16,
  classNo: 43,
  lastSubtypeNo: 43,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "log": jacdac_Server_log__P4955,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "log": jacdac_Server_log__P4955,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_LoggerServer__C3167_VT = mkVTable({
  name: "LoggerServer",
  numFields: 18,
  classNo: 44,
  lastSubtypeNo: 44,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac_LoggerServer_handlePacket__P3170,
    "log": jacdac_LoggerServer_log__P3172,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_lastListenerTime": null,
    "set/_lastListenerTime": null,
    "minPriority": null,
    "set/minPriority": null,
    "handlePacket": jacdac_LoggerServer_handlePacket__P3170,
    "log": jacdac_LoggerServer_log__P3172,
    "add": jacdac_LoggerServer_add__P3175,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac__rolemgr_RoleManagerServer__C3287_VT = mkVTable({
  name: "RoleManagerServer",
  numFields: 18,
  classNo: 45,
  lastSubtypeNo: 45,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "handlePacket": jacdac__rolemgr_RoleManagerServer_handlePacket__P3290,
    "log": jacdac_Server_log__P4955,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_oldBindingsHash": null,
    "set/_oldBindingsHash": null,
    "autoBind": null,
    "set/autoBind": null,
    "handlePacket": jacdac__rolemgr_RoleManagerServer_handlePacket__P3290,
    "bindingHash": jacdac__rolemgr_RoleManagerServer_bindingHash__P5024,
    "bindRoles": jacdac__rolemgr_RoleManagerServer_bindRoles__P3291,
    "checkChanges": jacdac__rolemgr_RoleManagerServer_checkChanges__P5025,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacketOuter": jacdac_Server_handlePacketOuter__P3462,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "log": jacdac_Server_log__P4955,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac__rolemgr_DeviceWrapper__C5012_VT = mkVTable({
  name: "DeviceWrapper",
  numFields: 3,
  classNo: 63,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "bindings": null,
    "set/bindings": null,
    "score": null,
    "set/score": null,
    "device": null,
    "set/device": null,
  },
});
const jacdac__rolemgr_RoleBinding__C5014_VT = mkVTable({
  name: "RoleBinding",
  numFields: 5,
  classNo: 64,
  lastSubtypeNo: 64,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "boundToDev": null,
    "set/boundToDev": null,
    "boundToServiceIdx": null,
    "set/boundToServiceIdx": null,
    "role": null,
    "set/role": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "roleQuery": null,
    "set/roleQuery": null,
    "host": jacdac__rolemgr_RoleBinding_host__P5015,
    "select": jacdac__rolemgr_RoleBinding_select__P5016,
  },
});
const jacdac__rolemgr_ServerBindings__C5018_VT = mkVTable({
  name: "ServerBindings",
  numFields: 2,
  classNo: 65,
  lastSubtypeNo: 65,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "bindings": null,
    "set/bindings": null,
    "host": null,
    "set/host": null,
    "fullyBound": jacdac__rolemgr_ServerBindings_fullyBound__P5019,
    "scoreFor": jacdac__rolemgr_ServerBindings_scoreFor__P5020,
  },
});
const jacdac_ControlServer__C3550_VT = mkVTable({
  name: "ControlServer",
  numFields: 16,
  classNo: 46,
  lastSubtypeNo: 46,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_ControlServer_handlePacketOuter__P3553,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "log": jacdac_Server_log__P4955,
  },
  iface: {
    "listeners": null,
    "set/listeners": null,
    "instanceName": null,
    "set/instanceName": null,
    "calibrate": null,
    "set/calibrate": null,
    "valuePackFormat": null,
    "set/valuePackFormat": null,
    "intensityPackFormat": null,
    "set/intensityPackFormat": null,
    "constants": null,
    "set/constants": null,
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceIndex": null,
    "set/serviceIndex": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "_statusCode": null,
    "set/_statusCode": null,
    "_statusVendorCode": null,
    "set/_statusVendorCode": null,
    "_value": null,
    "set/_value": null,
    "_intensity": null,
    "set/_intensity": null,
    "variant": null,
    "set/variant": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "sendUptime": jacdac_ControlServer_sendUptime__P3552,
    "handleFloodPing": jacdac_ControlServer_handleFloodPing__P5065,
    "handlePacketOuter": jacdac_ControlServer_handlePacketOuter__P3553,
    "statusCode": jacdac_Server_statusCode__P3452,
    "intensity": jacdac_Server_intensity__P3456,
    "set/intensity": jacdac_Server_intensity__P3457,
    "value": jacdac_Server_value__P3458,
    "set/value": jacdac_Server_value__P3459,
    "setStatusCode": jacdac_Server_setStatusCode__P3460,
    "handlePacket": jacdac_Server_handlePacket__P3463,
    "sendReport": jacdac_Server_sendReport__P4941,
    "sendEvent": jacdac_Server_sendEvent__P3465,
    "sendChangeEvent": jacdac_Server_sendChangeEvent__P3466,
    "handleStatusCode": jacdac_Server_handleStatusCode__P4942,
    "handleInstanceName": jacdac_Server_handleInstanceName__P4943,
    "handleVariant": jacdac_Server_handleVariant__P4944,
    "handleValue": jacdac_Server_handleValue__P4945,
    "handleIntensity": jacdac_Server_handleIntensity__P4946,
    "handleCalibrateCommand": jacdac_Server_handleCalibrateCommand__P4947,
    "doCalibrate": jacdac_Server_doCalibrate__P4948,
    "handleRegFormat": jacdac_Server_handleRegFormat__P4949,
    "handleRegValue": jacdac_Server_handleRegValue__P4950,
    "toString": jacdac_Server_toString__P3467,
    "handleRegBool": jacdac_Server_handleRegBool__P4951,
    "start": jacdac_Server_start__P3468,
    "log": jacdac_Server_log__P4955,
    "on": jacdac_EventSource_on__P3576,
    "addListenerInternal": jacdac_EventSource_addListenerInternal__P4932,
    "removeListenerInternal": jacdac_EventSource_removeListenerInternal__P4933,
    "emit": jacdac_EventSource_emit__P3578,
    "hasListener": jacdac_EventSource_hasListener__P3579,
    "listenerCount": jacdac_EventSource_listenerCount__P3580,
    "subscribe": jacdac_EventSource_subscribe__P3581,
  },
});
const jacdac_OutPipe__C2955_VT = mkVTable({
  name: "OutPipe",
  numFields: 3,
  classNo: 66,
  lastSubtypeNo: 66,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "nextCnt": null,
    "set/nextCnt": null,
    "deviceId": null,
    "set/deviceId": null,
    "port": null,
    "set/port": null,
    "from": jacdac_OutPipe_from__P4967,
    "respondForEach": jacdac_OutPipe_respondForEach__P2957,
    "writeEx": jacdac_OutPipe_writeEx__P4968,
    "write": jacdac_OutPipe_write__P2959,
    "writeAndClose": jacdac_OutPipe_writeAndClose__P2960,
    "close": jacdac_OutPipe_close__P2961,
  },
});
const jacdac_AckAwaiter__C4893_VT = mkVTable({
  name: "AckAwaiter",
  numFields: 6,
  classNo: 67,
  lastSubtypeNo: 67,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "nextRetry": null,
    "set/nextRetry": null,
    "numTries": null,
    "set/numTries": null,
    "crc": null,
    "set/crc": null,
    "eventId": null,
    "set/eventId": null,
    "pkt": null,
    "set/pkt": null,
    "srcId": null,
    "set/srcId": null,
  },
});

const breakpoints = setupDebugger(1, ["microbit___4646","VALUE_CHANGE___4645","EVENT_TONE___4644","buttonIndex___4661","buttonDownIcons___4658","buttonHoldIcons___4659","buttonNotes___4660","EVENT_A___4641","EVENT_B___4642","EVENT_AB___4643","pattern___4663","nextTone___5383","nextToneOptions___5384","numbersToShow___5389","factories___5408","playDeviceCountScheduled___5394","lastDeviceCount___5392"])

return _main___P4664
})
